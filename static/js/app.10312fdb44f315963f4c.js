webpackJsonp([1],{"+vOg":function(e,t,a){"use strict";t.a=function(e){var t=parseInt(e)+1+"";return"0".repeat(4-t.length)+t},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Y-M-D";return new p.a(function(t,a){var i=new Date,s=i.getFullYear(),n=i.getMonth()+1,o=i.getDate(),r=e.indexOf("Y")>-1,l=e.indexOf("M")>-1,c=e.indexOf("D")>-1,u=((r?s:" ")+"-"+(l?n:" ")+"-"+(c?"01":"")).replace(/[-\s]{2}/,"").replace(/((^\s+-)|(\s+-$)|(-$))/,""),d=((r?s:" ")+"-"+(l?n:" ")+"-"+(c?o:"")).replace(/[-\s]{2}/,"").replace(/((^\s+-)|(\s+-$)|(-$))/,""),p=i.getHours(),h=i.getMinutes(),_=i.getSeconds(),m=e.indexOf("h")>-1,f=e.indexOf("m")>-1,v=e.indexOf("s")>-1,g=((m?"00":" ")+":"+(f?"00":" ")+":"+(v?"00":"")).replace(/[:\s]{2}/,"").replace(/((^\s+:)|(\s+:$))/,""),y=((m?p:" ")+":"+(f?h:" ")+":"+(v?_:"")).replace(/[:\s]{2}/,"").replace(/((^\s+:)|(\s+:$))/,""),b=u+(g&&u?" "+g:g),k=d+(y&&d?" "+y:y);b&&k?t({start:b,end:k}):a({start:"0000-10-17",end:"9999-10-17"})})},t.c=function(){var e=window.location.href.replace("#/",""),t=e.substring(e.indexOf("?")+1,e.length);return _.a.parse(t)},t.h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_this";if(console.log(this),!e)return void console.error("vm is required!");try{var i=!0,s=!1,n=void 0;try{for(var r,c=o()(["pageUrl","pageMain"]);!(i=(r=c.next()).done);i=!0){var d=r.value;if(!t[d])return void console.error("option => "+d+" is required!")}}catch(e){s=!0,n=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw n}}var p=t.pageParams,h=t.pageUrl,_=t.pageName,f=t.pageMain;p?"object"===(void 0===p?"undefined":u()(p))&&(p=l()(p)):p="";var v=p?h+"?queryParams="+p:h;"_new"===a&&t.pageMain?(t.pageMain,e.$router.push(v),e.$store.commit("SAVE_TAB_LABELS",{path:h,name:_,index:h,main:f,labelIndex:function(e){for(var t=0;t<m.a.state.tabLabel.length;t++)if(m.a.state.tabLabel[t].path===e)return t;return-1}(f)+1}),e.$store.commit("SAVE_NAV_INDEX",h)):(e.$store.commit("SAVE_PAGE_EDIT_STATE",{key:f,path:v}),e.$router.push(v))}catch(e){console.log(e)}},t.l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=m.a.getters;if(1===a.tabLabel.length)return;for(var i=0;i<a.tabLabel.length;i++)if(a.tabLabel[i].path===t.path){if(a.tabLabel[i].index===a.navIndex)if(i>0){var s=a.tabLabel[i-1].path;t.refresh&&(s+="?queryParams=1"),e.$router.push(s),e.$store.commit("SAVE_NAV_INDEX",a.tabLabel[i-1].index)}else{var n=a.tabLabel[i+1].path;t.refresh&&(n+="?queryParams=1"),e.$router.push(n),e.$store.commit("SAVE_NAV_INDEX",a.tabLabel[i+1].index)}e.$store.commit("SAVE_TAB_LABELS",{path:t.path,isRemove:1,isRemoveInx:i,main:t.main});break}},t.b=function(e,t,a){var i=[];return a.forEach(function(e){i.push({current_status:e.status_code,supplier_ids:e.supplier_id})}),{sup_status:e,handle_reason:t,handle_sup_status:l()(i)}},t.g=function(e,t,a){return Math.ceil(e*{g:{kg:.001,mg:1e3,lb:.0022046,oz:.035274},kg:{g:1e3,mg:1e6,lb:2.2046226,oz:35.2739619},mg:{g:.001,kg:1e-6,lb:22e-7,oz:353e-7},lb:{g:453.59237,kg:.4535924,mg:453592.37,oz:16},oz:{g:28.3495231,kg:.0283495,mg:28349.523125,lb:.0625}}[t][a]*1e6)/1e6},t.e=function(e,t,a){return Math.ceil(e*{cm:{mm:10,m:.01,km:1e-5,in:.3937008,ft:.0328084,yd:.0109361},mm:{cm:.1,m:.001,km:1e-5*.1,in:.0393701,ft:.0032808,yd:.0010936},m:{cm:100,mm:1e3,km:.001,in:39.3700787,ft:3.2808399,yd:1.0936133},km:{cm:1e5,mm:1e6,m:1e3,in:39370.0787,ft:3280.8399,yd:1093.6133},in:{cm:2.54,mm:25.4,m:.0254,km:254e-7,ft:.0833333,yd:.0277778},ft:{cm:30.48,mm:304.8,m:.3048,km:3048e-7,in:12,yd:.3333333},yd:{cm:91.44,mm:914.4,m:.9144,km:9144e-7,in:36,ft:3}}[t][a]*1e6)/1e6},t.i=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=new Image;s.src=e,s.onload=function(){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=s.width,e.height=s.height,n.drawImage(s,0,0,e.width,e.height),e.toBlob(function(e){var i=new FileReader;i.onloadend=function(e){for(var i=e.target.result,s=i.split(","),n=s[0].match(/:(.*?);/)[1],o=atob(s[1]),r=o.length,l=new Uint8Array(r);r--;)l[r]=o.charCodeAt(r);a(new File([l],t,{type:n}))},i.readAsDataURL(e)},"image/jpeg",i)}},t.f=function(e,t,a){return t?e*{day:{hours:24,minutes:1440,seconds:86400},hours:{minutes:60,seconds:3600},minutes:{seconds:60}}[t][a]:""},t.k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"主观打印：",i=arguments[3];window.console[t](a,e),"function"==typeof i&&i();return null},t.j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!Array.isArray(t)&&"string"!=typeof t)throw new Error("isValidData方法的第二个参数需为数组或字符串！");var a=Array.isArray(t)?t:t.split(/,|，/g);if(0===a.length)return void 0!==e&&s()(e).length>0;var i=!0,n=a.reduce(function(e,t){return t in e?e[t]:(i=!1,e)},e);return i?s()(n).length>0:i};var i=a("W3Iv"),s=a.n(i),n=a("BO1k"),o=a.n(n),r=a("mvHQ"),l=a.n(r),c=a("pFYg"),u=a.n(c),d=a("//Fk"),p=a.n(d),h=(a("VKKs"),a("vgQg"),a("mw3O")),_=a.n(h),m=a("IcnI");Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}},"/Jji":function(e,t){},"/RC0":function(e,t){},"0C/z":function(e,t){},"0P/e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAYAAAB1PADUAAAK+UlEQVR4nO2dXY8cRxWG39M9O+s4ttdx4iQOcUICRCIRkETiIxKKFCQkuIEL/gDXCIl/wDU/AbiAGxD8A4QEEhLiM3ABjiKcKxJHXidyQsja2ezMdB0uuqr6VM/YEPZ4d2ryPpY1M/1R0zv97KnTp6pnRVUVhDjRHPcBkM2CQhFXKBRxhUIRVygUcYVCEVcoFHGFQhFXKBRxhUIRVygUcYVCEVcoFHGFQhFXKBRxhUIRVygUcYVCEVcoFHGFQhFXKBRxhUIRVygUcYVCEVcoFHGFQhFXKBRxhUIRVygUcYVCEVcoFHGFQhFXKBRxhUIRVygUcYVCEVcoFHGFQhFXKNQH5nbfws1v6KZQHwgFbvu17nJkR7KuTI77AOpCAKE0t6N+oRb7mL/6C2g3AyCQUZRQiXHDBBZF70X/RyTSHgqIoH3w82hOP3pEB795SM1/mkMX72F+6Yfo3rkMaABEoKoQkSxQrwyg0CXZEJcDGPY5cQ7TT34T7T1PHNnPsUlUnUMtXv0luut/g2qAIskjACS/7hmWjR8lRTUVKBR68ypml3+KcHP3iH+azaDqLm9+5VdAOwWkRXv/M2hOXgC0i2uH2LQ6WR6t14DF1d/03eDeFaDbP5KfYdOoWiiBQLWDbN+DrYdfQLPz8UO1pwdvo7v2Z4TuALr/NnDmcacj/fBQdZenppODhkO315x7CtAA2TqBxeu/hs5vHrrNDxtVRygM12c5uT4M7bknMQMA2UJ4+x+YXf4ZJg99Ec3JBw5ZLlCgmUK27j70Ma47VQuVzrEIIA7XqjI9g+1nvoODF78HbJ1Gd/W36N56Cc3ph/OVYtwSiFeNCqARICjysv7ZQAOFNlM0d53H5OKXICcfPPzBrilVCwWNJy4Vlhxozz2F6ae+hdnLP4JMtqHzPYS3Xi7zegUgClGBiiKYlelZqnFBgBD36RCwePMvOPG570K2z7oc77pRtVDpOm05JhwGweSh59CeewKzV34OvbELoIN2c7NFerchSo11LvwTAcIBpJsBB/9Gd+1PmDzyZUCqTmFXUrVQw2kFfMfRBHLiPmx/+tuAdtD5Dejs3f+/uWaK7vrfMbv8EzTtNvS9XWzqQHLVQgnE16OVb9JCpjuQ6c6hmtHpGUgziXnY5kWmRNU/mULj4H9ZF19H9OBfgGz1g4trfqyHoeoIBaQANWRSa4tM1v0IXag6QqWEGPCpQ91JNP5LzzeVqoWqCZmeBZptAAqZnDzuw7lj1N3lmZx81dSUdWLywLPA7B0srv0BW499DZD2uA/pjlC3ULHn8K1D3SGkxeSRL/f1pw2m6i5Pof3Mk+M+EJKpOkL101cUEudjjtHZu+h2f4dw4ypUF5D4+6Omwg30Mzz7dmT1+tS3qpnheYv1iFOLcxdsqwTjdQBUOzR3nUd74Tk0d1/A2l+t/heqFgoYZmiO41S4uYvZSz+A7l+Hhvktcyxba7ct6m1FKx/jbv34ncQW8hRkK+Dy/gAQpMXijRex9fjXMbnwBdQsVdVdHpBOmEJCZxYGzC59H7p3BQjz2C2OLtmjh/1DqmYN2uXoJ7J8yS/DNqmtYi67LnfDdvw6tZn31wB9/zpmL/8YOr/h88EcE1ULNUywK29v0ptXEd67BjRbQJwvXkSodB416VhGjKJOpMMOw/xz8/4xOA7d71BqHaSJUc80m6QaFrQAOmjlc9mrFirHiNHZWuz+HuNbFPJzE0VsZLIy5W4pS1rOcyq6OzVFyxj1bDeHvNdwMKqa5RP0U2AEAnQBctf9Ph/NMVF1DiUST6TtT7TD4s2/QhTQPOtOhvvwFIUwojaht3FMipM+UEw8LsVT83ocjVQL763EogLVgObMxeqLnlVHKFUZTnicUx72rkAX+4CYdVDTHcWolE66xNmXkrZMUao86cAQvdLyQiwTIfuudNxt9th2i6gX5pg8+hWgqbvgWbVQOSXv9iEn7gUAdNf+CJnfBEYRZDiJGKJav0GRF9kkPSkzvlIbxIpNqMnBxORaGCfnpYiDVAoNc7Tnnqy+gl65UOnkN/2J0w5h7/Xl6cBJFikv2ZcGacXuYhPscvvUxel4OxFIvvd9iHS5BCFqWjc5XujQnn8asnXqUJ/FOlC9UAqFNBNAFWHvNYT9XcTbAuwFWlGqsnnPkIyX3ZaZHR5flZL2bZTLc1entt2ynJDeVyBZ8NDto33o+Y2YElz1T5AzJF1A2m2Ed1/rb9CUBikRT6STXeY8NgWP20GLZ3aKjG1rVaHU5ld5WUzI7VXh0FDsYpsJ2rMfo1DHTY5A7RRh/xrC3j+RhkF60eKdKSnnMQXJlLvYBDutG3KmoXA6RDUjzSgSQYbHLNdYPim7UA1ztA8+txHdHVB72QDof8u3ziBcv4Tu+iVo7P769aNuSkuJxkMrywl4maDnyrmO86tRYdN2rSOZilKEAGFxgPb800C7fUc+o6OmaqF6KRro+29ivvsGMI/lAhGoDidURqIgPsvDJcBSzWnleJ3ZbtX6Yru8PnZrMY8q9tUAmZ5Ce/qRO/5ZHRVVC5XrSvN9QHu5AOTcBCvkSFEid125wL069ynfq3xvW1ZYtb5vZ9T1xitBhQJhgcn9zwIbdNNn5TlUGvKQQSazLj2KxLzKSGJjSSJdeaVuq+juTHs53xJZknHp0UTB9Dp3t2EBOfN49dVxS9VC5ahgkuP+5fIlu5rxu1UlgPyY8p8i9TEVdhT1h7TByu5PzXYqWpQMVAOa6Vk0Zw/3FUTrRtVd3q3ynGIszYyvjetMuSpukuVifK0QpBz0LZ7fakJdXjAsy7lUCJCdi2g37Duoqo5QwCg/wijKYKj/qLnyy8MdRU41YK8C44K8PNUk7JVacRw6io72GLJV/SE2O48BTdW/00tULVTKeRI6rMjrbdJcRDEjAzBUrVO+BRjR1MqZqxLmTc3+tmu0ByRDNENQyPQUJg981ueDWCOqFsoWF22h0nY5w8zvvKAcVdHYkq0hrci17Gvb/eXXZnYnZFg/VPNtdxnQTHfQnLro+XGsBVULVXZ1t7raGhLpfrwOZT6T1yPLtqqNVUm/fb5ULB1NHS73E8i9T23EUMuYqjtwjd/4W161jafWxodRkt1HN5vS26RdikcZtTserhnaKxYU71XmULKR3R1Qe4RqT5r0Oo2hmROZrrhyWaFMjMsL/GHeFLI49s2ANGkvi5VqW3mT5TtaihIGBBAFmimaDaqOW6oWanLfZ6AaYC/Ni8gxGuqwspUnfShmWtT+0/LOP1sDy7lbFCwl4HbbNAyj3QKTh1/YyO4OqF2oT3wD0mz1t1DF5EjijZ+i/X+Nj0MGrv1fXggB0P65xMdUARXbliqgodchpO3R7xvbSO2sei52WVgA2zuYfvSrGMW/jaHqv/UCAFi8j8UbLyK88wrQbqcp4j1LRcZyeTmA2w/hAHFd7J3+F2xFfuk90+swB+6+gMlHnt+ooZYx9QtF1oqquzyyflAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKuUCjiCoUirlAo4gqFIq5QKOIKhSKu/Afx7BBHS1MNuAAAAABJRU5ErkJggg=="},"0WIC":function(e,t){},"0ddl":function(e,t){},"17Ni":function(e,t){},"1I2F":function(e,t,a){e.exports=a.p+"static/img/logo-img.f4ed5b3.png"},"1Jzs":function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({limit:20,offset:1,search_type:1},o.a.ajaxData,e);return n.a.getAjax("/design/History_image/image_list",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.getAjax("/design/History_image/spu_image_list",t)};var i=a("Dd8w"),s=a.n(i),n=a("gfkZ"),o=a("vgQg")},"1UlB":function(e,t,a){"use strict";t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/system/attribute/select_attribute_list",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/attribute/add_attribute",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/system/attribute/show_attribute",t)},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/attribute/update_attribute",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/attribute/delete_attribute",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},"1b8j":function(e,t){},"2jv6":function(e,t){},"2l1/":function(e,t){},"3c5H":function(e,t){},"3jHV":function(e,t,a){"use strict";t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({limit:20,offset:1},_.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new u.a(function(e){e({data:{status:2}})})}return h.a.getAjax("/product/Product_list/product_list",t)},t.c=function(){var e=p()({},_.a.ajaxData);return h.a.getAjax("/product/product/select_list",e)},t.l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.getAjax("/product/product/get_supplier_name",t)},t.i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.postAjax("/product/product/single_creation",t)},t.j=function(e){var t=!0,a=!1,i=void 0;try{for(var n,r=o()(s()(_.a.ajaxData));!(t=(n=r.next()).done);t=!0){var c=n.value,u=l()(c,2),d=u[0],p=u[1];e.append(d,p)}}catch(e){a=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw i}}return h.a.fileAjax("/product/product/spu_supplement",e)},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.postAjax("/product/Product/get_select_list",t)},t.k=function(e){var t=!0,a=!1,i=void 0;try{for(var n,r=o()(s()(_.a.ajaxData));!(t=(n=r.next()).done);t=!0){var c=n.value,u=l()(c,2),d=u[0],p=u[1];e.append(d,p)}}catch(e){a=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw i}}return h.a.fileAjax("/product/product/sku_supplement",e)},t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.getAjax("/product/product/read_save_data",t)},t.m=function(e){var t=!0,a=!1,i=void 0;try{for(var n,r=o()(s()(_.a.ajaxData));!(t=(n=r.next()).done);t=!0){var c=n.value,u=l()(c,2),d=u[0],p=u[1];e.append(d,p)}}catch(e){a=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw i}}return h.a.fileAjax("/product/product/relation_sku",e)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.postAjax("/product/product/batch_creation",t)},t.h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.getAjax("/product/product/read_single_data",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);switch(t.status){case 1:return h.a.postAjax("/product/Product_list/cancel_development",t);case 2:return h.a.postAjax("/product/Product_list/re_development",t);case 3:return h.a.postAjax("/product/Product_list/mark_anomaiy",t);case 4:return h.a.postAjax("/product/Product_list/to_examine",t)}},t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p()({},_.a.ajaxData,e);return h.a.getAjax("/product/product/query_stats",t)};var i=a("W3Iv"),s=a.n(i),n=a("BO1k"),o=a.n(n),r=a("d7EF"),l=a.n(r),c=a("//Fk"),u=a.n(c),d=a("Dd8w"),p=a.n(d),h=a("gfkZ"),_=a("vgQg")},"3nAY":function(e,t,a){"use strict";t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.getAjax("/product/scan_code/scan_codes",t)},t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/product/scan_code/upload_codes",t)},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/product/scan_code/mark_codes",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/product/scan_code/sure_submit_codes",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/product/scan_code/delete_codes",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.getAjax("/sample_control/sample_quality_control/get_box_info",t)};var i=a("Dd8w"),s=a.n(i),n=a("gfkZ"),o=a("vgQg")},"4qu5":function(e,t){},"4sZl":function(e,t,a){"use strict";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,list_type:5},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/product/Product_list/product_list",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/product/product_list/getFlow",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},"5+7i":function(e,t){},"5rK4":function(e,t){},"8snA":function(e,t,a){"use strict";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({limit:20,offset:1,search_type:1},o.a.ajaxData,e);return n.a.getAjax("/photo/product_list/product_list",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.getAjax("/photo/product_list/get_group_user",t)},t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.postAjax("/photo/product_list/spu_photo_complete",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.getAjax("/photo/product_list/spu_assign",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.getAjax("/photo/product_list/reject_reason_list",t)},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.postAjax("/photo/product_list/spu_operate_reject",t)};var i=a("Dd8w"),s=a.n(i),n=a("gfkZ"),o=a("vgQg")},"9H1a":function(e,t){},AEVJ:function(e,t){},Aqno:function(e,t){},"B+/L":function(e,t,a){"use strict";var i=a("Dd8w"),s=(a.n(i),a("Gu7T")),n=a.n(s),o=(a("IcnI"),[{name:"开发部",path:"",icon:"icon-kaifabu",children:[{name:"供应商开发",path:"",children:[{name:"创建供应商列表",path:"/supplier_create_list"},{name:"供应商禁用审核",path:"/supplier_disabled_audit"},{name:"合格供应商列表",path:"/supplier_qualified_list"},{name:"禁用供应商列表",path:"/supplier_disabled_list"},{name:"供应商创建记录",path:"/supplier_create_log"}]},{name:"商品开发",path:"",children:[{name:"商品资料创建",path:"/product_datum_create"},{name:"开发异常审核",path:"/dev_anomaly_audit"},{name:"取消开发列表",path:"/cancel_dev_list"},{name:"商品扫码关联",path:"/product_scan_relevance"}]},{name:"系统管理",path:"",children:[{name:"开发小组管理",path:"/dev_group_manage"},{name:"商品目录管理",path:"/product_catalogue_manage"},{name:"商品属性管理",path:"/product_attr_manage"}]}]},{name:"商品管理中心",icon:"icon-shangpinguanlizhongxin",path:"",children:[{name:"样品跟单模块",path:"",children:[{name:"样品采购下单",path:"/sample_purchase"},{name:"样品跟单管理",path:"/sample_track_manage"},{name:"样品跟单记录",path:"/sample_track_record"},{name:"样品跟单小组",path:"/sample_group_manage"}]},{name:"商品管理模块",path:"",children:[{name:"商品开发列表",path:"/product_dev_list"}]}]},{name:"品控部",icon:"icon-pinkong",path:"",children:[{name:"样品质量管理",path:"",children:[{name:"样品扫码送样",path:"/sample_scan"},{name:"样品待检列表",path:"/sample_inspect_list"},{name:"样品审核列表",path:"/sample_audit_list"},{name:"样品异常记录",path:"/sample_abnormal_record"},{name:"TQE审核记录",path:"/audit_record"},{name:"基础资料维护",path:"/basic_data_maintain"}]}]},{name:"文案部",icon:"icon-wenan",path:"",children:[{name:"文案编辑模块",path:"",children:[{name:"文案编辑列表",path:"/copy_edit_list"},{name:"文案编辑记录",path:"/copy_edit_record"},{name:"文案小组管理",path:"/copy_group_manage"},{name:"驳回信息维护",path:"/rejected_info_maintain"}]}]},{name:"设计部",icon:"icon-sheji",path:"",children:[{name:"摄影管理",path:"",children:[{name:"摄影样品扫码",path:"/photography_sample_scan"},{name:"摄影商品列表",path:"/photography_goods_list"},{name:"摄影驳回维护",path:"/photography_rejected_maintain"},{name:"摄影小组管理",path:"/photography_group_manage"}]},{name:"美工管理",path:"",children:[{name:"商品修图列表",path:"/goods_modification_list"},{name:"图片美工上传",path:"/art_picture_upload"},{name:"美工历史图片",path:"/art_history_img"},{name:"美工驳回维护",path:"/art_rejected_maintain"},{name:"美工小组管理",path:"/art_group_manage"}]}]}]),r={navJumpFn:function(e){var t=this.getRouteConfig(),a=e.split("-"),i={};if(e.indexOf("/")>-1)return{path:e,name:""};switch(a.length){case 1:i=t[a[0]-1];break;case 2:i=t[a[0]-1].children[a[1]-1];break;case 3:i=t[a[0]-1].children[a[1]-1].children[a[2]-1];break;default:return{path:e}}return i},getRouteIndex:function(e){var t=function t(a){for(var i=0;i<a.length;i++){if(a[i].path===e)return{isTrue:1,index:i+1};if(a[i].children&&a[i].children.length){var s=t(a[i].children);if(s&&s.isTrue)return{isTrue:1,index:i+1+"-"+s.index}}}}(this.getRouteConfig());return t&&t.isTrue&&t.index},getRouteConfig:function(){try{var e=[].concat(n()(o));return e}catch(e){console.log(e)}return o}};t.a=r},BNQO:function(e,t){},BPd3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAc0AAAFUBAMAAAC0AnqlAAAAMFBMVEX///8nJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYnJjYMJptVAAAAD3RSTlMAIlWIqrtmd8zdM5nuRBFL5tE3AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAASAAAAEgARslrPgAAD8JJREFUeNrdnd2Lo1cdxzNb3eroZIKCFVrY6N6pMI/WLa3QZqBYEMSNlvVKTURvtOJEqDeKJuKF4EUz+FLBIgkWaoWFjVe+oM1U0IKlm8Be9EaaULUoVia6O+1kO+3jJpnJ5OW8/J5zvt+TnXz/gN/3fJ7z5Hd+z8l5SaVuYq2c/eiFC3dlFt0Mtm6rxgP1P7LohnB1e3ykH9YX3RaibmmNOZe5S1eq8aSWtksvxtNa0i49Hc9pKbu0M8+5jF262opVWrouvRirtWRdqunOYZdmFt04oC7Geu1/bdGtg8nQnQN9L7PoBoL0r9isJenSdDW2aSm69M1WzOXo0qaAcwm69BYR5snv0i0h5wnvUsugsjRd+rIc8yR3qWBQWYoufVsyzMV06cp7X/ANUU7MGe9/Oyzl2sO1OP6sX4zV5Jg39EA3HOW77h55Fr2iJMtCY137aiDKKx8/snzdK07BjTNMl65+oXps2PeJJK2FFtGl/znXmjIsesTacOckd+kTv5m123QPttJywAvQpemzhXm3Hfd4ki+y8F26+s2ayuu/7hFzvpyELn3HOY2VO+eaNya8S5//mNZo2zmo4+A526WfR0GuqH6WYzWc4xaEJDY9lkVQrn24ZXQpuga+FYQZxwf+0/ZH5Z1eGdfQl2CccfxpL8j0cXmnlXM9lPTL06xH3SlXH5K05DXX8B41n0o/cGzGbHmn0yuunB0sZ/xJl0b84rfS8K7DZ1r2GBMoStwE4zgyo21HzjehMeP9eqIGrKnLO9hTPNQWnDN+JoG9trzTKeuG6fmpotZTUndDeadT143T+1NFpX1RY1YmpwnEod0wAZ8qKv3Fbmwr7zS66obpNs9n1UHd4vuEtbzT6H9unP/kcJo7NH3lM86B37iZXltjh8rKO50qTpiQL2yldB36YtJxZEaRE6dt5YW7DroqP3l5p1PWibNJ44wfUVDav7qs6iZmvKFTPMz42pzZPYCobsPnHUTOuDTt9c4WIqjb8Jljcl6fsrrdP+BATsMn/pNsUlOv2L9BQZ2GT9wEmFLRhBPqiVZcON/C5Tz+8k+fJzw7uXa5nHtjo3fDYmZdODtczrh96JNkaZJFXRfOMplz+9AHN3y5DZ85MufRUoIqLOJNOHzG4x9o8qVJWrl9fbI54zo6Dbh9fdI5G0ObGi5gxYkT+KDV2hm4IP/XiJw4z7A5hz+ntwMDZp0438rmHP63tQUM6ISJ/qdsXgfgn+eeGydvduhIdezMqePkLWxhglYl7Evjuoaxw+ZsYJNAz5ETWKmoVcGufsg7cmKXJijUw34sRI6c0Iet4TwPDNd25ezwOVvAcK6YfutuRZwrwGiOw+cNrSGftpITORXuOnze0JNszpth+LyhdIHMiVzO0nPnJA+hPej6h7wHJ2NdzSTnOjBa5MNJTUVYzrYPJzUV9aAjtBcmNRVVkJzuw+dIxFSUR/78PYbPkYBtmVGEnFP020GXYqaiIpKz58vJS0V1JGfem5OWiqBTM5E3JysV7UE52/6cpFR0FcoJwCSloleQnNf8KVOkVPQ6cpb6VQgnJRX1UilcsOvejEMxUlEFybmD4WSkogaScxPESUhFJSRnCcRJSEVtJGcdxYlPRSkg5wEKE5+K+khOzPA50haW8xqSEzN8jgRORVeRnKDhcyRsKnodybmD5MSmojeQnJtITmwq2k4B1/aVoJzQVJRPAXeO1LGcyFQUpXBr64DD50jAVJRN4f5JRg6fQwFTUSaFW5vuPXk7J1gqGr5qqGU1eE5YKhr+T4D6/9N7knpeqFQ07ALU/9mO+1uNAqWi4QkdqPUJ2wROUCoaVqSo9SYNAicoFfWGsVoYzhKDE5OK8sNQBQxnm8IJSUXRMFQOw0nBxKSi4jDSBgTT9RgMm34JaFt7GOkShJNQJgwE2fk2CrUO4XQ+RcqsrwCadviqYRZKQWdNxjrt37DxgWWYgmiHwplDNO1V4DMD/GevEKZMOKy8MZtHIgImaDd17zAcJFiWwAk6q6dyGK6KCFbEY65CGnY8EdlEBGvgOS/6t2qo6DBeGRFsB455qgXibB8G7CCCOR6XZdAWCHN8BMA6Ipjz6aE6wdbtj89vxcyEZcCcTRTneMIVMxPWwGL+HYV5/IWBeUM8TlNXCLixbpw5MAWR72LqaeEOXDnugDQmXgmICTxwZWLEwwRFfpn9FYc58YVRgMSzHmUpF+YT6lDROGwOE1BwNqlQZSRndhx2AxSxBMLELh86fs3OgCLutSGY6SaU8zgw7OCPPuRSEOwRsRPjHW7L4MEHAd1ZhXJOTLgit7p+ypsT9dl5qIkJV2ga/0nXDxNZIgw0Maxjz4Z+re7FuYXFnNokhY28V/TAhL5bA1UmghewoX2yURPN2WAG/4MrJn6zQ2kiehke/dGuEybhPJf2RPgOPHr8bMaFk3CK/GT4dXz4eC+bHBM9psQz/z9Tzp/t35eYE1wiDDS17BB/xctQv0uIebqFb8PU/+ysc+US3lC0RWjC1HI81rlyB+0kmJSnPbUcDzQTNq9EqxaajBZsT1nUWKBFOeY/KA3YnPI4z+KUTwKSjnyLpkxyLM5+V8qJnMqcUHbKZIPFKV63wEr5mSmXMzRO4TJr1gERM7swkEfgTku4DYL01s7+60O5PGykjASTdgDu1UA+sv9FV6os95nlBPDZimNVBJwfoLnPjGukW9IG6i3wrZ135znZEy5qPZRK+RmvAs3Jvp0ZscZWp2jGK0dzsi60Rt3ko1RxxmxrYZzMt3Z+U2pnYZzMt3Z+F8Y6zcnyCYpbJ6TS3C4M3k1M5nVFqzUq59xqPN5RiJGRs0zFnE/2tBvE1Nc1hnlrFYM37YYFYxpaq5E5e7OOtJmwbRNnjoypKK5rJKeiAZMz8zWpxpzneY6RaXsd+yz1WJUEcxwjUxVPspxUe860wzHK6zGBS0+16s657nKMMlpM2HYGg/rztpyZMMPugBwfUzUJx5kJe3qhb61q8ObMXUQ6TMZfnfNSZEHKzc7aoi/dDIGp+oZAXk8ylvabjHw7x5F2FNYMn+2FvrXqUa1A8MlqOJthMJXpIYe30W1p+VIgTOVz3sLbaIo+fvl+pIzC/RLepqHOtdVgnCr7dbxNRslJvhR8QsrfDb4g0kwl5IJxKhuAnwm7rMTk34E5lnL4xs+ERakwz1Or60Ges2apCW+JwJx6ygagXTRFXyccZ17ZgCrYpbLoNKQZ186DXdoL5yyFaICu6AvIqX7SHazJ9cVzqhuwizVpaDg3gmFq5o6xl5IfZDScZ4JxaibhsIvktf8fEZeeyZqAnQm7rOMkLsmakeazEDsTVtJx8u8+P5LmpFroTFhfi0m/QnqsbU0DWkAPw+qLl0NxbgZ4ofJ6zmAfLJGmATmgR1vPSVwzKWvDFs7CuIq6Gogzw08QxkVDwOdpkvaCgnWcR8PEuRuGU3sgEvC4iK6JM1Ai0lZkuILIvHYx0EyY9qQ9XEV22cjJ2802JW2OwD3nopmzHISzp/VHOfTNmIESUV7rXwU52Jb+h0lEkda/SX+S6B+ISfofTxnk0LZwhklEda19B2NgP1IU9UCNoucH+wmUICOjDOdDgmbCKlbOEInIUKuAZsJKVs4QiciwDwpU+NWtnCESkWFwwzxmyYVtZT5nT++OWSQvOSB2l89ZMdi3EAaSG0oCJKKGwb6AMJCcPB4gEZUM9jmEgegkgRqds21w30AYiA6qLtM5uwb3MwiDnoRzl41p/DZcD8ZJT0TGmVXITJiIk56IjFkfUhCJOOmJyJgNITNhspNbymRO4/WVkL8+ZGdl7ZI5d4zuCAfZzR3sRJQ3uhcADrbZvpHYiSgyujcRFm0RaI3LmTWalxEWeREnxEqvjNG8g7CQJdxdKqblI3gd4tGVcHITkeUjGLNG/xEJJzcRWT6CMTNh+6IOrTE5LYM4aCbsOxLOMpPTcg4k6GUSXcWyy+Tsmb1Rx0VIrmKhJqJ8mB/NQcnOSU1EkcW8APLZ69pBQc9UKdtzzqGM/mjnLBM52xbvDZjTJ6ycu0ROm/cZmFPf9kiZich6azlwV9RV20+UmIis38DI1es/tZnVaJzWwxGhi+Qji1mZxmn9ZIKu0t+vm812aZxv2Dixi4Atrw8vEW3bOMG7I80XH/AS0aaVswD1s9R/NRZnZOXMYQ2vdU1mZRZn28qJtjbWf4Trc0bqWjk7aMunDGaE+3OGEiwFWUd7Guu/DQ6nYCkI/rQKU/1HOoFbsBSEMKZ932BXoHAKloIwDk6N9HaczWaCJRKMsdtQ/3E2Ye3YOSkHpz6j99ti+OXtnJwaRV//UWrcSMB5nmF8UNS+P1WCXVHAmWNwGuq/OwhudQFnh8Kpr/8YByQKMGnnG2hvG8zBrSQrY2nnA2nrv2AHdrFtLe7pGtpJtLKHd+mLrv67hDYSLRygHJw6UqR2hJdgPQkn5eDUkfYzassc2Kci4SReIaSr/9ApoSHiLBBBP6d0RNdEJRFnjsh5kFVagovctohzi8ipq/+wniJM8nkyzyk9VwpAC+ufgiOtUzk19d8aEFRUDtHPbdXUf6d+D3OQbBRK8VcAax53+osoA+ufZSPRrhA6kq7+exHUpZsyTv7er0hnfaWGCF+UcTILopH2Mjrr1Xv8o8uWxaZCnINkmP+7zdtdtg8hRbxM+1iGxUUrX/eMLbz5OMhJn5r6b6SX/B50XsrZ4XOa//9NP9TyCN2Wcu4G4Ix/ZmyCR9UgmgQbCntwqk73mRvhPMSIf56BTjS1bVtyHWI2xZzE648nZW2H0xAjHj2pM2ETEnw9rTycPKz92uPj8EE4RV9PyYcY+WuLPThVq6dFTUm/P1ljNJcQqFUIgGmsFCaVbIi5Low6VC4A5q/kzXm8Jo9bTMJ5iU3Zv7+dpD2rd0sDy/ZMH4l8pcbehzKJmpOSDzFRoqjYE9Zn9Ng3kkIOJBtixJ9kI/GOPj948AUXyoEkQ0wxYcwWh3L/rrorZUoyxPw5acgmg/JH93pADmUZYvqJn+IlPOWD7/GlHMg4xNh3QM0K/cXS/3XiR62RYYhJ/Naipzb/dG8XRDmQboh5zcWkgKP87peBkAOph5i9tkusDggyYeEjlGKIccMEVQoOhY9Mc0PMs3W3QCstF65puRU+Qk0PMQ84xyl7QnoUPkI9Xj3yerDtHsXvT1C/wkeqn9957sKFO7+V8YmR9nhx/QufgOq4UmIKn2By+7cXV/gEUzM5JbbwCaTEyxTghU8gJepQTuETRAk6lFb4BFFOSEktfALodEsAyS98+HrSShmm8KHL8uaeqMLHpLWqgfKEFT5G3ar7iZ7AwseovylBT2ThY9ZLtTnKk1r4mLU6PTl8ggsfm84WlqTwser5c4PE++P737fohrjr/4aDR9iZg9uzAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTA1LTE4VDIxOjAyOjAzKzA4OjAwDuYjngAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0wNS0xOFQyMTowMjowMyswODowMH+7myIAAAAfdEVYdHBzOkhpUmVzQm91bmRpbmdCb3gANDYxeDM0MCswKzALmONoAAAAHHRFWHRwczpMZXZlbABBZG9iZS0zLjAgRVBTRi0zLjAKm3C74wAAAABJRU5ErkJggg=="},BvfB:function(e,t){},Ch2X:function(e,t){},DFfu:function(e,t){},DOQD:function(e,t,a){"use strict";t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,search_type:4},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/sample/Sample_order/select_sample_order_list",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/sample/Sample_order/confirm_sample_spu",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/sample/Sample_order/send_back_sample_spu",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/sample/Sample_order/cancel_sample_spu",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/sample/Sample_order/get_ali_logistics_info",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},Dscj:function(e,t){},EjSw:function(e,t){},Ghme:function(e,t){},HNp7:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__=__webpack_require__("Gu7T"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__=__webpack_require__("BO1k"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_values__=__webpack_require__("gRE1"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_values___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_values__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys__=__webpack_require__("fZjL"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_7_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__=__webpack_require__("3nAY"),__WEBPACK_IMPORTED_MODULE_9__services__=__webpack_require__("+vOg");__webpack_exports__.a={name:"ProductScanRelevance",data:function(){return{thisVm:{},dialogTableVisible:!1,isRelevance:!0,queryData:{user_id:"",department:2,handle_type:1,list_type:"1"},moduleTypeList:[{label:"箱子&SPU",value:"1"},{label:"台车&箱子",value:"2"},{label:"台车&SPU",value:"3"},{label:"SPU",value:"4"}],tableData:{boxSPUData:[],boxSPUKey:[],boxSPUProps:[],trolleyBoxData:[],trolleyBoxKey:[],trolleyBoxProps:[],trolleySPUData:[],trolleySPUKey:[],trolleySPUProps:[],SPUData:[],SPUKey:[],SPUProps:[],tableWidth:[]},cacheList:{boxSPUData:[],trolleyBoxData:[],trolleySPUData:[],SPUData:[]},saveCheckInfo:[],detailData:[],detailKey:[],detailWidth:[],detailProps:[],activeRow:[],activeStatus:!1}},computed:__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_7_vuex__.c)(["queryParamsInfo","productScanListInfo"])),methods:__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_7_vuex__.b)(["SaveProductCancelListInfo"]),{submitRemark:function(e){var t=this,a={};switch(this.queryData.list_type){case"2":a={trollery_id:e.trollery_id,box_id:e.box_id};break;case"4":a={spu:e.spu};break;default:a={box_id:e.box_id,spu:e.spu}}var i=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default()(a),s=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_values___default()(a);for(var n in s)if(void 0===s[n]||!s[n])return void this.$message.warning(i[n]+"不能为空");a.remark=e.remark;var o=[a],r={handle_type:this.queryData.list_type,scan_type:1,mark_data:o};Object(__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__.e)(r).then(function(e){e.data.status&&t.$message.success("备注成功!")})},rowClassName:function(e){e.row;var t=e.rowIndex,a=this.activeRow.find(function(e){return e===t});return t===a?"active-row":""},deleteScan:function(){var e=this,t=[];switch(this.queryData.list_type){case"1":this.saveCheckInfo.forEach(function(e){t.push({box_id:e.box_id,spu:e.spu})});break;case"2":this.saveCheckInfo.forEach(function(e){t.push({trollery_id:e.trollery_id,box_id:e.box_id})});break;case"3":this.saveCheckInfo.forEach(function(e){t.push({box_id:e.box_id,spu:e.spu})});break;case"4":this.saveCheckInfo.forEach(function(e){t.push({spu:e.spu})})}var a={handle_type:this.queryData.list_type,scan_type:1,delete_data:t};Object(__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__.a)(a).then(function(t){var a=t.data;a.errMsg?e.$message.error(a.errMsg):(e.$message.success("删除成功!"),e.handleQueryInfo())})},relevanceScan:function(){var e=this,t={handle_type:this.queryData.list_type,scan_type:1};Object(__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__.d)(t).then(function(t){var a=t.data;a.errMsg?e.$message.error(a.errMsg):(e.activeStatus=!0,e.handleQueryInfo())})},submitScan:function(){var e={handle_type:this.queryData.list_type,scan_type:1};Object(__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__.f)(e).then(function(e){var t=e.data;console.log(t,"submit")})},showDetail:function(e){var t=this;if(e){this.dialogTableVisible=!0;var a=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends___default()({box_id:e},this.queryData);Object(__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__.b)(a).then(function(e){var a=e.data;t.detailData=a.data.value,t.detailProps=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default()(a.data.key),t.detailKey=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_values___default()(a.data.key)})}},handleUserInfo:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_scan",value:__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(this.queryData)})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t)}),e},handleScanInfo:function(){var e={code:this.queryData.code};this.handleQueryInfo(e)},handleQueryInfo:function handleQueryInfo(){var _this6=this,params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_this=this,obj=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_extends___default()({handle_type:this.queryData.list_type,scan_type:1},params);function handleActiveRow(e){var t=!0,a=!1,i=void 0;try{for(var s,n=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(e);!(t=(s=n.next()).done);t=!0){var o=s.value;o.is_complete&&_this.activeRow.push(parseInt(o.num)-1)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}}if(this.$set(this.queryData,"code",""),this.activeStatus){switch(this.queryData.list_type){case"1":handleActiveRow(this.tableData.boxSPUData);break;case"2":handleActiveRow(this.tableData.trolleyBoxData);break;case"3":handleActiveRow(this.tableData.trolleySPUData);break;case"4":handleActiveRow(this.tableData.SPUData)}setTimeout(function(){_this6.activeRow=[],getProduct()},500)}else getProduct();function getProduct(){Object(__WEBPACK_IMPORTED_MODULE_8__api_dev_department_product_development_product_scan_relevance__.c)(obj).then(function(_ref7){var data=_ref7.data;if(data.errorMess)_this.$message({message:data.errorMess,type:"warning"});else if(data.status){data.list.reverse();var newList=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()([],data.list);if(obj.code){var num=0;for(var item in data.list)data.list[item].is_complete||(newList.splice(item,1),newList.unshift(data.list[item]),_this.activeRow.push(num),num++);setTimeout(function(){_this.activeRow=[]},500)}for(var i in newList){var n=eval(parseInt(i)+1);newList[i]=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({num:n},newList[i])}_this.handleQueryInfoCallBack(newList),_this.activeStatus=!1}else _this.$message.warning(data.errMsg?data.errMsg:"操作失败")})}},handleQueryInfoCallBack:function(e){if(e.length<=0)switch(this.queryData.list_type){case"1":this.tableData.boxSPUData=[],this.cacheList.boxSPUData=[];break;case"2":this.tableData.trolleyBoxData=[],this.cacheList.trolleyBoxData=[];break;case"3":this.tableData.trolleySPUData=[],this.cacheList.trolleySPUData=[];case"4":this.tableData.SPUData=[],this.cacheList.SPUData=[]}else{switch(this.queryData.list_type){case"1":this.tableData.boxSPUData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e)),this.tableData.boxSPUKey=["编号","箱号","商品SPU","商品名称","商品目录","样品数量","送样时间","送样人","关联SKU","备注说明"],this.tableData.boxSPUProps=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default()(e[0]),this.cacheList.boxSPUData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e));break;case"2":this.tableData.trolleyBoxData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e)),this.tableData.trolleyBoxKey=["编号","商品台车","商品箱号","商品目录","商品数量","送样时间","送样人","备注说明"],this.tableData.trolleyBoxProps=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default()(e[0]),this.cacheList.trolleyBoxData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e));break;case"3":this.tableData.trolleySPUData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e)),this.tableData.trolleySPUKey=["编号","商品台车","商品SPU","商品名称","商品目录","样品数量","送样时间","送样人","关联SKU","备注说明"],this.tableData.trolleySPUProps=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default()(e[0]),this.cacheList.trolleySPUData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e));break;case"4":this.tableData.SPUData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e)),this.tableData.SPUKey=["编号","商品SPU","商品名称","商品目录","样品数量","送样时间","送样人","关联SKU","备注说明"],this.tableData.SPUProps=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_keys___default()(e[0]),this.cacheList.SPUData=[].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(e))}this.SaveProductCancelListInfo(this.cacheList)}},handleQueryListInfo:function(){var e=this,t=function(t){Object(__WEBPACK_IMPORTED_MODULE_9__services__.j)(t)?e.handleQueryInfoCallBack(t):e.handleQueryInfo()};switch(this.queryData.list_type){case"1":t(this.cacheList.boxSPUData);break;case"2":t(this.cacheList.trolleyBoxData);break;case"3":t(this.cacheList.trolleySPUData);break;case"4":t(this.cacheList.SPUData)}},handleToggleTableInfo:function(e){this.queryData.list_type=e,this.handleQueryInfo()}}),created:function(){Object(__WEBPACK_IMPORTED_MODULE_9__services__.j)(this.productScanListInfo)?(this.cacheList=this.productScanListInfo,this.handleQueryListInfo()):this.handleQueryInfo(),this.detailWidth[0]="90px",this.detailWidth[4]="90px",this.queryParamsInfo.sample_scan&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_scan))}}},HUbo:function(e,t){},HYWi:function(e,t){},I758:function(e,t){},IcnI:function(e,t,a){"use strict";var i=a("//Fk"),s=a.n(i),n=a("bOdI"),o=a.n(n),r=a("Dd8w"),l=a.n(r),c=a("gfkZ"),u=a("vgQg");var d,p,h,_={state:{qualityControlGroupInfo:{}},mutations:o()({},"SAVE_QUALITY_CONTROL_GROUP_INFO",function(e,t){e.qualityControlGroupInfo=t}),actions:{GetQualityControlGroupInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,group_type:2},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/system/group/get_group_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_QUALITY_CONTROL_GROUP_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},m={loginInfo:function(e){return e.loginInfo},systemId:function(e){return e.systemId},showLoading:function(e){return e.showLoading},buttonList:function(e){return e.buttonList},queryParamsInfo:function(e){return e.queryParamsInfo},permitPath:function(e){return e.permitPath},permitResource:function(e){return e.permitResource},navIndex:function(e){return e.navIndex},tabLabel:function(e){return e.tabLabel},comOptions:function(e){return e.comOptions},pageEditState:function(e){return e.pageEditState},createSupplierInfo:function(e){return e.supplier_create_list.createSupplierInfo},batchCreateInfo:function(e){return e.supplier_create_list.childrenPageData["/add_supplier_list"].listInfo},supplierDisAuditInfo:function(e){return e.supplier_disabled_audit.supplierDisAuditInfo},supplierQualifiedInfo:function(e){return e.supplier_qualified_list.supplierQualifiedInfo},supplierDisabledListInfo:function(e){return e.supplier_disabled_list.supplierDisabledListInfo},supplierCreateLogInfo:function(e){return e.supplier_create_log.supplierCreateLogInfo},productDatumCreateInfo:function(e){return e.product_datum_create.productDatumCreateInfo},productBatchCreateInfo:function(e){return e.product_datum_create.childrenPageData["/batch_create_product_datum"].listInfo},devAnomalyAuditInfo:function(e){return e.dev_anomaly_audit.devAnomalyAuditInfo},cancelDevListInfo:function(e){return e.cancel_dev_list.cancelDevListInfo},productScanListInfo:function(e){return e.product_scan_relevance.productScanListInfo},devGroupManageInfo:function(e){return e.dev_group_manage.devGroupManageInfo},productAttrManageInfo:function(e){return e.product_attr_manage.productAttrManageInfo},productDevListInfo:function(e){return e.product_dev_list.productDevListInfo},samplePurchaseInfo:function(e){return e.sample_purchase.samplePurchaseInfo},sampleTrackManageInfo:function(e){return e.sample_track_manage.sampleTrackManageInfo},sampleTrackRecordInfo:function(e){return e.sample_track_record.sampleTrackRecordInfo},sampleScanListInfo:function(e){return e.sample_scan.sampleScanListInfo},shotScanListInfo:function(e){return e.photography_sample_scan.shotScanListInfo},copyEditListInfo:function(e){return e.copy_edit_list.copyEditListInfo},copyEditRecordInfo:function(e){return e.copy_edit_record.copyEditRecordInfo},copyEditGroupInfo:function(e){return e.copy_group_manage.copyEditGroupInfo},sampleAuditListInfo:function(e){return e.sample_audit_list.sampleAuditListInfo},sampleAbnormalRecordInfo:function(e){return e.sample_abnormal_record.sampleAbnormalRecordInfo},auditRecordInfo:function(e){return e.audit_record.auditRecordInfo},photographyGoodsListInfo:function(e){return e.photography_goods_list.photographyGoodsListInfo},goodsModificationListInfo:function(e){return e.goods_modification_list.goodsModificationListInfo},photographyGroupInfo:function(e){return e.photography_group_manage.photographyGroupInfo},atrGroupInfo:function(e){return e.atr_group_manage.atrGroupInfo},sampleGroupInfo:function(e){return e.sample_group_manage.sampleGroupInfo},atrUploadInfo:function(e){return e.art_picture_upload.atrUploadInfo},qualityControlGroupInfo:function(e){return e.quality_control_group.qualityControlGroupInfo},atrHistoryImgInfo:function(e){return e.art_history_img.atrHistoryImgInfo}},f=a("c/Tr"),v=a.n(f),g=a("pFYg"),y=a.n(g),b=a("mvHQ"),k=a.n(b),D=a("VKKs"),w=a("Gu7T"),C=a.n(w),L={supplier_create_list:{name:"moduleName",buttonList:{create:{name:"resourceName",value:"create",method:"resourceMethod",type:"",action:function(e,t){console.log(this),e[t]()},permit:function(){var e=[].concat(C()(Ce.getters.permitResource));return e.supplier_create_list&&e.supplier_create_list[this.value]}}}}},I=(d={},o()(d,"SAVE_LOADING_STATE",function(e,t){e.showLoading=t}),o()(d,"SAVE_LOGIN_INFO",function(e,t){e.loginInfo=t,D.b("userInfo",t?k()(t):"")}),o()(d,"SAVE_BUTTON_CONFIG",function(e,t){e.buttonList=L[t.replace(/^[\/]/,"")]&&L[t.replace(/^[\/]/,"")].buttonList}),o()(d,"SAVE_QUERY_PARAMS_INFO",function(e,t){e.queryParamsInfo[t.key]=t.value}),o()(d,"SAVE_MULTIPLE_OBJ",function(e,t){e.multipleObj=t}),o()(d,"SAVE_PERMIT_PATH_INFO",function(e,t){for(var a=[],i=0;i<t.length;i++)a.push(t[i].resource_path);e.permitPath=e.permitPath.concat(a)}),o()(d,"SAVE_PERMIT_RESOURCE_INFO",function(e,t){for(var a=function e(t,a,i){if(t&&t.length)for(var s=0;s<t.length;s++)t[s].children&&t[s].children.length?(a[t[s].resource_name]={},e(t[s].children,a[t[s].resource_name])):a[t[s].resource_name]=!0;else if(i)return!0},i={},s=0;s<t.length;s++)i[t[s].resource_name]={},!0===a(t[s].children,i[t[s].resource_name],!0)&&(i[t[s].resource_name]=!0);e.permitResource=i}),o()(d,"SAVE_TAB_LABELS",function(e,t){var a=function(e,t){if(t)for(var a in e.childrenPageData[t])switch(y()(e.childrenPageData[t][a])){case"number":e.childrenPageData[a]=0;break;case"string":e.childrenPageData[a]="";break;case"boolean":e.childrenPageData[a]=!1;break;case"object":e.childrenPageData[a]=e.childrenPageData[a]instanceof Array?[]:{}}else for(var i in e)if("childrenPageData"!==i)switch(y()(e[i])){case"number":e[i]=0;break;case"string":e[i]="";break;case"boolean":e[i]=!1;break;case"object":e[i]=e[i]instanceof Array?[]:{}}};if(1===t.isRemove){e.tabLabel.splice(t.isRemoveInx,1);var i=e[t.path.replace("/","")],s=!1;if(!i){if(t.main)i=e[t.main.replace("/","")];else{var n=t.path;i=e[Ce.getters.permitPath[0][n].main]}s=!0}Ce.commit("SAVE_PAGE_EDIT_STATE",{key:t.path,value:!1}),a(i,s)}else if(2===t.isRemove){for(var o=[],r=0;r<e.tabLabel.length;r++)if(e.tabLabel[r].path===t.path){o.push(e.tabLabel[r]);break}var l=v()(Ce.getters.permitPath);for(var c in Ce.getters.permitPath[0])l.push(c);for(var u=1;u<l.length;u++)if(l[u]!==t.path){Ce.commit("SAVE_PAGE_EDIT_STATE",{key:l[u],value:!1});var d=e[l[u].replace("/","")];d?a(d):a(d=e[l[0][l[u]].main],l[u])}e.tabLabel.splice(0),e.tabLabel=o}else{for(var p=0;p<e.tabLabel.length;p++)if(e.tabLabel[p].path===t.path)return;if(e.tabLabel.length>7){Ce.commit("SAVE_PAGE_EDIT_STATE",{key:e.tabLabel[0].path,value:!1});var h=e.tabLabel[0].path,_=e[h.replace("/","")];try{_?a(_):a(_=e[Ce.getters.permitPath[0][h].main],h)}catch(e){console.log(e)}e.tabLabel.shift()}t.labelIndex||0===t.labelIndex?e.tabLabel.splice(t.labelIndex,0,t):e.tabLabel.push(t)}}),o()(d,"SAVE_NAV_INDEX",function(e,t){e.navIndex=t}),o()(d,"SAVE_PAGE_EDIT_STATE",function(e,t){!1!==t.value?e.pageEditState[t.key]=l()({},t):setTimeout(function(){e.pageEditState[t.key]=!1},10)}),o()(d,"SAVE_OPTION_LIST_INFO",function(e,t){e.comOptions[t.key]=t.value}),d),S={showLoading:!1,systemId:"",loginInfo:{},buttonList:[],comOptions:{},permitPath:[(p={},o()(p,"/add_supplier_list",{main:"supplier_create_list"}),o()(p,"/batch_create_supplier",{main:"supplier_create_list"}),o()(p,"/batch_create_product_datum",{main:"product_datum_create"}),p)],permitResource:{},queryParamsInfo:{},tabLabel:[],navIndex:"1-1",multipleObj:{},pageEditState:{}},x=a("mUbh"),q=a.n(x),A=a("7+uW"),T=a("NYxO"),P=a("ZMCt"),E={state:{createSupplierInfo:{},childrenPageData:o()({},"/add_supplier_list",{listInfo:{}})},mutations:(h={},o()(h,"SAVE_CREATE_SUPPLIER_INFO",function(e,t){e.createSupplierInfo=t}),o()(h,"SAVE_BATCH_CREATE_INFO",function(e,t){e.childrenPageData["/add_supplier_list"].listInfo=t}),h),actions:{GetSupplierCreateListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(P.f)(t).then(function(t){1===t.data.status&&a("SAVE_CREATE_SUPPLIER_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var O={state:{supplierDisAuditInfo:{}},mutations:o()({},"SAVE_SUPPLIER_DIS_AUDIT_INFO",function(e,t){e.supplierDisAuditInfo=t}),actions:{GetSupplierDisabledAuditInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,search_type:2},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/supplier/supplier/supplier_search",t)})(t).then(function(t){1===t.data.status&&a("SAVE_SUPPLIER_DIS_AUDIT_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var U={state:{supplierQualifiedInfo:{}},mutations:o()({},"SAVE_QUALIFIED_SUPPLIER_INFO",function(e,t){e.supplierQualifiedInfo=t}),actions:{GetSupplierQualifiedListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,search_type:3,status:3,user_id:Ce.getters.loginInfo.staff_code},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/supplier/supplier/supplier_search",t)})(t).then(function(t){1===t.data.status&&a("SAVE_QUALIFIED_SUPPLIER_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var R={state:{supplierDisabledListInfo:{}},mutations:o()({},"SAVE_SUPPLIER_DISABLED_LIST_INFO",function(e,t){e.supplierDisabledListInfo=t}),actions:{GetSupplierDisabledListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,search_type:4,status:6,user_id:Ce.getters.loginInfo.staff_code},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/supplier/supplier/supplier_search",t)})(t).then(function(t){1===t.data.status&&a("SAVE_SUPPLIER_DISABLED_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var z,j={state:{supplierCreateLogInfo:{}},mutations:o()({},"SAVE_SUPPLIER_CREATE_LOG_INFO",function(e,t){e.supplierCreateLogInfo=t}),actions:{GetSupplierCreateLogInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,search_type:5},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/supplier/supplier/supplier_search",t)})(t).then(function(t){1===t.data.status&&a("SAVE_SUPPLIER_CREATE_LOG_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},F=a("3jHV"),N={state:{productDatumCreateInfo:{},childrenPageData:o()({},"/batch_create_product_datum",{listInfo:{}})},mutations:(z={},o()(z,"SAVE_PRODUCT_DATUM_CREATE_INFO",function(e,t){e.productDatumCreateInfo=t}),o()(z,"SAVE_BATCH_CREATE_PRODUCT_INFO",function(e,t){e.childrenPageData["/batch_create_product_datum"].listInfo=t}),z),actions:{GetProductDatumCreateInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(F.d)(t).then(function(t){1===t.data.status&&a("SAVE_PRODUCT_DATUM_CREATE_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},$={state:{productScanListInfo:{}},mutations:o()({},"SAVE_PRODUCT_SCAN_LIST_INFO",function(e,t){e.productScanListInfo=t}),actions:{SaveProductCancelListInfo:function(e){(0,e.commit)("SAVE_PRODUCT_SCAN_LIST_INFO",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}},M=a("4sZl"),Q={state:{devAnomalyAuditInfo:{}},mutations:o()({},"SAVE_DEV_ANOMALY_AUDIT_INFO",function(e,t){e.devAnomalyAuditInfo=t}),actions:{GetDevAnomalyAuditInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(M.b)(t).then(function(t){1===t.data.status&&a("SAVE_DEV_ANOMALY_AUDIT_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var B={state:{cancelDevListInfo:{}},mutations:o()({},"SAVE_CANCEL_DEV_LIST_INFO",function(e,t){e.cancelDevListInfo=t}),actions:{GetCancelDevListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,list_type:4},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/product/Product_list/product_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_CANCEL_DEV_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},V=a("yUfc"),W={state:{devGroupManageInfo:{}},mutations:o()({},"SAVE_DEV_GROUP_MANAGE_INFO",function(e,t){e.devGroupManageInfo=t}),actions:{GetDevGroupManageInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(V.e)(t).then(function(t){1===t.data.status&&a("SAVE_DEV_GROUP_MANAGE_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},G=a("1UlB"),K={state:{productAttrManageInfo:{}},mutations:o()({},"SAVE_PRODUCT_ATTR_MANAGE_INFO",function(e,t){e.productAttrManageInfo=t}),actions:{GetProductAttrManageInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(G.d)(t).then(function(t){1===t.data.status&&a("SAVE_PRODUCT_ATTR_MANAGE_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},H=a("VzL/"),J={state:{productDevListInfo:{}},mutations:o()({},"SAVE_PRODUCT_DEV_LIST_INFO",function(e,t){e.productDevListInfo=t}),actions:{GetProductDevListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(H.b)(t).then(function(t){1===t.data.status&&a("SAVE_PRODUCT_DEV_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},Z=a("rlpl"),Y={state:{samplePurchaseInfo:{}},mutations:o()({},"SAVE_SAMPLE_PURCHASE_INFO",function(e,t){e.samplePurchaseInfo=t}),actions:{GetSamplePurchaseInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(Z.b)(t).then(function(t){1===t.data.status&&a("SAVE_SAMPLE_PURCHASE_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},X=a("DOQD"),ee={state:{sampleTrackManageInfo:{}},mutations:o()({},"SAVE_SAMPLE_TRACK_MANAGE_INFO",function(e,t){e.sampleTrackManageInfo=t}),actions:{GetSampleTrackManageInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(X.e)(t).then(function(t){1===t.data.status&&a("SAVE_SAMPLE_TRACK_MANAGE_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var te={state:{sampleTrackRecordInfo:{}},mutations:o()({},"SAVE_SAMPLE_TRACK_RECORD_INFO",function(e,t){e.sampleTrackRecordInfo=t}),actions:{GetSampleTrackRecordInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,search_type:4},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/sample/sample_order_record/select_sample_order_record_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_SAMPLE_TRACK_RECORD_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var ae={state:{sampleGroupInfo:{}},mutations:o()({},"SAVE_SAMPLE_GROUP_INFO",function(e,t){e.sampleGroupInfo=t}),actions:{GetSampleGroupInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,group_type:6},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/system/group/get_group_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_SAMPLE_GROUP_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},ie=a("e/vl"),se={state:{copyEditListInfo:{}},mutations:o()({},"SAVE_COPY_EDIT_LIST_INFO",function(e,t){e.copyEditListInfo=t}),actions:{GetCopyEditListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(ie.b)(t).then(function(t){1===t.data.status&&a("SAVE_COPY_EDIT_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},ne={state:{copyEditRecordInfo:{}},mutations:o()({},"SAVE_COPY_EDIT_RECORD_INFO",function(e,t){e.copyEditRecordInfo=t}),actions:{GetCopyEditRecordInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(ie.b)(t).then(function(t){1===t.data.status&&a("SAVE_COPY_EDIT_RECORD_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var oe,re={state:{copyEditGroupInfo:{}},mutations:o()({},"SAVE_COPY_GROUP_MANAGE_INFO",function(e,t){e.copyEditGroupInfo=t}),actions:{GetCopyEditGroupInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,group_type:3},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/system/group/get_group_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_COPY_GROUP_MANAGE_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},le={state:{sampleScanListInfo:{}},mutations:(oe={},o()(oe,"SAVE_SAMPLE_SAMPLE_LIST_INFO",function(e,t){console.log("mkLog: saveInfo",t),e.sampleScanListInfo=t}),o()(oe,"DELETE_SAMPLE_LIST_INFO",function(e){e.sampleScanListInfo={}}),oe),actions:{SaveSampleScanListInfo:function(e){(0,e.commit)("SAVE_SAMPLE_SAMPLE_LIST_INFO",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},DeleteSampleScanListInfo:function(e){(0,e.commit)(type.DELETE_SAMPLE_LIST_INFO)}}},ce=a("lvoU"),ue={state:{auditRecordInfo:{}},mutations:o()({},"SAVE_AUDIT_RECORD_INFO",function(e,t){e.auditRecordInfo=t}),actions:{GetAuditRecordInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(ce.a)(t).then(function(t){1===t.data.status&&a("SAVE_AUDIT_RECORD_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},de=a("rOP+"),pe={state:{sampleAbnormalRecordInfo:{}},mutations:o()({},"SAVE_SAMPLE_ABNORMAL_RECORD_INFO",function(e,t){e.sampleAbnormalRecordInfo=t}),actions:{GetSampleAbnormalRecordInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(de.a)(t).then(function(t){1===t.data.status&&a("SAVE_SAMPLE_ABNORMAL_RECORD_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};a("W3Iv"),a("BO1k"),a("d7EF");var he={state:{sampleAuditListInfo:{}},mutations:o()({},"SAVE_SAMPLE_AUDIT_LIST_INFO",function(e,t){e.sampleAuditListInfo=t}),actions:{GetSampleAuditListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,search_type:1},u.a.ajaxData,e);return c.a.getAjax("/quality/product/product_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_SAMPLE_AUDIT_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},_e=a("8snA"),me={state:{photographyGoodsListInfo:{}},mutations:o()({},"SAVE_PHOTOGRAPHY_GOODS_LIST_INFO",function(e,t){e.photographyGoodsListInfo=t}),actions:{GetPhotographyGoodsListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(_e.b)(t).then(function(t){1===t.data.status&&a("SAVE_PHOTOGRAPHY_GOODS_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var fe={state:{photographyGroupInfo:{}},mutations:o()({},"SAVE_PHOTOGRAPHY_GROUP_INFO",function(e,t){e.photographyGroupInfo=t}),actions:{GetPhotographyGroupInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1,group_type:4},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/system/group/get_group_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_PHOTOGRAPHY_GROUP_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},ve={state:{sampleScanListInfo:{}},mutations:o()({},"SAVE_SAMPLE_SHOT_LIST_INFO",function(e,t){e.sampleScanListInfo=t}),actions:{SaveShotScanListInfo:function(e){(0,e.commit)("SAVE_SAMPLE_SHOT_LIST_INFO",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}},ge=a("WoHg"),ye={state:{goodsModificationListInfo:{}},mutations:o()({},"SAVE_GOODS_MODIFICATION_LIST_INFO",function(e,t){e.goodsModificationListInfo=t}),actions:{GetGoodsModificationListInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(ge.b)(t).then(function(t){1===t.data.status&&a("SAVE_GOODS_MODIFICATION_LIST_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};var be={state:{atrGroupInfo:{}},mutations:o()({},"SAVE_ATR_GROUP_INFO",function(e,t){e.atrGroupInfo=t}),actions:{GetAtrGroupInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()({limit:20,offset:1},u.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return c.a.getAjax("/system/group/get_group_list",t)})(t).then(function(t){1===t.data.status&&a("SAVE_ATR_GROUP_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}},ke={state:{atrUploadInfo:{}},mutations:o()({},"SAVE_ATR_UPLOAD_INFO",function(e,t){console.log(t),e.atrUploadInfo=t}),actions:{}},De=a("1Jzs"),we={state:{atrHistoryImgInfo:{}},mutations:o()({},"SAVE_ATR_HISTORY_IMG_INFO",function(e,t){e.atrHistoryImgInfo=t}),actions:{GetArtHistoryImgInfo:function(e,t){var a=e.commit;return t||(t={}),new s.a(function(e,i){Object(De.a)(t).then(function(t){1===t.data.status&&a("SAVE_ATR_HISTORY_IMG_INFO",t.data),e(t)}).catch(function(e){i(e)})})}}};A.default.use(T.a);var Ce=t.a=new T.a.Store({modules:{supplier_create_list:E,supplier_disabled_audit:O,supplier_qualified_list:U,supplier_disabled_list:R,supplier_create_log:j,product_datum_create:N,dev_anomaly_audit:Q,cancel_dev_list:B,dev_group_manage:W,product_attr_manage:K,product_dev_list:J,sample_purchase:Y,sample_track_manage:ee,sample_track_record:te,copy_edit_list:se,copy_edit_record:ne,sample_scan:le,audit_record:ue,sample_abnormal_record:pe,sample_audit_list:he,photography_goods_list:me,goods_modification_list:ye,copy_group_manage:re,photography_group_manage:fe,atr_group_manage:be,sample_group_manage:ae,art_picture_upload:ke,product_scan_relevance:$,photography_sample_scan:ve,quality_control_group:_,art_history_img:we},state:S,getters:m,mutations:I,actions:q.a})},JARv:function(e,t){},JOwA:function(e,t){},JPA0:function(e,t){},JQer:function(e,t){},JcIh:function(e,t){},Jfnx:function(e,t){},"K0+W":function(e,t){},"Kab+":function(e,t){},LJQZ:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("fZjL"),s=a.n(i),n=a("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(e){a("lW0K")},null,null).exports,l=a("YaEn"),c=a("zL8q"),u=a.n(c),d=a("mvHQ"),p=a.n(d),h={name:"TreeSelect",props:["showTree","title","checkedKeys","list","props","rolename"],data:function(){return{filterText:"",isShow:!1,data2:[{id:1,label:"销售出库",children:[{id:11,label:"新增"},{id:12,label:"删除"},{id:13,label:"查看"}]},{id:2,label:"采购订单",children:[{id:21,label:"删除"},{id:22,label:"新增"},{id:23,label:"查看"}]}],checkData:[],roleModeName:""}},computed:{},methods:{autoFilterNode:function(e,t){return!value||-1!==t.label.indexOf(value)},handleCloseDialog:function(){this.isShow=!1,this.$emit("cancel",!1)},handleConfirmSel:function(){if(this.checkData.length){this.isShow=!1;var e={list:p()(this.checkData),roleName:this.roleModeName};this.$emit("confirm",e),this.handleCancelSel()}else this.$message({type:"error",message:"必须至少选择一个资源"})},handleCancelSel:function(){this.roleModeName="",this.isShow=!1,this.$emit("cancel",!1),this.$refs.tree.setCheckedKeys([])},handleSetCheckedKeys:function(){this.$refs.tree.setCheckedKeys([12])},checkTreeOption:function(e,t,a){console.log(this.checkData),this.checkData=JSON.parse(p()(t.checkedKeys))}},watch:{roleModeName:function(e){console.log(e)},showTree:function(e){var t=this;e?this.$nextTick(function(){t.roleModeName=t.rolename,t.checkData=t.checkedKeys,t.$refs.tree.setCheckedKeys(t.checkedKeys)}):this.$nextTick(function(){t.$refs.tree.setCheckedKeys([])}),this.isShow=e,this.$emit("changeState",e)},filterText:function(e){this.$refs.tree.filter(e)}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{"custom-class":"ui-tree-dialog",title:e.title,visible:e.isShow,width:"400px",top:"20vh",fullscreen:!0},on:{"update:visible":function(t){e.isShow=t},close:e.handleCloseDialog}},[a("el-tree",{ref:"tree",attrs:{"show-checkbox":"","node-key":"resource_id","highlight-current":"","filter-node-method":e.autoFilterNode,props:e.props,data:e.list,"default-checked-keys":e.checkedKeys,"default-expand-all":!1},on:{check:e.checkTreeOption}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancelSel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmSel}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(h,_,!1,function(e){a("0ddl")},"data-v-2379a2f2",null).exports,f=a("Dd8w"),v=a.n(f),g=a("NYxO"),y={name:"Loading",data:function(){return{loadingData:{}}},props:["loading"],computed:v()({},Object(g.c)(["showLoading"]),{Loading:function(){return this.loading}}),watch:{showLoading:function(e){e?this.loadingData=this.$loading({lock:!0,text:"",spinner:"",background:"rgba(0, 0, 0, 0.7)"}):this.loadingData.close&&this.loadingData.close()}}},b={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ui-loading"})},staticRenderFns:[]};var k=a("VU/8")(y,b,!1,function(e){a("sGlQ")},"data-v-d09c1886",null).exports,D={name:"ComIcon",props:{name:{type:String,default:function(){return""}}},methods:{handleClick:function(){this.$emit("click")}}},w={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{class:"bg-"+this.name,on:{click:this.handleClick}})},staticRenderFns:[]};var C=a("VU/8")(D,w,!1,function(e){a("oCdb")},"data-v-58e4d258",null).exports,L={name:"ComUpload",props:{file:{},multiple:{type:Boolean,default:!1},autoUpload:{type:Boolean,default:!0},btnType:{type:String,default:"primary"},btnSize:{type:String,default:"small"},url:{type:String,default:"/"},label:{type:String,default:"上传"},name:{type:String,default:"file"},isDisabled:{type:Boolean,default:!1},fileSize:{type:Number,default:2},upData:{type:Object,default:function(){return{}}},errorFn:{type:Function,default:function(e){var t="";if(e.errorMess_data)for(var a=0;a<e.errorMess_data.length;a++)t+="<div>"+e.errorMess_data[a]+"</div>";e.errorMess&&this.$alert(t,e.errorMess||"错误原因",{customClass:"ui-error-list",dangerouslyUseHTMLString:!0}),this.$message({type:"error",message:"上传失败"})}}},data:function(){return{tipLabel:""}},methods:{handleChange:function(e,t){this.$emit("update:file",e),this.autoUpload||this.$refs.myUpload.clearFiles()},autoUploadSuccess:function(e){e.status?(this.$message({type:"success",message:"上传成功"}),this.$emit("success",e)):this.errorFn&&this.errorFn(e),this.$refs.myUpload.clearFiles()},beforeAvatarUpload:function(e){return!0},autoUploadError:function(e){this.$message({type:"error",message:e||"上传失败"})}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-upload"},[a("el-upload",{ref:"myUpload",attrs:{multiple:e.multiple,name:e.name,"auto-upload":e.autoUpload,"show-file-list":!1,action:e.url,"on-change":e.handleChange,"on-success":e.autoUploadSuccess,"on-error":e.autoUploadError,"before-upload":e.beforeAvatarUpload,disabled:e.isDisabled,data:e.upData}},[e._t("icon"),e._v(" "),a("el-button",{attrs:{type:e.btnType,size:e.btnSize,disabled:e.isDisabled}},[e._v(e._s(e.label)+"\n        ")])],2)],1)},staticRenderFns:[]};var S=a("VU/8")(L,I,!1,function(e){a("jCxq")},"data-v-50fce694",null).exports,x=a("vgQg"),q={name:"ComDialogTable",props:{list:{type:Object,default:function(){return{key:["序号","姓名","性别"],value:[],props:[]}}},showDialog:{type:Boolean,default:!1},width:{type:String,default:""},title:{type:String,default:"表格信息"},tableHeight:{default:"100px"},topInfo:{type:Array,default:function(){return[]}},pageData:{offset:1,limit:20,total:0},isPage:{type:Boolean,default:function(){return!0}}},data:function(){return{pageSizes:x.a.pageData.pageSizes,isShow:!1,comTableHeight:"100px"}},mounted:function(){var e=this;this.$nextTick(function(){e.comTableHeight=x.a.setTableHeight("ui-main-module")})},methods:{handleSizeChange:function(e){this.$emit("tablePageToggle",{limit:e,offset:1})},handleCurrentChange:function(e){this.$emit("tablePageToggle",{limit:this.pageData.limit,offset:e})},handleCloseDialog:function(){this.$emit("close",!1)}},watch:{showDialog:function(e){this.$nextTick(function(){}),this.isShow=e,this.$emit("changeState",e)}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-dialog-table"},[a("el-dialog",{attrs:{width:e.width,title:e.title,visible:e.isShow},on:{"update:visible":function(t){e.isShow=t},close:e.handleCloseDialog}},[e.topInfo.length?a("div",{staticClass:"ui-table-top"},[a("ul",{staticClass:"clearFix"},e._l(e.topInfo,function(t,i){return a("li",{key:i},[a("span",[e._v(e._s(t.label))]),e._v(" "),a("span",[e._v(e._s(t.value))])])}))]):e._e(),e._v(" "),a("div",{staticClass:"ui-table-info"},[a("el-table",{attrs:{stripe:"",border:"",data:e.list.value,height:e.comTableHeight}},e._l(e.list.key,function(t,i){return a("el-table-column",{key:i,attrs:{type:"index"===e.list.props[i]?"index":"",width:"index"===e.list.props[i]?"80px":"",prop:"index"===e.list.props[i]?"":e.list.props[i],label:t}})}))],1),e._v(" "),e.isPage?a("div",{staticClass:"ui-table-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.offset,"page-sizes":e.pageSizes,"page-size":e.pageData.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])],1)},staticRenderFns:[]};var T=a("VU/8")(q,A,!1,function(e){a("I758")},"data-v-9589e638",null).exports,P=a("B+/L"),E={name:"MultipleTab",computed:v()({},Object(g.c)(["tabLabel","navIndex"])),created:function(){this.$store.commit("SAVE_MULTIPLE_OBJ",this)},methods:{handleToggleRouter:function(e){this.$store.commit("SAVE_NAV_INDEX",e.index),this.$router.push(e.path)},handleRemoveLabel:function(e){if(1!==this.tabLabel.length){"/basic_data_maintain"===e&&this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"basic_data_router",value:null});for(var t=0;t<this.tabLabel.length;t++)if(this.tabLabel[t].path===e){this.tabLabel[t].index===this.navIndex&&(t>0?(this.$router.push(this.tabLabel[t-1].path),this.$store.commit("SAVE_NAV_INDEX",this.tabLabel[t-1].index)):(this.$router.push(this.tabLabel[t+1].path),this.$store.commit("SAVE_NAV_INDEX",this.tabLabel[t+1].index))),this.$store.commit("SAVE_TAB_LABELS",{path:e,isRemove:1,isRemoveInx:t});break}}},handleCloseOtherLabel:function(){this.$store.commit("SAVE_TAB_LABELS",{path:P.a.navJumpFn(this.navIndex).path,name:P.a.navJumpFn(this.navIndex).name,isRemove:2})}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-multiple_tab"},[a("ul",{staticClass:"clearFix"},e._l(e.tabLabel,function(t,i){return a("li",{key:i,staticClass:"ui-multiple_tab-item"},[a("span",{class:t.index===e.navIndex&&"ui-link",on:{click:function(a){e.handleToggleRouter(t)}}},[e._v(e._s(t.name))]),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(a){e.handleRemoveLabel(t.path)}}})])})),e._v(" "),a("div",{staticClass:"ui-close_other",on:{click:e.handleCloseOtherLabel}},[a("span",{staticClass:"ui-line"}),e._v("关闭其他页\n    ")])])},staticRenderFns:[]};var U=a("VU/8")(E,O,!1,function(e){a("OH5n")},"data-v-b7919cbe",null).exports,R=a("c/Tr"),z=a.n(R),j=a("+vOg"),F={name:"TableEdit",props:{tableKey:{type:Array,default:function(){return[]}},props:{type:Array,default:function(){return[]}},itemLength:{type:Number,default:1},dataList:{type:Array,default:function(){return[]}},type:{type:String,default:"table"},types:{type:Array,default:function(){return[]}},optionList:{type:Array,default:function(){return[]}},isAdd:{type:Boolean,default:!1},isRefresh:{type:Boolean,default:!1},maxLength:{type:Number,default:0},propsTemp:{type:Array,default:function(){return[]}},tableWidth:{type:Array,default:function(){return[]}}},data:function(){return{tableData:[]}},computed:v()({},Object(g.c)(["isAddOrModify"])),methods:{autoAddTableInx:j.a,handleAddList:function(){this.tableData.push(new Array(this.tableKey.length))},handleDelList:function(e){if(1!==this.tableData.length){if(e||0===e){var t=[];this.tableData.forEach(function(a,i){i!==e&&t.push(a)}),this.tableData=JSON.parse(p()(t))}else this.tableData.pop();this.handleBackData()}},handleRefreshTableData:function(e){if("com"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"com")){var t=[];if(e&&e.length)for(var a=this.itemLength>=e.length?this.itemLength:e.length,i=0;i<a;i++){for(var s=[],n=0;n<this.props.length;n++)e[i]?s.push(e[i][this.props[n]]):s.push("");t.push(s)}else for(var o=0;o<this.itemLength;o++){var r=new Array(this.tableKey.length);t.push(r)}this.tableData=t}else{var l=[];if(e&&e.length)if(this.tableData.length){for(var c=0;c<e.length;c++)if(e[c]&&e[c].length)for(var u=0;u<e[c].length;u++)e[c][u]&&this.tableData[c].splice(u,1,e[c][u])}else this.tableData=z()(e);else{for(var d=0;d<this.itemLength;d++)if(this.dataList&&this.dataList.length){for(var p=[],h=0;h<this.props.length&&this.dataList[d];h++)p.push(this.dataList[d][this.props[h]]);l.push(p)}else{var _=new Array(this.tableKey.length);l.push(_)}this.tableData=l}}},handleClickSearch:function(e,t){this.$emit("srinput",{finx:e,cinx:t})},handleBackData:function(){this.$emit("tableEvent",this.tableData)}},created:function(){this.handleRefreshTableData()},watch:{tableData:{handler:function(e){this.$emit("backData",e)},deep:!0},isRefresh:function(e){e?this.handleRefreshTableData():this.tableData=[]},dataList:function(){this.handleRefreshTableData()}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"ui-table_"+e.type},[a("div",{class:e.isAdd?"ui-table_add":""},[a("el-table",{attrs:{data:e.tableData,border:""}},e._l(e.tableKey,function(t,i){return a("el-table-column",{key:i,attrs:{label:t,width:"index"!==e.types[i]||e.tableWidth[i]?e.tableWidth[i]:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.propsTemp[i]?e._e():a("div",[e.types[i]&&"index"===e.types[i]?a("span",{staticClass:"ui-table_edit--number"},[e._v(e._s(e.autoAddTableInx(t.$index)))]):e.types[i]&&"input"!==e.types[i]?"select"===e.types[i]?a("el-select",{attrs:{filterable:""},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}},e._l(e.optionList[i],function(e,t,i){return a("el-option",{key:i,attrs:{value:t,label:e}})})):"selects"===e.types[i]?a("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:""},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}},e._l(e.optionList[i],function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})):"daterange"===e.types[i]?a("el-date-picker",{attrs:{size:"medium",type:"daterange",editable:!1,clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}}):"date"===e.types[i]?a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}}):"datetime"===e.types[i]?a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}}):"time"===e.types[i]?a("el-time-picker",{attrs:{type:"time",format:"HH:mm:ss","value-format":"HH:mm:ss"},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}}):"txtinput"===e.types[i]?a("el-input",{model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}},[a("template",{slot:"append"},[a("span",[e._v("月")])])],2):"disinput"===e.types[i]?a("el-input",{attrs:{readonly:""},model:{value:e.tableData[t.$index][i],callback:function(a){e.$set(e.tableData[t.$index],i,a)},expression:"tableData[scope.$index][inx]"}}):e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index][i],expression:"tableData[scope.$index][inx]"}],staticClass:"el-input__inner",attrs:{type:"text"},domProps:{value:e.tableData[t.$index][i]},on:{input:function(a){a.target.composing||e.$set(e.tableData[t.$index],i,a.target.value)}}})],1),e._v(" "),e.propsTemp[i]?a("div",[e._t(e.propsTemp[i],null,{scope:[t.$index,i]})],2):e._e()]}}])})})),e._v(" "),e.isAdd?a("div",{class:"ui-operation_btn-"+e.type},[e.tableData.length>1?a("span",{on:{click:function(t){e.handleDelList()}}},[a("ComIcon",{attrs:{name:"icon_del"}})],1):e._e(),e._v(" "),e.tableData.length<e.maxLength||!e.maxLength?a("span",{on:{click:e.handleAddList}},[a("ComIcon",{attrs:{name:"icon_add"}})],1):e._e()]):e._e()],1)])},staticRenderFns:[]};var $=a("VU/8")(F,N,!1,function(e){a("Y0+r")},"data-v-90280452",null).exports,M={name:"ComUploadList",props:[],data:function(){return{uploadData:[]}},methods:{handleSubmit:function(){console.log(this.uploadData)}},created:function(){},mounted:function(){var e=document.querySelectorAll(".files"),t=new FormData;e.forEach(function(e,a){e.addEventListener("change",function(){t.append("mydata"+a,this.files[0]),this.uploadData=t})}),console.log(e)}},Q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div"),this._v(" "),t("div",[this._m(0),this._v(" "),t("el-button")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[t("input",{attrs:{type:"file",name:"fileData"}})])}]};var B=a("VU/8")(M,Q,!1,function(e){a("Ch2X")},"data-v-4dded836",null).exports,V={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-not_data-txt"},[t("img",{attrs:{src:a("fakP"),alt:""}}),this._v(" "),t("p",[this._v("空空如也")])])}]};var W=a("VU/8")({name:"NotData"},V,!1,function(e){a("Kab+")},"data-v-1e889055",null).exports,G=a("woOf"),K=a.n(G),H={name:"ComDialogTree",props:{isShow:{type:Boolean,default:!1},title:{type:String,default:"树形结构筛选"},width:{type:String,default:""},data:{type:Array,default:function(){return[]}},checked:{type:Array,default:function(){return[]}},isChecks:{type:Boolean,default:!0},nodeKey:{type:String,default:"id"},otherParams:{type:Array,default:function(){return[]}},props:{type:Object,default:function(){return{}}},linkage:{type:Boolean,default:!1}},data:function(){return{dataList:[],keyCode:"",isShowDialog:!1,saveCheckInfo:{id:[],label:""}}},methods:{handleCheckChange:function(e,t){if(this.isChecks){this.saveCheckInfo.id=t.checkedKeys;for(var a={},i=0;i<this.otherParams.length;i++){var s=this.otherParams[i];a[s]=[];for(var n=0;n<t.checkedNodes.length;n++)a[s].push(t.checkedNodes[n][s]);this.saveCheckInfo[s]=a[s]}}else this.saveCheckInfo.id=[e.id],this.saveCheckInfo.label=e.label.replace(/\([\d]+\)/,"")},autoFilterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleClose:function(){this.$emit("close")},handleSave:function(){this.$emit("confirm",K()({},this.saveCheckInfo))},handleActiveCheckBox:function(e){var t=this;this.saveCheckInfo.id=z()(this.checked),this.$nextTick(function(){t.$refs.tree.setCheckedKeys(t.checked)})}},watch:{keyCode:function(e){this.$refs.tree.filter(e)},isShow:function(e){this.isShowDialog=e,e?this.handleActiveCheckBox():this.$refs.tree.setCheckedKeys([],!0)}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:e.width,title:e.title,visible:e.isShowDialog},on:{"update:visible":function(t){e.isShowDialog=t},close:e.handleClose}},[a("div",{staticClass:"ui-search_area"},[a("el-input",{attrs:{placeholder:"请输入关键字进行筛选"},model:{value:e.keyCode,callback:function(t){e.keyCode=t},expression:"keyCode"}})],1),e._v(" "),a("div",{staticClass:"ui-select_area"},[a("el-tree",{ref:"tree",attrs:{"node-key":e.nodeKey,"show-checkbox":e.isChecks,"check-on-click-node":!e.isChecks,data:e.data,props:e.props,"check-strictly":!e.linkage,"expand-on-click-node":!1,"default-expand-all":!1,"default-expanded-keys":e.checked,"filter-node-method":e.autoFilterNode},on:{check:e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("div",{staticClass:"clearFix custom-tree-node"},[a("span",[a("ComIcon",{attrs:{name:"1"===s.resource_type?"menu-group":"button-group"}}),e._v(" "+e._s(i.label))],1)])}}])})],1),e._v(" "),a("div",{staticClass:"ui-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleSave}},[e._v("确 定")])],1)])},staticRenderFns:[]};var Z=a("VU/8")(H,J,!1,function(e){a("AEVJ")},"data-v-95d2e414",null).exports,Y=a("Gu7T"),X=a.n(Y),ee={name:"ComTableInfo",props:{tableKey:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},tableProps:{type:Array,default:function(){return[]}},showSearch:{type:Boolean,default:!0},tableWidth:{type:Array,default:function(){return["80"]}},isCheck:{type:Boolean,default:!1},otherHeight:{type:Array,default:function(){return[]}},selectable:{type:Function,default:function(){return function(){}}},border:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},className:{type:String,default:"ui-main-module-table"},spanMethod:{type:Function,default:function(){return function(){}}},isSetHeight:{type:Boolean,default:!0},height:{type:String,default:""},isCellCancel:{type:Boolean,default:!1},tableMinWidth:{type:Array,default:function(){return["60"]}},tableRowClassName:{type:Function}},data:function(){return{initTable:!0,tableHeight:"100px",saveCheckInfo:[]}},methods:{autoAddTableInx:j.a,handleAddColClass:function(e){if("sku"===e.column.property)return"ui-layout-ceil"},handleCellClick:function(e,t){this.isCellCancel&&"selection"===t.type&&this.$refs.myTable.toggleRowSelection(e)},handleSelectAbout:function(e,t){this.$emit("selectd",{refObj:this.$refs.myTable,data:t})},handleSelectionChange:function(e){this.saveCheckInfo=[].concat(X()(e)),this.$emit("checked",e)},autoAddActiveStyle:function(e){var t=e.row;return this.saveCheckInfo.indexOf(t)>-1?"ui-table_row--active":""},handleRefreshTableHeight:function(){var e=this;this.$nextTick().then(function(){document.querySelector("body").style.overflow="hidden",e.height?e.tableHeight=e.height:e.tableHeight=x.a.setTableHeight("ui-main-module",e.otherHeight),e.$refs.myTable.doLayout(),document.querySelector("body").style.overflow=""})}},mounted:function(){var e=this;this.$nextTick().then(function(){e.height&&e.isSetHeight?e.tableHeight=e.height:e.tableHeight=e.isSetHeight?x.a.setTableHeight("ui-main",e.otherHeight):"",e.$refs.myTable.doLayout()})},watch:{showSearch:function(e,t){var a=this;document.querySelector("body").style.overflow="hidden",setTimeout(function(){a.height&&a.isSetHeight?a.tableHeight=a.height:(console.log(a.otherHeight),a.tableHeight=a.isSetHeight?x.a.setTableHeight("ui-main",a.otherHeight):""),a.$refs.myTable.doLayout(),document.querySelector("body").style.overflow=""},400)}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.initTable?a("div",{class:e.className},[e._t("default"),e._v(" "),a("el-table",{ref:"myTable",attrs:{"highlight-current-row":!1,border:e.border,data:e.tableData,height:e.tableHeight,"span-method":e.spanMethod,"row-class-name":e.tableRowClassName},on:{select:e.handleSelectAbout,"selection-change":e.handleSelectionChange,"cell-click":e.handleCellClick}},[e.isCheck?a("el-table-column",{attrs:{type:"selection",width:"50",fixed:"left",selectable:e.selectable}}):e._e(),e._v(" "),e._l(e.tableKey,function(t,i){return a("el-table-column",{key:i,attrs:{type:"index"===e.tableProps[i]?"index":"",label:t,prop:e.tableProps[i],width:e.tableWidth[i]||"",minWidth:e.tableMinWidth[i]||""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t(e.tableProps[i],[e._v(e._s("index"===e.tableProps[i]?e.autoAddTableInx(t.$index):t.row[e.tableProps[i]])+"\n                ")],{row:t.row,$index:t.$index})]}}])})}),e._v(" "),e._t("operate"),e._v(" "),a("template",{slot:"empty"},[a("div",[a("NotData",{directives:[{name:"show",rawName:"v-show",value:!e.tableData.length,expression:"!tableData.length"}]})],1)])],2)],2):e._e()},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("EjSw")},"data-v-f16ce1cc",null).exports,ie={name:"SearchRequirement",model:{prop:"model",event:"changes"},props:{template:{type:String,default:""},model:"",label:{type:String,default:""},width:{type:String,default:"100px"},fixedWidth:{type:String,default:""},isTwo:{type:Boolean,default:!1},props:{type:Object,default:function(){return{value:"city_code",label:"city_name"}}},options:{type:[Array,Object],default:function(){return[]}}},data:function(){return{areaWidth:"",minWidth:325,modelForm:"",size:"small"}},created:function(){this.modelForm=this.model},mounted:function(){var e=this;this.$nextTick(function(){var t=(getEleAttr(".ui-search-area").offsetWidth-140)/5;e.areaWidth=(e.fixedWidth||t)+"px"})},methods:{change:function(e){this.$emit("change",e)}},watch:{modelForm:function(e){this.$emit("changes",e)},model:function(){this.modelForm=this.model}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-search_require clearFix",style:{width:e.areaWidth}},[a("label",{staticClass:"ui-search_label",style:{width:e.width}},[e._v(e._s(e.label))]),e._v(" "),a("div",{staticClass:"ui-search_input",class:e.isTwo&&"ui-search_input-two",style:{marginLeft:e.width}},[e._t("default",["daterange"===e.template?a("el-date-picker",{attrs:{clearable:"",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:e.size},model:{value:e.modelForm,callback:function(t){e.modelForm=t},expression:"modelForm"}}):e._e(),e._v(" "),"cascader"===e.template?a("el-cascader",{attrs:{clearable:"",filterable:"","change-on-select":"",size:e.size,placeholder:"请选择",props:e.props,options:e.options},on:{change:e.change},model:{value:e.modelForm,callback:function(t){e.modelForm=t},expression:"modelForm"}}):e._e(),e._v(" "),"select"===e.template?a("el-select",{attrs:{clearable:"",size:e.size},model:{value:e.modelForm,callback:function(t){e.modelForm=t},expression:"modelForm"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})):e._e()])],2)])},staticRenderFns:[]};var ne=a("VU/8")(ie,se,!1,function(e){a("zQoJ")},"data-v-29c3c97f",null).exports,oe={model:{prop:"msg",event:"changes"},props:{msg:"",optionList:{type:Array||Object,default:function(){return[]}},multiple:{type:Boolean,default:!1}},data:function(){return{optionsListShow:[],value:[],list:[],loading:!1}},mounted:function(){this.value=this.msg},methods:{remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,setTimeout(function(){t.loading=!1,t.optionsListShow=t.list.filter(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})},200)):this.optionsListShow=[]}},watch:{value:function(e){this.$emit("changes",e)},optionList:{handler:function(e){e.length&&(this.list=this.optionList.map(function(e){return{value:e.value,label:e.label}}))},deep:!0}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{size:"small",multiple:e.multiple,"collapse-tags":e.multiple,filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.optionsListShow,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))},staticRenderFns:[]};var le=a("VU/8")(oe,re,!1,function(e){a("DFfu")},"data-v-ddb3d384",null).exports,ce=a("sYY+"),ue=a.n(ce),de={name:"WangEditor",props:{isDisabled:{type:Boolean,default:!1},style:{type:Object,default:function(){return{}}}},data:function(){return{editorObj:{}}},mounted:function(){var e=new ue.a(this.$refs.wangEditor);e.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","justify","image"],e.customConfig.customUploadImg=function(e,t){var a=new FileReader;a.onload=(e[0],function(e){t(this.result),console.log()}),a.readAsDataURL(e[0])};var t=this;e.customConfig.onchange=function(e){t.$emit("getVal",e)},e.create(),this.editorObj=e},methods:{handleSetValue:function(e){this.editorObj.txt.html(e)},handleChangeState:function(e){this.editorObj.$textElem.attr("contenteditable",e)}},watch:{}},pe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-wang_editor",style:this.style},[t("div",{ref:"wangEditor"})])},staticRenderFns:[]};var he=a("VU/8")(de,pe,!1,function(e){a("JOwA")},"data-v-5ddd002b",null).exports,_e=a("RRo+"),me=a.n(_e),fe=a("dlmu"),ve={name:"LookImage",props:{src:{type:[Array,String],default:function(){return[]}},show:{type:Boolean,default:!1}},data:function(){return{areaObj:{},isShow:!1}},computed:{srcList:function(){var e=this;return Array.isArray(this.src)?me()(this.src[this.src.length-1])?this.src.filter(function(t,a){return a!==e.src.length-1}):this.src:[this.src]},showUrl:function(){if(!Array.isArray(this.src))return"";var e=this.src[this.src.length-1];return this.src[e]}},mounted:function(){},methods:{handleClosePreview:function(){this.$emit("update:show",!1)},handleLoadImage:function(e){var t=this;this.$nextTick().then(function(){console.log(t.showUrl);var a=void 0,i=t;"change"===e?(a=t.$refs.lookImage.querySelectorAll(".ui-look_image--area img"),i.areaObj.update(a,{inline:!0,url:function(){return i.showUrl},viewed:function(){document.querySelector(".viewer-play").style.display="none",document.querySelector(".viewer-prev").style.display="block",document.querySelector(".viewer-next").style.display="block"}}),i.areaObj.reset()):(a=t.$refs.lookImage.querySelector(".ui-look_image--area"),t.areaObj=new fe.a(a,{inline:!0,url:function(){return i.showUrl},viewed:function(){i.areaObj.zoomTo(1),document.querySelector(".viewer-play").style.display="none",document.querySelector(".viewer-prev").style.display="block",document.querySelector(".viewer-next").style.display="block"}}))})}},watch:{show:function(e){var t=this;e&&(this.isShow=this.show,this.$nextTick(function(){t.areaObj.update?t.handleLoadImage("change"):t.handleLoadImage()}))}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{top:"8vh",title:"预览图片",width:"1000px","append-to-body":"",visible:e.isShow},on:{"update:visible":function(t){e.isShow=t},close:e.handleClosePreview}},[a("div",{ref:"lookImage",staticClass:"ui-look_image"},[a("div",{staticClass:"ui-look_image--area"},e._l(e.srcList,function(e){return a("img",{staticStyle:{display:"none"},attrs:{src:e,alt:""}})}))])])},staticRenderFns:[]};var ye=a("VU/8")(ve,ge,!1,function(e){a("5rK4")},"data-v-7c37c614",null).exports,be=a("gema"),ke={name:"LoadingImg",props:{src:{type:String,default:""},width:{type:String,default:"70px"},height:{type:String,default:"70px"}},data:function(){return{isComplete:!1}},methods:{handleClick:function(e){this.$emit("click",e)}},mounted:function(){var e=this,t=this;this.$nextTick(function(){e.$refs.myImg.addEventListener("load",function(){t.isComplete=!0,console.log(window.getComputedStyle(t.$refs.myImg,null).height)}),e.$refs.myImg.addEventListener("error",function(){this.src=a("BPd3")})})}},De={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-table__img",on:{click:e.handleClick}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.src&&!e.isComplete,expression:"src && !isComplete"}],staticClass:"ui-image--static",style:{width:e.width,height:e.height}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"myImg",attrs:{src:e.src,alt:""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isComplete,expression:"isComplete"}],style:{width:e.width,height:e.height,background:"url("+e.src+") no-repeat center/contain"}})])},staticRenderFns:[]};var we=a("VU/8")(ke,De,!1,function(e){a("JARv")},"data-v-476d3028",null).exports,Ce={model:{prop:"model",event:"changes"},name:"ComFormItem",props:{model:{type:[Object,Array],default:function(){return{}}},option:{type:Array,default:function(){return[]}},labelWidth:{type:String,default:""},size:{type:String,default:"small"},prop:{type:Object,default:function(){return{key:"key",label:"label"}}}},data:function(){return{formModel:{},propData:{key:"key",label:"label"}}},created:function(){this.formModel=v()({},this.model),this.propData=v()({},this.propData,this.prop)},watch:{formModel:{handler:function(e){this.$emit("changes",e)},deep:!0}}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.option,function(t,i){return a("li",{key:i,class:"\n            "+(t.isBlock&&"ui-com_edit--content--item--layout")+"\n            "+(t.isLabelLayout&&"ui-form--label_layout")},[a("el-form-item",{attrs:{prop:t[e.propData.key],label:t[e.propData.label],"label-width":e.labelWidth}},[t.isSelect?a("el-select",{staticStyle:{width:"100%"},attrs:{size:e.size,placeholder:"请选择"},model:{value:e.formModel[t.key],callback:function(a){e.$set(e.formModel,t.key,a)},expression:"formModel[item.key]"}},e._l(t.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})):a("el-input",{attrs:{size:e.size},model:{value:e.formModel[t.key],callback:function(a){e.$set(e.formModel,t.key,a)},expression:"formModel[item.key]"}})],1)],1)}))},staticRenderFns:[]};var Ie=a("VU/8")(Ce,Le,!1,function(e){a("LJQZ")},"data-v-774a4d2c",null).exports,Se={name:"ComDialogRemarks",props:{title:{type:String,default:"请确认"},formLabel:{type:String,default:""},remarksLabel:{type:String,default:"备注"},visible:{type:Boolean,default:!1},isRemarks:{type:Boolean,default:!1},type:{type:String,default:""},option:{type:Object,default:function(){return{}}},showRemarks:{type:Boolean,default:!1},checkList:{type:Array,default:function(){return[]}}},data:function(){return{submitData:{state:"",remark:"",check:"",checkList:[]},submitRule:{}}},methods:{handleClose:function(){this.$refs.submitData.resetFields(),this.$emit("update:visible",!1)},handleSubmit:function(){var e=this;this.$refs.submitData.validate(function(t){t&&(e.$emit("confirm",v()({},e.submitData)),e.$emit("update:visible",!1))})}},created:function(){this.$set(this.submitRule,"remark",[{required:this.isRemarks,message:"带*号不能为空！",trigger:"blur"}])},watch:{checkList:function(e){this.$set(this.submitData,"checkList",e)},isRemarks:function(e){this.$set(this.submitRule,"remark",[{required:e,message:"带*号不能为空！",trigger:"blur"}])}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{width:"400px","custom-class":"ui-com_edit",title:e.title,"validate-on-rule-change":!1,visible:e.visible},on:{close:e.handleClose}},[a("el-form",{ref:"submitData",attrs:{model:e.submitData,rules:e.submitRule}},[e.formLabel?e._t("default",["radio"===e.type||""===e.type?a("el-form-item",{attrs:{prop:"state",label:e.formLabel,"label-width":"70px"}},[a("el-radio-group",{model:{value:e.submitData.state,callback:function(t){e.$set(e.submitData,"state",t)},expression:"submitData.state"}},[a("el-radio",{attrs:{label:1}},[e._v("通过")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("失败")])],1)],1):e._e(),e._v(" "),"select"===e.type?a("el-form-item",{attrs:{prop:"check",label:e.formLabel,"label-width":"70px"}},[a("el-select",{model:{value:e.submitData.check,callback:function(t){e.$set(e.submitData,"check",t)},expression:"submitData.check"}},e._l(e.option,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1):e._e(),e._v(" "),"checkbox"===e.type?a("el-form-item",{attrs:{prop:"check",label:e.formLabel,"label-width":"70px"}},[a("el-checkbox-group",{model:{value:e.submitData.checkList,callback:function(t){e.$set(e.submitData,"checkList",t)},expression:"submitData.checkList"}},e._l(e.option,function(t,i,s){return a("el-checkbox",{key:i,attrs:{label:i,disabled:e.checkList[s]===i,value:i}},[e._v(e._s(t)+"\n                    ")])}))],1):e._e()]):e._e(),e._v(" "),e.showRemarks?a("el-form-item",{attrs:{prop:"remark",label:e.remarksLabel,"label-width":"70px"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入"},model:{value:e.submitData.remark,callback:function(t){e.$set(e.submitData,"remark",t)},expression:"submitData.remark"}})],1):e._e()],2),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleClose}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSubmit}},[e._v("确认")])],1)],1)},staticRenderFns:[]};var qe=a("VU/8")(Se,xe,!1,function(e){a("QReA")},"data-v-369d61a6",null).exports,Ae=a("bOdI"),Te=a.n(Ae),Pe={name:"CopyClassify",props:{title:{type:String,default:""},classify:{type:Array,default:[]},hasBorder:{type:Boolean,default:!1},checkIndex:{type:Number,default:0},titleGroup:{type:String,default:"group"}},data:function(){return{groupIndex:this.checkIndex,groupIsShow:!1,groupToggle:!1,objFn:Te()({},this.titleGroup,"")}},methods:{groupSearch:function(e){this.groupIndex=e,this.$emit("checkGroup",{id:e})},initHeight:function(){var e=parseInt(window.getComputedStyle(this.$refs.group).height);this.groupIsShow=e>40}},mounted:function(){var e=this;this.classify&&this.initHeight(),this.objFn[this.titleGroup]=function(){e.$refs.group&&setTimeout(function(){e.initHeight()},500)},window.addEventListener("resize",this.objFn[this.titleGroup])}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"classify"},[a("div",{staticClass:"group-box"},[a("div",{staticClass:"left-item"},[e._v(e._s(e.title)+"：")]),e._v(" "),a("div",{staticClass:"right-item",class:e.hasBorder?"border-bottom-box":""},[a("div",{staticClass:"btn-list",class:e.groupIsShow&&!e.groupToggle?"over-hide":""},[a("ul",{ref:"group"},e._l(e.classify,function(t,i){return a("li",{key:i,staticClass:"default-btn",class:{"el-button--primary":e.groupIndex===i},on:{click:function(t){e.groupSearch(i)}}},[e._v("\n                        "+e._s(t.title+"("+t.number+")")+"\n                    ")])}))]),e._v(" "),e.groupIsShow?a("div",{staticClass:"toggle-btn",on:{click:function(t){e.groupToggle=!e.groupToggle}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.groupToggle,expression:"!groupToggle"}],staticClass:"default-btn"},[e._v("展开")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.groupToggle,expression:"groupToggle"}],staticClass:"default-btn"},[e._v("收起")])]):e._e()])])])},staticRenderFns:[]};var Oe=a("VU/8")(Pe,Ee,!1,function(e){a("Tyju")},"data-v-c0177c76",null).exports,Ue={name:"ComNewUpload",mounted:function(){this.$refs.upload.addEventListener("change",function(e){console.log(this.files)})},methods:{selFile:function(){}}},Re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-upload"},[t("input",{ref:"upload",attrs:{type:"file",webkitdirectory:"",mozdirectory:"",multiple:""},on:{change:this.selFile}})])},staticRenderFns:[]};var ze=a("VU/8")(Ue,Re,!1,function(e){a("S6qx")},"data-v-6fa662bc",null).exports,je={TreeSelect:m,Loading:k,ComIcon:C,ComUpload:S,ComDialogTable:T,MultipleTab:U,TableEdit:$,ComUploadList:B,NotData:W,ComDialogTree:Z,ComTableInfo:ae,SearchRequirement:ne,ComSelect:le,WangEditor:he,LookImage:ye,TemplateDefault:be.a,LoadingImg:we,ComFormItem:Ie,ComDialogRemarks:qe,CopyClassify:Oe,ComNewUpload:ze},Fe=a("IcnI"),Ne=a("VKKs"),$e=a("zNUS"),Me=a.n($e),Qe=Me.a.Random;Qe.datetime("yyyy-MM-dd HH:mm:ss");var Be=Me.a.mock({data_list:{key:["编号","供应商代码","供应商名称","发货地址","联络资料","支付资料","操作记录","附件资料","状态","驳回说明"],"value|1-20":[{"id|+1":1,supplier_code:"V18120001011",supplier_name:"宁都县黄陂镇康隆鞋厂",fh_address_shi:"辽宁省大连市",fh_address:"宁都县万桶街黄陂镇康隆鞋厂",ca_data_user:"乔峰",ca_data_qq:"1355906017",ca_data_wx:"wx1355906017",ca_data_email:"1355906017@qq.com",payment_data_type:"线上支付宝（款到发货）",payment_data_zfb:"klxc@163.com",payment_data_name:"康隆鞋厂",payment_data_address:"宁都县黄陂镇康隆鞋厂","operate_dev_user|1":["哆啦A梦","蜡笔小新","光头一休"],operate_dev_time:"@datetime","operate_create_user|1":["哆啦A梦","蜡笔小新","光头一休"],operate_create_time:"@datetime","operate_audit_user|1":["哆啦A梦","蜡笔小新","光头一休"],operate_audit_time:"@datetime",file_url:"","state|1":["已创建","被驳回"],reject_remarks:"驳回人；驳回原因；驳回时间",sumMoney:Qe.float(1,1e7,1,2),sumTotal:Qe.integer(1,1e7)}]},page_data:{limit:20,offset:1,"total|1-20":1}});Me.a.mock(/\/myapi\/supplier\/get_create_supplier_list/,function(e){return v()({},Be)});var Ve=Me.a.mock({data_list:{key:["编号","商品SPU","商品图片","商品名称","商品目录","样品类型","商品资料","产品审核状态","操作记录","操作用时(min)","备注"],"value|100-200":[{"id|+1":1,spu:"V18120001011",spu_qty:Qe.integer(1,1e7),img:"http://img0.imgtn.bdimg.com/it/u=3377301164,1214067452&fm=26&gp=0.jpg",name:"辽宁省大连市",list:"一级目录->二级目录->三级目录",type:"玩具","is_buys|1":["是","否"],"is_diy|1":["是","否"],datum_sample_money:Qe.integer(1,1e7),supplier_code:"51360700MJC979811N",supplier_name:"笑嘻嘻",sample_link:"www.ynmau.com",look_link:"www.baidu.com","create_state|1":["已创建","已保存","被驳回"],"dev_state|1":["被驳回","已开发","未开发"],create_record_user:"ynmau",create_record_time:"@datetime",dev_record_user:"ynmau",dev_record_time:"@datetime",pk_record_user:"ynmau",pk_record_time:"@datetime",dev_use_time:Qe.integer(1,24),pk_use_time:Qe.integer(1,24),remarks:"哈哈哈"}]},page_data:{limit:20,offset:1,"total|1-20":1}});Me.a.mock(/\/myapi\/product\/getinfo/,function(e){return console.log(e),v()({},Ve)});a("tvR6"),a("n4oI"),a("wJMH"),a("UfKn"),a("QYCU"),a("w/9h"),a("erWL"),a("YK/q");var We=a("hKoQ"),Ge=a.n(We),Ke=a("7nRM"),He=a.n(Ke),Je={bindingProp:function(e,t){t.value&&s()(t.value).forEach(function(a){e.setAttribute(a,t.value[a])})},ellipsis:{inserted:function(e,t){var a=He()(e.innerHTML).slice(0),i=window.getComputedStyle(e,null),s=parseInt(i.lineHeight,10),n=Math.ceil(parseInt(i.height)/s),o=parseInt(i.width),r=parseInt(i.fontSize)||14;if(n>t.value){var l=parseInt(o/r);a.splice(l*t.value-2,a.length,"...")}console.log(a),e.innerHTML=a.join("")}}};Ge.a.polyfill(),n.default.config.productionTip=!1,n.default.use(u.a),s()(je).forEach(function(e){var t=e.replace(/(\w)/,function(e){return e.toUpperCase()});n.default.component(""+t,je[e])}),s()(Je).forEach(function(e){n.default.directive(""+e,Je[e])}),window.getEleAttr=function(e,t){return t?t.querySelector(e):document.querySelector(e)},window.addEventListener("unload",function(e){Ne.a()});var Ze=x.a.IN_PRODUCTION_PATH,Ye=document.createElement("link");Ye.rel="stylesheet",Ye.href=Ze+"front/src/assets/css/common.css?v="+1e3*Math.random(),document.querySelector("head").appendChild(Ye),new n.default({el:"#app",router:l.a,store:Fe.a,components:{App:r},template:"<App/>"})},OH5n:function(e,t){},OOcQ:function(e,t){},Oq9c:function(e,t){},PC9D:function(e,t){},PjE9:function(e,t){},QReA:function(e,t){},QYCU:function(e,t){},QbrK:function(e,t){},RSQx:function(e,t){},S6qx:function(e,t){},Sksj:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAACCCAYAAABlwXvDAAAWCUlEQVR4nO2dWWxk2VnHf3Xr1r667Gr34m673Yyd6VGIlMkEZbI8sGUmCyIEQkAZspAJhASJJYEHkhcUnkhEBCEQshEmEBQISIQwEyGQ2CYkkyFAaHePOjPT3V66bZfdtd5a7sbDqVtTrq6yazn3Vtntn1Rqd7l87qlz//cs3/m+7/iq1SpHEAU4D9wLLAILwFkgC0w3X2FABRLNvykBBlADdpqvbWAVuAY8B1wGngcsT76Fx/iOiBjOAa8GHgReBlwE4i5dqwysAN8GvgH8K3DDpWt5ymEVQxz4IeCh5mthrLURPccTzdc/IQSzh5WVlQeB+sWLF5/2tmr9c5jEEAPeCPwU8DAQGW91elJFiOLLwFeBCsDKyso08Fbgk0AGWL548eKT46pkN9RxV6APXgY8imjI5Jjr0g8R4E3NVwn4EvBp4GmgDrwLCAHfHFcFezGpPYMK/CTwAeD+MddlZGq1GuVy+Ua9Xn+iWCw+bdv2py9evGiPu16dTFrPEATegxDB/JjrIg3btpmamjrn9/vfEw6Hd+Px+BTwcURPMTFMSs+gIrrPDyGWgEeWWq2GbdtEIpFV4CPA5xBL2rEzCWJ4CPgYYjl4N7IC/Dpi0jlWlDFeewH4GvA4d68QQHz3xxFtsTDOioxDDArwK8B3gdeN4fqTyuuA/0O0zVgeUq+HiQXgzxGWwmN68yTwCMIE7hleKvBtwP9wLIR+eBD4DkIQnuGFGEIIo8tjHA6j0aSQBP4M+AyiDV3H7WHiLPAV4AE3L3IX8BTwZsQOqmu42TPcjzC5HgthdB4AvoXL1li3xPAG4F+AUy6VfzdyEtGmb3DrAlKGiXKp1Po5nki8Hfgs4B+54GO6YQLvKJdKX3TeiCcS+3y8f6TuTcQTifcCfwj4ZJY7LLZtY1kWlmVhO//aduvlfAbA5/Ph8/n2/KwoCj5FQWm+nN+PGT/whXgiESuXSp+SWbA0McQTiV8CPsEYhWDbNqZpipdhYFn9e6e1C6QXiqLgV1X8fj9+v3+c4lCAP4onEv5yqfRJWYXKWk28Hfg8YxCCbduYhoFuGJiGt/s9flUloKr4VXVcwrCBdwJfkFGYDDH8GPA3eDxHsEwTXdcxDOPAJ9ptfD4fqqoSCARQ/J5PlUzgJ4C/G7WgUcXwA8A/A9FRK9IvhmGgNxqYpunVJQfC7/cTCAZRVU9dRTTgBxnRe2oUMcwB/wmcGaUC/WIaBo0JFkEnit9PKBjE750o1oBXNP8dimHFEAL+DQ8MSpZl0ajXMTyeD8hCVVWCoRCK4sk20FPAq4DGMH88bA3/EA+E0Gg00CqVQysEEMOaVqnQaAx1fwblAYT39VAM0zO8DbHp5BqWZVGr1bAOyZDQL4rfTzgc9qKXeAT44oGf6mBQMZwH/hsXdx8NXader499heAWPp+PUCiEGgi4eZki8BJEcE/fDCJRP0JtrgmhXq+3HEaPKrZtU6vVqNdqbl4miXAiGmidO4gYfhmXHFNs26ZaraJ7M65OBLquU61W3RT+g4h71jf9DhMLCJ9F6cGstm1T1bSBTMeTiGMKV/x+dF2nkM9Tq4uwiHA4TDqdJthlaFAUhUg0OrAFs1AoAJBKpfb7WBl4MX0OF/0ugj/BsRB6Uq5UKJVKWJaFoigYhoHf7yeTyaAoCsVika2tLWZPnCDQIQjLsqhq2sCC6LPN4oh719e2dz89w2txwaf/yAihXGb39m0ikQjhUIiGrmMaBtPT0zQaDSzLIhwOs7m1RSgYZHp6ums5/fYQhUIBy7LQNA2AaDSKoigH9RAPAV8/6Lsc1DOoiDAwqRwVIViWRT6fJ5lIkE6n9/yuoets53IAZDIZ4vE4pTa/j25lDdND9MnHEcPFvgabg8TwLuBFsmrkUKtWD70QADEn8PmIxe8cQRWfj0AggGmaBFSVWq124E22LItatUok2nurp7MHmJqa6qeqL0Lcyz/Z70P7rSZCwG/1c6VBqNfrh2Z/4SB8NJ1juqwIVFUlOzPDiRMn8Pv9lCsVIuHwgWWapkm9fnA8ruNwMwAf4gAv6/1KexSRHkcazo7jUSEUCuHz+SgWi11/rzb9HZzhIpnsz0SjNxoHmuBTqdRB84ROziLuaU96iUEFPjjIlQ7Csiy3DS2eoygKmakpKprG5uYmDV3v+jnHM2qQJ7leq7kxlH6QfaYGvWr3ZiT3CvWjallszgMcp5bOJ9rXnDsM+t1t23bj4TmHcITpSi8x/IbMGkyyM8ooaNUqOzs7xKJRptJpdnI58k1jUDv1en0on0nTNN0YVn+z1y+6ieEB4KWyrmzbtlfbt56iaRq5XI5IJEIqlSK3s4PVNKvn83kauk5D19nZ3UXXdVJ9zhc6aTQasnvUlyLyZN1Bt/Hj3TKvfBSHB61aJbezQzQaJZ1KtSaIJ2dnqdfr3M7nqTSNQgAz09OEQsOFSzrDRTgiNbndo4g8lnvotEDGgJu8kDV1JEzTpNrWKEcBTdP2CCG3s4NlWcw2l5AgJsu6roPPRzAQkGJEikSjrfIlUEJEu1Xa3+wcJl6PJCEANPpYLx8mnB4h5gghlwPb3iMEEKuMUChEKBiUZk2U3JYJRE7NPXSK4adlXc0wjCM1aXTmCNFolHQ6TbVapaHr+FXVE/9G0zRlu/+9pfON9m8Rp4+0OpVKpaeRpZ2jZFzSqlV2dneJRqOkkkm2czmqtRqxWIxqtdqXxVAGktv0YTp2otvF8MOITOv7EgwGRfeIcNAol+9Ik9wKcTsKaNVqa9UwnclgNF32a7UalUqFaCRCMBj0pC6S2zWMuOct2sXwo/2UEAgEUBSF69evs7q62tVKZvSwxB1GCoUCqqqSTCTI5XLYwFRzhzIei5GZnvbKDR6Q3ravbf9P+9LywCGiWCySy+Xw+/3Yts3i4uIdn7Ft+1C7tncSiUSEc8r2tjCpNxqozeDbZDKJ4nGMpWEYBG1b1sT04fb/OJKep4/0vIqicPbsWebn519YPnVgTkDso0xSySTJZJJAIEA2myUcDmNZFtmZGa9D6IAXAo0lMU9b7knn27yyn7+Mt+3bz8zMUK/X73DjOkq9Aoi9hXTb7mA/29BuoxuGTFf7V9L0kXR6hlcNWkIymdwjDjh6Q8SkIrn3bXUEjhikJI46KiuIw4DEtm7de6X5uk9Gqcdi8A6JbX0fzU5BRZzuFpNRqhtiMAyD2/m8iL08xH6TiqIQDoeZSqelTDxNw4AhN786iCE08D0VSQ6vtm1LD5TVdZ3NrS2y2Sznzp2TuVHjOaZpks/nubW52TV+YlCcZGWSlpj3At9zzn8cGTee2nyhQDabZXp6+lALAYTr2/T0NDMzM10dYIZBYpsvgBgrFmSU5oYYarXaHfEIh52pqSlkpWiWLQYVSWdB2S6IwbIsrly5Ir3co4JEMcyDEEP3eK8BcWtyd999UhY6E8WlS5eklCPxAZwGMUzMyCjtKJmgDwsS2zwLx2I41Ehs81bPIMXT8lgM3iOxzSPwggXymLsbPwghSHGAPe4ZvEdim8dh8o4/9gzLsqhWqxSLRXRdb2VdCYfDJJNJwhOwVe01KsKHfuTewefzHZrewTRNbt68iaZpJJNJUqkUiqJgWRalUonV1VVSqRTZbHZSzpjoisS6lUGI4fDu/gyBbdusr69jmibz8/N3RDqlUikqlQrr6+v4fD6y2eyYauopJog5gxTb6CQ/Qe2Uy2UqlQpzc3M9Q95isRhzc3Ps7OxMdJyoxDavgugZdhCHYY3EYRFDPp9namrqwF3DaDRKKBSiXC6TyWQ8qt1gDNvmtm2zubnZSh+YSCQC+Xw+qALb46yY19i23ff28YkTJ1yuzWgM2+abm5sYhsHFi+I8+uvXr08Dv60geoaR8TJ2YBQGOXgsFosRi0nx+3EF35BtXigUmJ+fJxAIEAgEmJ+fB3hUAa6Ps2Je46TUOQrIfgAVBsw83rOgCReDZVlUKhVM06TRaByYud45BtEJeJ1E/85h2zyVSnHjxg10XUfXdW7cuAHwGZW7RAzlcpmNjY3WTd3a2ur7b1VV5fTp0yQkHSYqi2HbfHZ2ls3NTVZWVgAIBAJfBT6sApdlVMw5FHRSnVZv3rzJ2bNnh5oDaJrG6uoqy8vLLtRsOEY5dNXn83Hy5ElOnmwtIn8NaCjAc3Rk8BgWDw/nGhjDMIgMmQonGo1OXHCQxLauIDSAgrBASnG9mfSJ2WFZ/h6Ec6SzJC7RtEI78noaePmopfr9fgzDEAksGg30ZoZ1s1lxv98vTnMLBgmHQkQiEU9v0FEQQ6VSIV8osLS0JKvIp50fHDH8B/DeUUv1+XxUNA2/3082myXSTGShqiqWZbUSXZTL5T2p+ZPJJIEJHmImAcuy2NndxbZtlpaWZAr7SeeHdjFI4dy5c10tfIqiEAwGCQaDrYBdwzDI5XJsbm4SiUSYSqePxNMrG13X2dreJpPJMDc3J3up++/OD44YriGMTyO7zZum2be5V1VVTp48STabZW1tjZu3bjEzPe1ZWhw3cVIcOTmfTNPEtu3WcnB3d5dQKEQ4HN53rlVt5pOan59vHScgUQg3aDMttPfNjwO/KOMKpmkONJn0+/3Mz89TKBS4du0a6XSa2D5nLgyDqqpomkZ0iHI1TesrPtK2bQqFArvNrLDJZJJEIkE2myXQzAfpGLGq1SqlUonbt26J3jIWu6Nu5XKZYqnEPffc01oSSzZ+Pd7+n/Zv+HXGJAaHVCrF8vIyV69elW6vOHPmDKurq0MtEQOBAGfO7H/kd6FQYHNzk1AoxOnTp0mlUvsOeclkktnZ2dZpNtvb2+QLBdKpFNFolFKpRLlSYWlpaY/XlWQx7Dluqj1DbByxgynF3ysYDA5tIWs0GjzzzDM0Go2JD6LRdZ319XUsy+LMmTODngGxh2KxyPr6ukji5fOxtLS0x+fCsiyZ/hU1RLxEK11fZ7rgr7BPCvpBcCaMw1Kv17ly5Qpzc3MDWQ2dPQXHIuompVKJjY0Nstksp06dkjb5zeVyJJPJO9rPOQBNEn9Lx73uHAj/qvMDw+IYRoa9IaFQiIWFBa5du8bi4mLPSalpmhQKBTRNQ9M0DMNoXdO2bfzN86djsRjxePzAhN66rrOzs4PWXCJnMpmuexK7u7tsb29z4cKFO9IZjcrMzJ1xTZINTQBf7nzD1UTio/YOABsbG5RKJWfPvYWu62xvb1MoFEin06RSKWKx2J6b7RxvoGkapVKpldNxampKpO3rEGq5XGZ9fZ3p6WkymQz1ep21tTVmZmb2HAzmXPeee+4ZOlv8oEjuFcoI77Y92xDdzrX8FPAeWVcdZe4A4oY+88wzJJPJlvuZ81TOzMwwOzvbdyYUZ7a/vb2NpmnMzMyQyWSEsaxSYW1t7Y4nvVarceXKFc6fP08oFCKXy1EoFFheXvYs9Z/kuQKIU+x+ofPNbmJ4APiWrKs6p8KPQrVa5fLlyy3/g2g0yuLi4kjlVqtVNjY2yOfzrXouLS117fI3NzdZW1sDhLiXl5c9tYUc5HsxBC8Hnup8s9sj+xTwHVlXlZEOMBKJMDs7i6IopNNplpeXRxZYJBLhwoULra7+zJkzPcf+bDbbygp74cIFT4VgyE+y+l90EQL0Pv74rcCXZNZg1OHCsiyuXbvGwsKC9FWCs/rYbzWwvr5OMBj0NI7CheEB4GeAv+z2i15iUIFnkXiCnYzhYpwMa0jrh0YzH3WnyF0YHm4AF+hxDHKvGZABfBT4fVm1sG0bXddHznI2LtwQgq7rPPvss61Yz7m5udbB6bquuxGu+FH2OQ+7V88A4qjcq4iTUqURCAQm3gnGK65evUo8HufUqVOtpOzO+dndkrSPyBrwfUDPk1L2G3zrwO/IrpHzFNyN6LrOrVu32N3dpVgsYhgGp06dAmjFMPTK1i+Bj7CPEGD/ngEgAPwvkhKHtuOcI323YBgGV65cIZlMUq/XKZfLzM3N7ZmQ2rbt1hFHV4DvB/ZV2UFiAHiIjq1OGfh8PoIST3ebJBxrp3NjY7EYjUYDRVGYm5sDhKt+Op1uLVMda6lLaQ0epmOHshv9iAHg7xHHHErlKAri5s2breBexxu7WCyys7PDvffe23VF5bIQvga8oZ8P9iuGBeC7dJx2JgPn4PBJD8Lpl16bc4ZhdDVfO3MEl4RQBl5Mn4FS/RrXrwEftm3799pDuVOpFLOzsyM92c5TMapRalLo9R16CcHl/A8fZoCIuX57BgD/xsbGqmVZp5wdxOvXrxMMBqWFrvdadmqa1sq9pKoq0WiURCJxqMXj0vKxnSeB19DMytIPg7Smmc/nI52h3Ldv3x64lr1wAkE7u8zbt29jWVbL/Wtra4tLly6xvS0ltYSnOMY3l4VQBN7GAEKAwbO9uW4gME0Ty7L2zCO6+R868Y+FQoG5uTlyuRyaprVm7aFQiEQiQSaTGcspc91weX7QzvuA5wf9o0H72cc6Q7ndOALAmUfst9sZjUZZWloiGAxy+fJlfD4fp0+fZmlpicXFRTKZDNVqlZWVlYnoQZwAIg+E8Fngi8P84SBzBlZWVoLA7wKPKIqSTKfT/lEnkAdWsI/VRr1e77kJ1mg0KJVKLZu/13jYGwB8G3ES4VCWq4HE0MEcYl985ORg/aAoStedvUnFCSf00PR+E+G0sjZsAaO07Brw44A2Qhl94yzDJPsCSmdM9dSANzGCEGD0JOLfRDhLeJbjpr2xJym1jpMeaAxiNRH34JujFjTKMNHOO4DPAWOxKztJu3oNIbqus7m5KX214eR8GqMobeDngc/LKEyKGMqlEvFE4n3AHzAmQTgoitIShjOxLRaLlEolUqkUwWBwTxLxQqHAqVOn+nJna0/6NQFDlQ28v1wqfTIuKdeUNDEAEyOIdhxRdL5ArFTaVxvOjN+27TteE3Dz27GA95VLpT8GmEgxAMQTiXcAn6F5oMUx0jGBd5ZLpcecN2SJQfo6rVwq/SliZisladgxe6gAb2oXgkxkTSC7cT/CD8ITO8RdwC3gjQjDkiu4acFxkoa5Vvm7iG/jQVu6bc5bBV6NsJcfMxyfRbThqtsX8sK2WwPeDfwcYmv1mP4oAm9HtF3Niwu6OWfoxiLwGPCglxc9hDwJPEIzc6tXeL3r8xzC++ZXOV5tdKOCyOP8GjwWAnjfM7RzHvgE8LpxVWDC+Afg/QzhlCKLce4HP49wv38YWBljPcbNCqINXs8YhQCTcfTxE8BLEGkHXZ8xTxBriO/8EvoIcPGCcQ4T3Qgh0st8AMkBvxPEKiIa+lMM6ZHkFpMmBocA8GaEKO4fc11k8TTwMeCvOSDmcVxMqhjaeQCx1v5ZXIjocpky8BeIjbuuqXMmicMgBocYwjb/FsSEa1JPLq8hApW/DHyVQ7SEPkxiaCcJ/AgiQvy1jH9+sYrIvf0E8I8cUkvrYRVDJ+eBVwKvQAwrFxE9iRtoiKN8ngK+gbAWem4gcoOjIoZOFITp+16EUBYQvUcWmAGmESuXEODk9dcQs/s64hTgHCKx+ioiePV5xEl/z+FBZNk4+H8MUOUPuP8ePAAAAABJRU5ErkJggg=="},Ssq6:function(e,t){},Tnly:function(e,t,a){e.exports=a.p+"static/img/programmer.e77b3a1.jpg"},TtdI:function(e,t){},Tyju:function(e,t){},UfKn:function(e,t){},VEpJ:function(e,t){},VKKs:function(e,t,a){"use strict";t.b=function(e,t){"object"===(void 0===t?"undefined":o()(t))&&(t=s()(t));sessionStorage.setItem(e,t)},t.a=function(){sessionStorage.clear()};var i=a("mvHQ"),s=a.n(i),n=a("pFYg"),o=a.n(n),r=a("lbHh");a.n(r)},VbkS:function(e,t){},"VzL/":function(e,t,a){"use strict";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,list_type:6},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/product/Product_list/product_list",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/qrcode/sku_qrcode/generate",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},WQQB:function(e,t){},Wfo1:function(e,t){},WoHg:function(e,t,a){"use strict";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({limit:20,offset:1,search_type:1},o.a.ajaxData,e);return n.a.getAjax("/design/product_list/product_list",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.getAjax("/design/product_list/get_group_user",t)},t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.postAjax("/design/product_list/spu_photo_complete",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.getAjax("/design/product_list/spu_assign",t)},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.getAjax("/design/product_list/reject_reason_list",t)},t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.postAjax("/design/product_list/spu_operate_reject",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({search_type:1},o.a.ajaxData,e);return n.a.getAjax("/design/product_list/spu_detail",t)};var i=a("Dd8w"),s=a.n(i),n=a("gfkZ"),o=a("vgQg")},XQZG:function(e,t){},"Y0+r":function(e,t){},"YK/q":function(e,t){},YSEa:function(e,t){},YaEn:function(e,t,a){"use strict";var i=a("//Fk"),s=a.n(i),n=a("mvHQ"),o=a.n(n),r=a("7+uW"),l=a("/ocq"),c=a("IcnI"),u=a("Dd8w"),d=a.n(u),p=a("VKKs"),h=a("NYxO"),_=a("B+/L"),m=a("+vOg"),f=a("vgQg"),v={name:"NavPage",data:function(){return{isShowUpdate:!1,isCollapse:!1,activeIndex:"1-1",isOpened:!1,defaultImg:a("1I2F")}},computed:d()({},Object(h.c)(["navIndex","loginInfo"]),{routerList:function(){return _.a.getRouteConfig()}}),methods:{handleSelectModule:function(e){this.activeIndex=e,p.b("navActive",e);var t=_.a.navJumpFn(e);this.$router.push(t.path),this.$store.commit("SAVE_TAB_LABELS",{path:t.path,name:t.name,index:e}),this.$store.commit("SAVE_NAV_INDEX",e)},autoActiveParentNav:function(e){return new RegExp("^"+e).exec(this.navIndex)}},created:function(){var e=this;window.parent.postMessage({complete:!0},f.a.IN_PRODUCTION_PATH),this.activeIndex=this.navIndex,window.addEventListener("message",function(t){t.data.result&&(e.loginInfo.head_image_url=t.data.result,e.$store.commit("SAVE_LOGIN_INFO",e.loginInfo))})},mounted:function(){window.addEventListener("message",function(e){if(e.data.theme){var t=document.querySelector(".ui-main");t.className=t.className.replace(/ui-theme[_a-zA-Z]+$/,"ui-"+e.data.theme)}});var e=document.querySelector(".ui-main");e.className=e.className.replace(/ui-theme[_a-zA-Z]+$/,"ui-"+(this.loginInfo.theme||"theme_default"))},watch:{isCollapse:function(e){var t=document.querySelector(".ui-content");e?setTimeout(function(){t.style.paddingLeft="90px"},300):(this.$refs.navMenu.updateActiveIndex(),t.style.paddingLeft="220px")},navIndex:function(e){this.activeIndex=e,this.$refs.navMenu.updateActiveIndex()}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-nav-bar"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticClass:"user-info"},[a("img",{attrs:{src:e.loginInfo.head_image_url?e.loginInfo.head_image_url:e.defaultImg,alt:""}}),e._v(" "),a("p",[e._v(e._s(e.loginInfo.user_name))])]),e._v(" "),a("div",{staticClass:"ui-system-info"},[a("span",{style:{marginRight:e.isCollapse?"17px":""},on:{click:function(t){e.isCollapse=!e.isCollapse}}},[a("i",{class:e.isCollapse?"icon-qiehuan":"icon-qiehuan1"})])]),e._v(" "),a("el-menu",{ref:"navMenu",staticClass:"ui-menu",attrs:{"unique-opened":"","default-active":e.activeIndex,mode:"vertical",collapse:e.isCollapse},on:{select:e.handleSelectModule}},e._l(e.routerList,function(t,i){return a("el-submenu",{key:i,attrs:{index:i+1+""}},[a("template",{slot:"title"},[a("i",{class:e.autoActiveParentNav(i+1)?"active "+t.icon:"default "+t.icon}),e._v(" "),a("span",{class:e.autoActiveParentNav(i+1)?"active":""},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t,s){return a("el-menu-item-group",{key:s},[t.children&&t.children.length?e._e():a("el-menu-item",{attrs:{index:i+1+"-"+(s+1)}},[a("span",{staticClass:"menu-item-dot"},[a("i",{staticClass:"normal-dot",class:e.navIndex===i+1+"-"+(s+1)?"active-dot":""})]),a("span",{staticClass:"ui-twoChild"},[e._v(e._s(t.name))])]),e._v(" "),t.children&&t.children.length?a("el-submenu",{attrs:{index:i+1+"-"+(s+1)}},[a("template",{slot:"title"},[a("span",{staticClass:"menu-item-dot"},[a("i",{staticClass:"normal-dot",class:e.autoActiveParentNav(i+1+"-"+(s+1))?"active-dot":""})]),a("span",{class:e.autoActiveParentNav(i+1+"-"+(s+1))?"active ui-twoChild":"ui-twoChild"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t,n){return a("el-menu-item",{key:n,attrs:{index:i+1+"-"+(s+1)+"-"+(n+1)}},[a("span",{staticClass:"menu-item-dot"},[a("i",{staticClass:"normal-dot",class:e.autoActiveParentNav(i+1+"-"+(s+1)+"-"+(n+1))?"active-dot":""})]),a("span",{class:e.autoActiveParentNav(i+1+"-"+(s+1)+"-"+(n+1))?"active":""}),e._v(" "),a("span",{staticClass:"ui-threeChild"},[e._v(e._s(t.name))])])})],2):e._e()],1)})],2)}))],1)},staticRenderFns:[]};var y={name:"Main",computed:{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"s-main"},[t("MultipleTab"),this._v(" "),t("router-view",{key:this.key})],1)},staticRenderFns:[]};var k={name:"Sidebar",data:function(){return{dataList:[{label:"深圳易佰",children:[{label:"业务开发部",children:[{label:"采购部"},{label:"物流部"}]},{label:"海外销售部"},{label:"人力资源部"},{label:"行政管理部"}]}],treeProps:[]}},methods:{autoFilterNode:function(e,t){return!value||-1!==t.label.indexOf(value)}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-tree-menu"},[e._m(0),e._v(" "),a("el-tree",{ref:"tree",attrs:{"highlight-current":"","node-key":"resource_id","check-strictly":!0,"filter-node-method":e.autoFilterNode,data:e.dataList,props:e.treeProps,"default-expand-all":!1,"expand-on-click-node":!0},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("div",{staticClass:"ui-resource-btn clearFix"},[a("span",[a("ComIcon",{attrs:{name:"1"===s.resource_type?"menu-group":"button-group"}}),e._v(" "+e._s(i.label))],1)])}}])})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-system-info"},[t("span",[this._v("易佰集团")])])}]};var w={name:"Layout",components:{Navbar:a("VU/8")(v,g,!1,function(e){a("HYWi")},"data-v-8924513e",null).exports,Main:a("VU/8")(y,b,!1,function(e){a("2jv6")},"data-v-25413327",null).exports,Sidebar:a("VU/8")(k,D,!1,function(e){a("9H1a")},"data-v-4d5c4d06",null).exports}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-main ui-theme_default"},[t("div",{staticClass:"ui-nav"},[t("Navbar")],1),this._v(" "),t("div",{staticClass:"ui-content"},[t("Main")],1),this._v(" "),t("Loading")],1)},staticRenderFns:[]};var L=a("VU/8")(w,C,!1,function(e){a("lmfj")},"data-v-103dfe2b",null).exports,I={name:"NotAuthority",data:function(){return{initHeight:600}},mounted:function(){this.initHeight=window.innerHeight-70}},S={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ui-not_authority",style:{height:this.initHeight+"px"}},[this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-not_authority-txt"},[t("img",{attrs:{src:a("Sksj"),alt:""}}),this._v(" "),t("p",[this._v("无访问权限")])])}]};var x=a("VU/8")(I,S,!1,function(e){a("JQer")},"data-v-77b58c22",null).exports,q=a("gfkZ");function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/supplier/supplier/get_city",t)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/eyecheck/companyinfo/getcompanyinfo",t)}var P={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("欢迎登录易佰后台")])])}]};var E=a("VU/8")({name:"HomePage"},P,!1,function(e){a("Zzas")},"data-v-713cc75a",null).exports,O=a("BO1k"),U=a.n(O),R=a("Gu7T"),z=a.n(R),j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"详情",visible:e.show,width:"1000px"},on:{close:e.handleClose}},[e.detail?a("div",{staticClass:"ui-query"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("天眼数据")])]),e._v(" "),a("table",[a("tr",[a("td",[e._v("公司名称")]),e._v(" "),a("td",[e._v(e._s(e.detail.name))]),e._v(" "),a("td",[e._v("别称")]),e._v(" "),a("td",[e._v(e._s(e.detail.alias))]),e._v(" "),a("td",[e._v("英文名")]),e._v(" "),a("td",[e._v(e._s(e.detail.property3))])]),e._v(" "),a("tr",[a("td",[e._v("法人代表")]),e._v(" "),a("td",[e._v(e._s(e.detail.legal_person_name))]),e._v(" "),a("td",[e._v("法人类型")]),e._v(" "),a("td",[e._v(e._s(e.detail.type))]),e._v(" "),a("td",[e._v("公司类型")]),e._v(" "),a("td",[e._v(e._s(e.detail.company_org_type))])]),e._v(" "),a("tr",[a("td",[e._v("注册资金")]),e._v(" "),a("td",[e._v(e._s(e.detail.reg_capital))]),e._v(" "),a("td",[e._v("注册地址")]),e._v(" "),a("td",[e._v(e._s(e.detail.reg_location))]),e._v(" "),a("td",[e._v("省份简称")]),e._v(" "),a("td",[e._v(e._s(e.detail.base))])]),e._v(" "),a("tr",[a("td",[e._v("核准时间")]),e._v(" "),a("td",[e._v(e._s(e.detail.approved_time))]),e._v(" "),a("td",[e._v("核准机构")]),e._v(" "),a("td",[e._v(e._s(e.detail.org_approved_institute))]),e._v(" "),a("td",[e._v("登记机关")]),e._v(" "),a("td",[e._v(e._s(e.detail.reg_institute))])]),e._v(" "),a("tr",[a("td",[e._v("组织机构代码")]),e._v(" "),a("td",[e._v(e._s(e.detail.org_number))]),e._v(" "),a("td",[e._v("纳税人识别码")]),e._v(" "),a("td",[e._v(e._s(e.detail.tax_number))]),e._v(" "),a("td",[e._v("社会统一信用代码")]),e._v(" "),a("td",[e._v(e._s(e.detail.credit_code))])]),e._v(" "),a("tr",[a("td",[e._v("经营状态")]),e._v(" "),a("td",[e._v(e._s(e.detail.reg_status))]),e._v(" "),a("td",[e._v("成立日期")]),e._v(" "),a("td",[e._v(e._s(e.detail.estiblish_time))]),e._v(" "),a("td",[e._v("经营结束时间")]),e._v(" "),a("td",[e._v(e._s(e.detail.to_time))])]),e._v(" "),a("tr",[a("td",[e._v("行业")]),e._v(" "),a("td",[e._v(e._s(e.detail.industry))]),e._v(" "),a("td",[e._v("行业分数")]),e._v(" "),a("td",[e._v(e._s(e.detail.category_score))]),e._v(" "),a("td",[e._v("企业评分")]),e._v(" "),a("td",[e._v(e._s(e.detail.percentile_score))])]),e._v(" "),a("tr",[a("td",[e._v("数据来源")]),e._v(" "),a("td",[e._v(e._s(e.detail.source_flag))]),e._v(" "),a("td",[e._v("数据刷新时间")]),e._v(" "),a("td",[e._v(e._s(e.detail.refresh_time))]),e._v(" "),a("td",[e._v("人数范围")]),e._v(" "),a("td",[e._v(e._s(e.detail.staff_num_range))])]),e._v(" "),a("tr",[a("td",[e._v("经营范围")]),e._v(" "),a("td",{attrs:{colspan:"5"}},[e._v(e._s(e.detail.business_scope))])])])]):e._e()])},staticRenderFns:[]};var F=a("VU/8")({name:"QueryPreview",props:["show","detail"],methods:{handleClose:function(){this.$emit("update:show",!1)}}},j,!1,function(e){a("dRDU")},"data-v-125f97d8",null).exports,N=a("ZMCt"),$={name:"OperationLog",props:["id","show","userId"],data:function(){return{tableData:[],tableKey:[],tableProps:[],tableWidth:["140px","90px"]}},methods:{handleClose:function(){this.$emit("update:show")}},watch:{show:function(e){var t=this;console.log(e),e&&Object(N.e)({supplier_id:this.id,log_user_id:this.userId}).then(function(e){var a=e.data;a.status&&(t.tableKey=a.data.key,t.tableData=a.data.value.data,t.tableProps=["create_time","create_user","modify_reason","remark"])})}}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{visible:this.show,title:"操作日志",width:"800px",top:"10vh"},on:{close:this.handleClose}},[t("ComTableInfo",{attrs:{tableData:this.tableData,tableKey:this.tableKey,tableProps:this.tableProps,tableWidth:this.tableWidth}})],1)},staticRenderFns:[]};var Q=a("VU/8")($,M,!1,function(e){a("w/Kb")},"data-v-1da9fabe",null).exports,B={components:{QueryPreview:F,OperationLog:Q},data:function(){return{filterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:"",status:""},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{},shortcutSearchList:[[{label:"开发部",value:"",number:"0",icon:"icon-kaifabu icon_blue"},{label:"已创建",value:"1",number:"0"},{label:"被驳回",value:"4",number:"0"}],[{label:"供应链",value:"",number:"0",icon:"icon-gongyinglian icon_orange"},{label:"待审核",value:"2",number:"0"},{label:"已审核",value:"3",number:"0"}],[{label:"开发部",value:"",number:"0",icon:"icon-kaifabu icon_blue"},{label:"待禁用",value:"5",number:"0"},{label:"已禁用",value:"6",number:"0"}]]},tableData:[],tableWidth:[],tableKey:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],fileTypeList:{bl_url:"营业执照",tca_url:"收款协议",gtc_url:"纳税人证明",b_r_rul:"开票记录"},statusList:{1:"已创建",2:"待审核",3:"已审核",4:"被驳回",5:"待禁用",6:"已禁用"},isQueryPreview:!1,queryPreviewData:{},saveCheckId:"",saveUserId:"",isOpeLogShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","supplierCreateLogInfo"])),methods:d()({},Object(h.b)(["GetSupplierCreateLogInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.supplier_create_log));var a=d()({status:this.queryData.status,supplier_code:this.queryData.supplierCode.replace(/\s+/g,","),type:this.queryData.supplierType,shipping_province:this.queryData.deliverAddress[0],shipping_city:this.queryData.deliverAddress[1],settle_method:this.queryData.settlementType,create_user:this.queryData.createUser,devlop_user:this.queryData.devUser,supplier_name:this.queryData.supplierName,contacts:this.queryData.liaisons,pay_method:this.queryData.paymentMode,start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1]},t);this.GetSupplierCreateLogInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:"",status:""}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.city_code===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleClickStatus:function(e){e&&(console.log(e,"aaa"),this.queryData.status=e,this.handleQueryInfo({limit:this.pageData.currentList}))},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleOperaiontLog:function(e){var t=e.supplier_id,a=e.user_id;this.saveCheckId=t,this.saveUserId=a,this.isOpeLogShow=!0},handleExportListInfo:function(e){},handlePreviewDetail:function(e){var t=this;T({credit_code:e.credit_code}).then(function(e){var a=e.data;t.queryPreviewData=a.result,t.isQueryPreview=!0})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){var t=this;if(this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"supplier_create_log",value:o()(this.queryData)}),!this.optionList.deliverAddressList.length){var a=[];e.select_list.province_info.forEach(function(e){var t={city_name:e.province_name,city_code:e.province_code};a.push(d()({},t,{children:[]}))}),this.optionList.deliverAddressList=[].concat(a),this.handleSelectDeliver(this.queryData.deliverAddress)}this.optionList.supplierTypeList=e.select_list.sup_type,this.optionList.settlementTypeList=e.select_list.sup_settle_method,this.optionList.devUserList=e.select_list.devlop_user,this.optionList.paymentModeList=e.select_list.sup_pay_method,this.optionList.createUserList=e.select_list.create_user,this.optionList.stateList=e.select_list.sup_status,this.tableData=e.data.value,this.tableKey=[].concat(z()(e.data.key)),this.tableKey.push("操作"),this.tableWidth=["80px","100px","180px","150px","180px","180px","180px","240px","80px","","100px"],this.tableProps=["index","supplier_code","supplier_name","shipping","contacts_info","payment_info","operate_dev_user","file_url","status","operation"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total;var i=[e.select_list.department_count.develop,e.select_list.department_count.supply_chain,e.select_list.department_count.disable];this.optionList.shortcutSearchList.forEach(function(a,s){t.optionList.shortcutSearchList[s][0].number=i[s];for(var n=1;n<a.length;n++)a[n].number=e.select_list.status_count[a[n].value]})}}),created:function(){this.thisVm=this;try{"{}"===o()(this.supplierCreateLogInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.supplier_create_log),this.handleQueryInfoCallBack(this.supplierCreateLogInfo))}catch(e){console.log(e)}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商类型"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.supplierType,callback:function(t){e.$set(e.queryData,"supplierType",t)},expression:"queryData.supplierType"}},e._l(e.optionList.supplierTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.settlementType,callback:function(t){e.$set(e.queryData,"settlementType",t)},expression:"queryData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"开发人",template:"select",options:e.optionList.devUserList},model:{value:e.queryData.devUser,callback:function(t){e.$set(e.queryData,"devUser",t)},expression:"queryData.devUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"发货地址"}},[a("el-cascader",{attrs:{"change-on-select":"",size:"small",placeholder:"请选择",options:e.optionList.deliverAddressList,props:{value:"city_code",label:"city_name"},filterable:""},on:{change:e.handleSelectDeliver},model:{value:e.queryData.deliverAddress,callback:function(t){e.$set(e.queryData,"deliverAddress",t)},expression:"queryData.deliverAddress"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.paymentMode,callback:function(t){e.$set(e.queryData,"paymentMode",t)},expression:"queryData.paymentMode"}},e._l(e.optionList.paymentModeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"联络人"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.liaisons,callback:function(t){e.$set(e.queryData,"liaisons",t)},expression:"queryData.liaisons"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建人",template:"select",options:e.optionList.createUserList},model:{value:e.queryData.createUser,callback:function(t){e.$set(e.queryData,"createUser",t)},expression:"queryData.createUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建日期",template:"daterange"},model:{value:e.queryData.createTime,callback:function(t){e.$set(e.queryData,"createTime",t)},expression:"queryData.createTime"}})],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.status,callback:function(t){e.$set(e.queryData,"status",t)},expression:"queryData.status"}},e._l(e.statusList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch,otherHeight:["ui-shortcut_search"]},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag",class:"生产商"===t.row.type?"ui-table_flag1":"ui-table_flag3"},[a("span",[e._v(e._s(t.row.type.replace("商","")))])])])]}},{key:"supplier_name",fn:function(t){return[a("div",[a("p",[e._v(e._s(t.row.supplier_name))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("el-popover",{attrs:{placement:"bottom",title:"供应商链接",width:"200",trigger:"click"}},[a("span",{staticClass:"ui-link"},[e._v(e._s(t.row.web_link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-gongyingshanglianjie"})])],1),e._v(" "),a("i",{staticClass:"icon-tianyancha",on:{click:function(a){e.handlePreviewDetail(t.row)}}})],1)])]}},{key:"shipping",fn:function(t){return[a("div",[a("p",[e._v(e._s(""+t.row.shipping_province+t.row.shipping_city))]),e._v(" "),a("p",[e._v(e._s(""+t.row.shipping_area+t.row.shipping_address))])])]}},{key:"contacts_info",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-ren icon-plain"}),e._v(e._s(t.row.contacts+"/"+t.row.mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-QQ icon-main"}),a("a",{attrs:{target:"_self",href:"tencent://message/?uin="+t.row.qq}},[e._v(e._s(t.row.qq))])]),e._v(" "),a("p",[a("i",{staticClass:"icon-weixin icon-wx"}),e._v(e._s(t.row.wechat))]),e._v(" "),a("p",[a("i",{staticClass:"icon-youxiang icon-danger"}),e._v(e._s(t.row.email))])])]}},{key:"payment_info",fn:function(t){return["线上支付宝"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaozhanghao1 icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaomingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-dianpumingcheng1 icon-dp"}),e._v(e._s(t.row.shop_name))])]):"线下境外"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-ren icon-main"}),e._v(e._s(t.row.receive_name+"/"+t.row.receive_mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-shenfenzhenghaoma icon-dp"}),e._v(e._s(t.row.receive_id_number))])]):"线下境内"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-gongsimingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-kaihuhang icon-dp"}),e._v(e._s(t.row.receive_bank))])]):e._e()]}},{key:"operate_dev_user",fn:function(t){return[a("div",[t.row.devlop_user?a("p",[a("span",[e._v("开发人：")]),a("span",[e._v(e._s(t.row.devlop_user))])]):e._e(),e._v(" "),t.row.create_user?a("p",[a("span",[e._v("创建人：")]),a("span",[e._v(e._s(t.row.create_user))])]):e._e(),e._v(" "),t.row.check_user?a("p",[a("span",[e._v("审核人：")]),a("span",[e._v(e._s(t.row.check_user))])]):e._e()])]}},{key:"file_url",fn:function(t){return[a("ul",{staticClass:"ui-table_img"},e._l(e.fileTypeList,function(i,s){return t.row[s]?a("li",[""!==t.row[s]?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row[s]+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row[s])}}})])])]):e._e(),e._v(" "),a("span",[e._v(e._s(i))])]):e._e()}))]}},{key:"status",fn:function(t){return["2"==t.row.status_code||"5"==t.row.status_code?a("div",[a("span",{staticClass:"ui-state_circle state_orange"}),e._v(e._s(t.row.status)+"\n            ")]):e._e(),e._v(" "),"1"==t.row.status_code||"3"==t.row.status_code?a("div",[a("span",{staticClass:"ui-state_circle state_blue"}),e._v(e._s(t.row.status)+"\n            ")]):e._e(),e._v(" "),"4"==t.row.status_code||"6"==t.row.status_code?a("div",[a("span",{staticClass:"ui-state_circle state_red"}),e._v(e._s(t.row.status)+"\n            ")]):e._e()]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleOperaiontLog(t.row)}}},[e._v("操作日志")])]}}])},[a("div",{staticClass:"ui-shortcut_search clearFix"},e._l(e.optionList.shortcutSearchList,function(t){return a("div",{staticClass:"ui-shortcut_search--item"},[a("ul",e._l(t,function(t,i){return a("li",[a("span",{on:{click:function(a){e.handleClickStatus(t.value)}}},[a("i",{class:t.icon}),e._v("\n                            "+e._s(t.label)+"("+e._s(t.number)+")")]),e._v(" "),i?e._e():a("i",{staticClass:"icon-shenheliucheng"})])}))])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("QueryPreview",{attrs:{show:e.isQueryPreview,detail:e.queryPreviewData},on:{"update:show":function(t){e.isQueryPreview=t}}}),e._v(" "),a("OperationLog",{attrs:{show:e.isOpeLogShow,id:e.saveCheckId,userId:e.saveUserId},on:{"update:show":function(t){e.isOpeLogShow=t}}})],1)},staticRenderFns:[]};var W=a("VU/8")(B,V,!1,function(e){a("kea0")},"data-v-0fe861fc",null).exports,G={components:{QueryPreview:F,OperationLog:Q},props:["queryParams"],data:function(){return{FilterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:[],state:""},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{},stateList:{},companyTypeList:{},pointList:[]},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isQueryPreview:!1,queryPreviewData:{},isEditShow:!1,formLabelWidth:"110px",saveCheckId:"",editData:{state:"",comCode:"",supplierCode:"",supplierName:"",applyAddress:"",applyDate:"",companyType:"",supplierLink:"",pAndCity:[],area:"",contacts:"",phoneNumber:"",contactsPhone:"",wxNumber:"",qqNumber:"",email:"",paymentType:"",settlementType:"",point:""},editRule:{comCode:f.a.RULE_CONFIG.requiredBlur,supplierName:f.a.RULE_CONFIG.requiredBlur,applyAddress:f.a.RULE_CONFIG.requiredBlur,applyDate:f.a.RULE_CONFIG.requiredBlur,companyType:f.a.RULE_CONFIG.requiredChange,supplierLink:f.a.RULE_CONFIG.requiredBlur,pAndCity:f.a.RULE_CONFIG.requiredChange,area:f.a.RULE_CONFIG.requiredBlur,contacts:f.a.RULE_CONFIG.requiredBlur,phoneNumber:f.a.RULE_CONFIG.requiredBlur,paymentType:f.a.RULE_CONFIG.requiredBlur,settlementType:f.a.RULE_CONFIG.requiredChange,point:f.a.RULE_CONFIG.requiredBlur,shopName:f.a.RULE_CONFIG.requiredBlur,gatheringName:f.a.RULE_CONFIG.requiredBlur,gatheringAccount:f.a.RULE_CONFIG.requiredBlur,devUser:f.a.RULE_CONFIG.requiredBlur,importDate:f.a.RULE_CONFIG.requiredBlur,gatheringPhone:f.a.RULE_CONFIG.requiredBlur,gatheringId:[].concat(z()(f.a.RULE_CONFIG.requiredBlur),[f.a.RULE_CONFIG.idNumber]),bankName:f.a.RULE_CONFIG.requiredBlur},addFormItemConfig:{1:[{label:"店铺名称",key:"shopName",value:""},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"开发人",key:"devUser",isSelect:!0,userList:{}},{label:"审核人",key:"auditUser"},{label:"导入日期",key:"importDate"}],2:[{label:"收款人手机号",key:"gatheringPhone",isLabelLayout:!0},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"收款人身份证",key:"gatheringId",isLabelLayout:!0},{label:"开发人",key:"devUser",isSelect:!0,userList:{}},{label:"审核人",key:"auditUser"},{label:"导入日期",key:"importDate"}],3:[{label:"开户行名称",key:"bankName"},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"开发人",key:"devUser",isSelect:!0,userList:{}},{label:"审核人",key:"auditUser"},{label:"导入日期",key:"importDate"}]},isShowLookImage:!1,lookImageUrl:[],isShowDis:!1,saveFileList:[],saveReFileList:[],fileTypeList:{bl_url:"营业执照",tca_url:"收款协议",gtc_url:"纳税人证明",b_r_rul:"开票记录"},fileNameList:["营业执照","收款协议","纳税人证明","开票记录"],uploadFilter:{list:[],time:""},isOpeLogShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","createSupplierInfo"]),{addFormItemOption:function(){return this.addFormItemConfig[this.editData.paymentType]}}),methods:d()({},Object(h.b)(["GetSupplierCreateListInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.supplier_create_list));var a=d()({status:this.queryData.state,supplier_code:this.queryData.supplierCode.replace(/\s+/g,","),type:this.queryData.supplierType,shipping_province:this.queryData.deliverAddress[0],shipping_city:this.queryData.deliverAddress[1],settle_method:this.queryData.settlementType,create_user:this.queryData.createUser,devlop_user:this.queryData.devUser,supplier_name:this.queryData.supplierName,contacts:this.queryData.liaisons,pay_method:this.queryData.paymentMode,start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1]},t);this.GetSupplierCreateListInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:[],state:""}},handleClickFilter:function(){this.FilterShow=!this.FilterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handlePreviewDetail:function(e){var t=this;T({credit_code:e.credit_code}).then(function(e){var a=e.data;t.queryPreviewData=a.result,t.isQueryPreview=!0})},handleSaveFileList:function(e,t){var a=this;clearTimeout(this.uploadFilter.time),this.uploadFilter.list.push(e),this.uploadFilter.time=setTimeout(function(){for(var e=0;e<a.uploadFilter.list.length;e++){var t=a.uploadFilter.list[e].name.replace(/.[a-zA-Z]+$/,"");if(-1===a.fileNameList.indexOf(t))return a.$refs.upload.clearFiles(),a.uploadFilter.list.splice(0),void a.$message.error("请确认文件名！")}var i=[];a.saveFileList.length?a.uploadFilter.list.forEach(function(e){for(var t=e.name.replace(/.[a-zA-Z]+$/,""),s=0;s<a.saveFileList.length;s++){if(a.saveFileList[s].name.replace(/.[a-zA-Z]+$/,"")===t){a.saveFileList.splice(s,1,e);break}s===a.saveFileList.length-1&&i.push(e)}}):i=[].concat(z()(a.uploadFilter.list)),a.saveFileList=[].concat(z()(a.saveFileList),z()(i)),a.$refs.upload.clearFiles(),a.uploadFilter.list.splice(0)},10)},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.city_code===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleOperaiontLog:function(e){var t=e.supplier_id;this.saveCheckId=t,this.isOpeLogShow=!0},handleDeleteFile:function(e){this.saveFileList.splice(e,1),this.saveReFileList.splice(e,1)},handleSupplierCreate:function(){this.$store.commit("SAVE_OPTION_LIST_INFO",{key:"supplier",value:this.optionList}),Object(m.h)(this,{pageMain:"/supplier_create_list",pageUrl:"/add_supplier_list",pageName:"单个创建",pageParams:"supplier"},"_new")},handleSupplierBatchCreate:function(){Object(m.h)(this,{pageMain:"/supplier_create_list",pageUrl:"/batch_create_supplier",pageName:"批量创建"},"_new")},handleClickEdit:function(e){var t=this,a=e.supplier_id,i=e.status_code;if("4"===i||"1"===i){var s={supplier_id:a,status:i};Object(N.d)(s).then(function(e){var s=e.data;t.handleSelectDeliver([s.data.data.province_code]),t.saveCheckId=a,t.isEditShow=!0,t.editData.comCode=s.data.data.credit_code,t.editData.state=i,t.editData.supplierName=s.data.data.supplier_name,t.editData.supplierCode=s.data.data.supplier_code,t.editData.applyAddress=s.data.data.reg_address,t.editData.applyDate=s.data.data.reg_time,t.editData.companyType=s.data.data.type,t.editData.supplierLink=s.data.data.web_link,t.editData.pAndCity=[s.data.data.province_code,"1000"],t.editData.area=s.data.data.shipping_address,t.editData.contacts=s.data.data.contacts,t.editData.phoneNumber=s.data.data.mobile,t.editData.contactsPhone=s.data.data.phone,t.editData.wxNumber=s.data.data.wechat,t.editData.qqNumber=s.data.data.qq,t.editData.email=s.data.data.email,t.editData.paymentType=s.data.data.pay_method,t.editData.settlementType=s.data.data.settle_method,t.editData.point=s.data.data.tax_point+"%",t.editData.devUser=s.data.data.devlop_user,t.editData.auditUser=s.data.data.check_user,t.editData.importDate=s.data.data.create_time,t.editData.gatheringAccount=s.data.data.receive_account,t.editData.bankName=s.data.data.receive_bank,t.editData.gatheringName=s.data.data.receive_name,t.editData.gatheringId=s.data.data.receive_id_number,t.editData.gatheringPhone=s.data.data.receive_mobile,t.editData.shopName=s.data.data.shop_name;var n=function(e){s.data.data[e]&&Object(m.i)(s.data.data[e],t.fileTypeList[e],function(a){t.saveReFileList.push(a),t.saveFileList.push({name:t.fileTypeList[e],url:s.data.data[e]})})};for(var o in t.fileTypeList)n(o)})}},handleCloseEdit:function(){for(var e in this.editData)Array.isArray(this.editData[e])?this.editData[e]=[]:this.editData[e]="";this.$refs.editData.resetFields(),this.saveFileList.splice(0),this.saveReFileList.splice(0),this.isEditShow=!1},handleSaveEditInfo:function(e){var t=this;this.$refs.editData.validate(function(a){if(a){if(!t.editData.wxNumber.replace(/\s/g,"")&&!t.editData.qqNumber.replace(/\s/g,""))return void t.$message.warning("请输入QQ号或微信号！");var i={supplier_id:t.saveCheckId,credit_code:t.editData.comCode,supplier_code:t.editData.supplierCode,supplier_name:t.editData.supplierName,settle_method:t.editData.settlementType,tax_point:t.editData.point.replace("%",""),type:t.editData.companyType,devlop_user:t.editData.devUser,status:t.editData.state,web_link:t.editData.supplierLink,contacts:t.editData.contacts,mobile:t.editData.phoneNumber,phone:t.editData.contactsPhone,wechat:t.editData.wxNumber,qq:t.editData.qqNumber,email:t.editData.email,province_code:t.editData.pAndCity[0],city_code:t.editData.pAndCity[1],shipping_address:t.editData.area,pay_method:t.editData.paymentType,shop_name:t.editData.shopName,receive_name:t.editData.gatheringName,receive_account:t.editData.gatheringAccount,receive_mobile:t.editData.gatheringPhone,receive_id_number:t.editData.gatheringId,receive_bank:t.editData.bankName,submit_type:e,reg_address:t.editData.applyAddress,reg_time:t.editData.applyDate,create_time:t.editData.importDate},s=new FormData;for(var n in t.saveFileList.forEach(function(e,a){e.raw?s.append("file_image_data["+a+"]",e.raw):s.append("file_image_data["+a+"]",t.saveReFileList[a])}),i)s.append(n,i[n]);Object(N.g)(s).then(function(e){var a=e.data;t.handleOperationCallBack(a)})}})},handleSubmitAudit:function(){var e=this;this.saveCheckInfo.length&&this.$confirm("确认提交审核？","提示",{type:"warning"}).then(function(){var t=Object(m.b)(2,"",e.saveCheckInfo);Object(N.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})})},handleApplyDisabled:function(){this.saveCheckInfo.length&&(this.isShowDis=!0)},handleConfirmDisabled:function(e){var t=this,a=e.remark,i=Object(m.b)(5,a,this.saveCheckInfo);Object(N.a)(i).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleUploadFile:function(){Object(m.h)(this,{pageMain:"/supplier_create_list",pageUrl:"/create_supplier_upload",pageName:"上传附件"},"_new")},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isEditShow&&this.handleCloseEdit()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){if(this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"supplier_create_list",value:o()(this.queryData)}),!this.optionList.deliverAddressList.length){var t=[];e.select_list.province_info.forEach(function(e){var a={city_name:e.province_name,city_code:e.province_code};t.push(d()({},a,{children:[]}))}),this.optionList.deliverAddressList=[].concat(t),this.handleSelectDeliver(this.queryData.deliverAddress)}this.optionList.supplierTypeList=e.select_list.sup_type,this.optionList.settlementTypeList=e.select_list.sup_settle_method,this.optionList.devUserList=e.select_list.devlop_user,this.optionList.paymentModeList=e.select_list.sup_pay_method,this.optionList.createUserList=e.select_list.create_user,this.optionList.stateList=e.select_list.sup_status,this.optionList.companyTypeList=e.select_list.sup_type,this.optionList.pointList=e.select_list.make_tax_point;for(var a=1;a<4;a++)this.addFormItemConfig[a].map(function(t){if(t.userList)return t.userList=e.select_list.devlop_user});console.log(this.addFormItemConfig),this.tableData=e.data.value,this.tableKey=[].concat(z()(e.data.key)),this.tableKey.push("操作"),this.tableWidth=["80px","100px","180px","150px","180px","180px","180px","240px","80px","","100px"],this.tableProps=["index","supplier_code","supplier_name","shipping","contacts_info","payment_info","operate_dev_user","file_url","status","reject_remarks","operation"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.createSupplierInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.supplier_create_list),this.handleQueryInfoCallBack(this.createSupplierInfo),this.queryParams&&this.handleQueryInfo({limit:this.pageData.currentList}))}catch(e){console.log(e)}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商类型"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:e.queryData.supplierType,callback:function(t){e.$set(e.queryData,"supplierType",t)},expression:"queryData.supplierType"}},e._l(e.optionList.supplierTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:e.queryData.settlementType,callback:function(t){e.$set(e.queryData,"settlementType",t)},expression:"queryData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"开发人",template:"select",options:e.optionList.devUserList},model:{value:e.queryData.devUser,callback:function(t){e.$set(e.queryData,"devUser",t)},expression:"queryData.devUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"发货地址"}},[a("el-cascader",{attrs:{clearable:"",filterable:"","change-on-select":"",size:"small",placeholder:"请选择",props:{value:"city_code",label:"city_name"},options:e.optionList.deliverAddressList},on:{change:e.handleSelectDeliver},model:{value:e.queryData.deliverAddress,callback:function(t){e.$set(e.queryData,"deliverAddress",t)},expression:"queryData.deliverAddress"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:e.queryData.paymentMode,callback:function(t){e.$set(e.queryData,"paymentMode",t)},expression:"queryData.paymentMode"}},e._l(e.optionList.paymentModeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"联络人"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.liaisons,callback:function(t){e.$set(e.queryData,"liaisons",t)},expression:"queryData.liaisons"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建人",template:"select",options:e.optionList.createUserList},model:{value:e.queryData.createUser,callback:function(t){e.$set(e.queryData,"createUser",t)},expression:"queryData.createUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建日期",template:"daterange"},model:{value:e.queryData.createTime,callback:function(t){e.$set(e.queryData,"createTime",t)},expression:"queryData.createTime"}})],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:e.queryData.state,callback:function(t){e.$set(e.queryData,"state",t)},expression:"queryData.state"}},e._l(e.optionList.stateList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.FilterShow,expression:"!FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleSupplierCreate}},[a("i",{staticClass:"icon-dangechuangjian icon-warn"}),e._v("单个创建\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleSupplierBatchCreate}},[a("i",{staticClass:"icon-piliangchuangjian icon-warn"}),e._v("批量创建\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleSubmitAudit}},[a("i",{staticClass:"icon-tijiaoshenhe icon-main"}),e._v("提交审核\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleApplyDisabled}},[a("i",{staticClass:"icon-shenqingjinyong icon-danger"}),e._v("申请禁用\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleUploadFile}},[a("i",{staticClass:"icon-shangchuanfujian icon-main"}),e._v("上传附件\n        ")])],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("div",[a("span",{class:"4"===t.row.status_code?"el-icon-warning":"el-icon-success"}),e._v(" "),a("p",[e._v(e._s(e.autoAddTableInx(t.$index)))])])]}},{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag",class:"生产商"===t.row.type?"ui-table_flag1":"ui-table_flag3"},[a("span",[e._v(e._s(t.row.type.replace("商","")))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{class:"icon-bianji"+("1"===t.row.status_code||"4"===t.row.status_code?"":" ui-disable"),on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})])])]}},{key:"supplier_name",fn:function(t){return[a("div",[a("p",[e._v(e._s(t.row.supplier_name))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("el-popover",{attrs:{placement:"bottom",title:"供应商链接",width:"200",trigger:"click"}},[a("a",{staticClass:"ui-link",attrs:{href:t.row.web_link,target:"_blank"}},[e._v(e._s(t.row.web_link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-gongyingshanglianjie"})])],1),e._v(" "),a("i",{staticClass:"icon-tianyancha",on:{click:function(a){e.handlePreviewDetail(t.row)}}})],1)])]}},{key:"shipping",fn:function(t){return[a("div",[a("p",[e._v(e._s(""+t.row.shipping_province+t.row.shipping_city))]),e._v(" "),a("p",[e._v(e._s(""+t.row.shipping_area+t.row.shipping_address))])])]}},{key:"contacts_info",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-ren icon-plain"}),e._v(e._s(t.row.contacts+"/"+t.row.mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-QQ icon-main"}),a("a",{attrs:{target:"_self",href:"tencent://message/?uin="+t.row.qq}},[e._v(e._s(t.row.qq))])]),e._v(" "),a("p",[a("i",{staticClass:"icon-weixin icon-wx"}),a("a",{attrs:{target:"_self",href:"weixin://message/"}},[e._v(e._s(t.row.wechat))])]),e._v(" "),a("p",[a("i",{staticClass:"icon-youxiang icon-danger"}),e._v(e._s(t.row.email))])])]}},{key:"payment_info",fn:function(t){return["线上支付宝"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaozhanghao1 icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaomingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-dianpumingcheng1 icon-dp"}),e._v(e._s(t.row.shop_name))])]):"线下境外"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-ren icon-main"}),e._v(e._s(t.row.receive_name+"/"+t.row.receive_mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-shenfenzhenghaoma icon-dp"}),e._v(e._s(t.row.receive_id_number))])]):"线下境内"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-gongsimingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-kaihuhang icon-dp"}),e._v(e._s(t.row.receive_bank))])]):e._e()]}},{key:"operate_dev_user",fn:function(t){return[a("div",[t.row.devlop_user?a("p",[a("span",[e._v("开发人：")]),a("span",[e._v(e._s(t.row.devlop_user))])]):e._e(),e._v(" "),t.row.create_user?a("p",[a("span",[e._v("创建人：")]),a("span",[e._v(e._s(t.row.create_user))])]):e._e(),e._v(" "),t.row.check_user?a("p",[a("span",[e._v("审核人：")]),a("span",[e._v(e._s(t.row.check_user))])]):e._e()])]}},{key:"file_url",fn:function(t){return[a("ul",{staticClass:"ui-table_img"},e._l(e.fileTypeList,function(i,s){return t.row[s]?a("li",[""!==t.row[s]?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row[s]+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row[s])}}})])])]):e._e(),e._v(" "),a("span",[e._v(e._s(i))])]):e._e()}))]}},{key:"reject_remarks",fn:function(t){return[a("div",[a("p",[a("span",[e._v("驳回人：")]),a("span",[e._v(e._s(t.row.reject_user))])]),e._v(" "),a("p",[a("span",[e._v("驳回原因：")]),a("span",[e._v(e._s(t.row.reject_reason))])]),e._v(" "),a("p",[a("span",[e._v("驳回时间：")]),a("span",[e._v(e._s(t.row.reject_time))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleOperaiontLog(t.row)}}},[e._v("操作日志")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{"custom-class":"ui-com_edit",title:"编辑",width:"1200px",top:"3vh",visible:e.isEditShow},on:{"update:visible":function(t){e.isEditShow=t},close:e.handleCloseEdit}},[a("div",{staticClass:"ui-com_edit--content--item"},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"统一社会信用代码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.comCode,callback:function(t){e.$set(e.editData,"comCode",t)},expression:"editData.comCode"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierName",label:"供应商全称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.supplierName,callback:function(t){e.$set(e.editData,"supplierName",t)},expression:"editData.supplierName"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"applyAddress",label:"注册地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.applyAddress,callback:function(t){e.$set(e.editData,"applyAddress",t)},expression:"editData.applyAddress"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"applyDate",label:"注册日期","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.applyDate,callback:function(t){e.$set(e.editData,"applyDate",t)},expression:"editData.applyDate"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierLink",label:"供应商链接","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.supplierLink,callback:function(t){e.$set(e.editData,"supplierLink",t)},expression:"editData.supplierLink"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-com_edit--content--item--double"},[a("el-form-item",{attrs:{prop:"pAndCity",label:"发货地址","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{filterable:"","change-on-select":"",size:"small",options:e.optionList.deliverAddressList,props:{value:"city_code",label:"city_name"}},on:{change:e.handleSelectDeliver},model:{value:e.editData.pAndCity,callback:function(t){e.$set(e.editData,"pAndCity",t)},expression:"editData.pAndCity"}}),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.area,callback:function(t){e.$set(e.editData,"area",t)},expression:"editData.area"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"companyType",label:"公司类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.companyType,callback:function(t){e.$set(e.editData,"companyType",t)},expression:"editData.companyType"}},e._l(e.optionList.companyTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"phoneNumber",label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.phoneNumber,callback:function(t){e.$set(e.editData,"phoneNumber",t)},expression:"editData.phoneNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contactsPhone",label:"联系电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.contactsPhone,callback:function(t){e.$set(e.editData,"contactsPhone",t)},expression:"editData.contactsPhone"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contacts",label:"联系人","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.contacts,callback:function(t){e.$set(e.editData,"contacts",t)},expression:"editData.contacts"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"qqNumber","label-width":e.formLabelWidth}},[a("label",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"ui-sel_required"}),e._v("Q Q 号码")]),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.qqNumber,callback:function(t){e.$set(e.editData,"qqNumber",t)},expression:"editData.qqNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"email",label:"电子邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.email,callback:function(t){e.$set(e.editData,"email",t)},expression:"editData.email"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"wxNumber","label-width":e.formLabelWidth}},[a("label",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"ui-sel_required"}),e._v("微信号")]),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.wxNumber,callback:function(t){e.$set(e.editData,"wxNumber",t)},expression:"editData.wxNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"settlementType",label:"结算方式","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.settlementType,callback:function(t){e.$set(e.editData,"settlementType",t)},expression:"editData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"point",label:"开票税点","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.point,callback:function(t){e.$set(e.editData,"point",t)},expression:"editData.point"}},e._l(e.optionList.pointList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("li",{staticClass:"ui-com_edit--content--item--layout"},[a("el-form-item",{attrs:{prop:"paymentType","label-width":"35px"}},[a("el-radio-group",{model:{value:e.editData.paymentType,callback:function(t){e.$set(e.editData,"paymentType",t)},expression:"editData.paymentType"}},[a("el-radio",{attrs:{label:"1"}},[e._v("线上支付宝")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("线下境外")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("线下对公")])],1)],1)],1),e._v(" "),a("ComFormItem",{attrs:{option:e.addFormItemOption,"label-width":e.formLabelWidth,size:"small"},model:{value:e.editData,callback:function(t){e.editData=t},expression:"editData"}})],1)]),e._v(" "),a("div",{staticClass:"ui-com_edit__dialog--title"},[a("span",[e._v("上传附属图片")])]),e._v(" "),a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},[e._l(e.saveFileList,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteFile(i)}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})]),e._v(" "),a("span",[e._v(e._s(t.name.replace(/.[a-zA-Z]+$/,"")))])])])}),e._v(" "),a("li",[a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{ref:"upload",attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":e.handleSaveFileList}},[a("span",{staticClass:"el-icon-plus"})])],1)])],2)])],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(t){e.handleSaveEditInfo("2")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.handleSaveEditInfo("1")}}},[e._v("保存")])],1)]),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("ComDialogRemarks",{attrs:{title:"申请禁用",visible:e.isShowDis,showRemarks:""},on:{"update:visible":function(t){e.isShowDis=t},confirm:e.handleConfirmDisabled}}),e._v(" "),a("QueryPreview",{attrs:{show:e.isQueryPreview,detail:e.queryPreviewData},on:{"update:show":function(t){e.isQueryPreview=t}}}),e._v(" "),a("OperationLog",{attrs:{show:e.isOpeLogShow,id:e.saveCheckId},on:{"update:show":function(t){e.isOpeLogShow=t}}})],1)},staticRenderFns:[]};var H=a("VU/8")(G,K,!1,function(e){a("TtdI")},"data-v-461e0ec0",null).exports,J={name:"AddPage",props:{queryParams:{}},data:function(){return{formLabelWidth:"100px",editData:{comCode:"",supplierName:"",applyAddress:"",applyDate:"",companyType:"",supplierLink:"",pAndCity:[],area:"",contacts:"",phoneNumber:"",contactsPhone:"",wxNumber:"",qqNumber:"",email:"",paymentType:1,settlementType:"",point:""},editRule:{comCode:f.a.RULE_CONFIG.requiredBlur,supplierName:f.a.RULE_CONFIG.requiredChange,applyAddress:f.a.RULE_CONFIG.requiredChange,applyDate:f.a.RULE_CONFIG.requiredChange,companyType:f.a.RULE_CONFIG.requiredChange,supplierLink:f.a.RULE_CONFIG.requiredBlur,pAndCity:f.a.RULE_CONFIG.requiredBlur,area:f.a.RULE_CONFIG.requiredBlur,contacts:f.a.RULE_CONFIG.requiredBlur,phoneNumber:[f.a.RULE_CONFIG.phone,f.a.RULE_CONFIG.requiredBlur],qqNumber:f.a.RULE_CONFIG.number,email:f.a.RULE_CONFIG.email,paymentType:f.a.RULE_CONFIG.requiredBlur,settlementType:f.a.RULE_CONFIG.requiredChange,point:f.a.RULE_CONFIG.requiredBlur,shopName:f.a.RULE_CONFIG.requiredBlur,gatheringName:f.a.RULE_CONFIG.requiredBlur,gatheringAccount:f.a.RULE_CONFIG.requiredBlur,devUser:f.a.RULE_CONFIG.requiredBlur,auditUser:f.a.RULE_CONFIG.requiredBlur,importDate:f.a.RULE_CONFIG.requiredBlur,gatheringPhone:[f.a.RULE_CONFIG.phone,f.a.RULE_CONFIG.requiredBlur],gatheringId:[].concat(z()(f.a.RULE_CONFIG.requiredBlur),[f.a.RULE_CONFIG.idNumber]),bankName:f.a.RULE_CONFIG.requiredBlur},addFormItemConfig:{1:[{label:"店铺名称",key:"shopName",value:""},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"开发人",key:"devUser",isSelect:!0,userList:{}}],2:[{label:"收款人手机号",key:"gatheringPhone",isLabelLayout:!0},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"收款人身份证",key:"gatheringId",isLabelLayout:!0},{label:"开发人",key:"devUser",isSelect:!0,userList:{}}],3:[{label:"开户行名称",key:"bankName"},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"开发人",key:"devUser",isSelect:!0,userList:{}}]},optionList:{companyTypeList:{},settlementTypeList:{},createUserList:{},stateList:{},paymentModeList:{},depUserList:{},deliverAddressList:[],pointList:[]},saveFileList:[],fileNameList:["营业执照","收款协议","纳税人证明","开票记录"],isShowLookImage:!1,lookImageUrl:[],uploadFilter:{list:[],time:""}}},computed:d()({},Object(h.c)(["pageEditState","comOptions"]),{addFormItemOption:function(){return this.addFormItemConfig[this.editData.paymentType]}}),methods:{handleSupplierInfo:function(){var e=this;this.editData.comCode&&T({credit_code:this.editData.comCode}).then(function(t){var a=t.data;a.status?(e.editData.supplierName=a.result.name,e.editData.applyDate=a.result.from_time,e.editData.applyAddress=a.result.reg_location):e.$message.error(a.errorMess||"获取供应商信息失败")})},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.city_code===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleSaveFileList:function(e,t){var a=this;clearTimeout(this.uploadFilter.time),this.uploadFilter.list.push(e),this.uploadFilter.time=setTimeout(function(){for(var e=0;e<a.uploadFilter.list.length;e++){var t=a.uploadFilter.list[e].name.replace(/.[a-zA-Z]+$/,"");if(-1===a.fileNameList.indexOf(t))return a.$refs.myUpload.clearFiles(),a.uploadFilter.list.splice(0),void a.$message.error("请确认文件名！")}var i=[];a.saveFileList.length?a.uploadFilter.list.forEach(function(e){for(var t=e.name.replace(/.[a-zA-Z]+$/,""),s=0;s<a.saveFileList.length;s++){if(a.saveFileList[s].name.replace(/.[a-zA-Z]+$/,"")===t){a.saveFileList.splice(s,1,e);break}s===a.saveFileList.length-1&&i.push(e)}}):i=[].concat(z()(a.uploadFilter.list)),a.saveFileList=[].concat(z()(a.saveFileList),z()(i)),a.$refs.myUpload.clearFiles(),a.uploadFilter.list.splice(0)},10)},handleDeleteFile:function(e){this.saveFileList.splice(e,1)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleSaveOrSubmitEditInfo:function(e){var t=this;this.$refs.editData.validate(function(a){if(a){if(!t.editData.qqNumber.replace(/\s/g,"")&&!t.editData.wxNumber.replace(/\s/g,""))return void t.$message.warning("请输入QQ号或微信号！");var i={credit_code:t.editData.comCode,supplier_name:t.editData.supplierName,type:t.editData.companyType,web_link:t.editData.supplierLink,devlop_user:t.editData.devUser,create_user:"",tax_point:t.editData.point.replace("%",""),settle_method:t.editData.settlementType,contacts:t.editData.contacts,mobile:t.editData.phoneNumber,phone:t.editData.contactsPhone,wechat:t.editData.wxNumber,qq:t.editData.qqNumber,email:t.editData.email,shipping_province:t.editData.pAndCity[0],shipping_city:t.editData.pAndCity[1],shipping_address:t.editData.area,pay_method:t.editData.paymentType||"",shop_name:t.editData.shopName||"",receive_name:t.editData.gatheringName||"",receive_account:t.editData.gatheringAccount||"",receive_mobile:t.editData.gatheringPhone||"",receive_id_number:t.editData.gatheringId||"",receive_bank:t.editData.bankName||"",add_type:e},s=new FormData;for(var n in i)s.append(n,i[n]);t.saveFileList.forEach(function(e,t){s.append("file_image_data["+t+"]",e.raw)}),Object(N.h)(s).then(function(e){var a=e.data;t.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功！"),Object(m.l)(this,{refresh:!0,path:"/add_supplier_list",main:"/supplier_create_list"})):this.$message.error(e.errorMess||"操作失败！")}},created:function(){var e=this,t=this.pageEditState["/add_supplier_list"];if(t&&t.value){var a=t.value,i=a.optionList,s=a.editData,n=a.saveFileList;this.optionList=i,this.editData=s,this.saveFileList=n}else this.optionList=d()({},this.optionList,this.comOptions[this.queryParams]);for(var o=1;o<4;o++)this.addFormItemConfig[o].map(function(t){if(t.userList)return t.userList=e.optionList.devUserList})},beforeDestroy:function(){this.$store.commit("SAVE_PAGE_EDIT_STATE",{key:"/add_supplier_list",path:"",value:{saveFileList:this.saveFileList,editData:this.editData,optionList:this.optionList}})}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDefault",{attrs:{color:"#fff"}},[a("div",{staticClass:"ui-edit_form--three"},[a("el-form",{ref:"editData",staticClass:"ui-edit_form_basic",attrs:{model:e.editData,rules:e.editRule}},[a("ul",{staticClass:"clearFix ui-edit_form--area"},[a("li",{staticClass:"ui-form--label_layout ui-lineHeight"},[a("el-form-item",{attrs:{prop:"comCode",label:"统一社会信用代码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},on:{blur:e.handleSupplierInfo},model:{value:e.editData.comCode,callback:function(t){e.$set(e.editData,"comCode",t)},expression:"editData.comCode"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierName",label:"供应商全称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:e.editData.supplierName,callback:function(t){e.$set(e.editData,"supplierName",t)},expression:"editData.supplierName"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{label:"注册地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:e.editData.applyAddress,callback:function(t){e.$set(e.editData,"applyAddress",t)},expression:"editData.applyAddress"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"applyDate",label:"注册日期","label-width":e.formLabelWidth}},[a("el-input",{attrs:{readonly:"",size:"small"},model:{value:e.editData.applyDate,callback:function(t){e.$set(e.editData,"applyDate",t)},expression:"editData.applyDate"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierLink",label:"供应商链接","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.supplierLink,callback:function(t){e.$set(e.editData,"supplierLink",t)},expression:"editData.supplierLink"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-edit_form--item--db"},[a("el-form-item",{attrs:{prop:"pAndCity",label:"发货地址","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{size:"small",filterable:"","change-on-select":"",props:{label:"city_name",value:"city_code"},options:e.optionList.deliverAddressList},on:{change:e.handleSelectDeliver},model:{value:e.editData.pAndCity,callback:function(t){e.$set(e.editData,"pAndCity",t)},expression:"editData.pAndCity"}}),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.area,callback:function(t){e.$set(e.editData,"area",t)},expression:"editData.area"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"companyType",label:"公司类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.companyType,callback:function(t){e.$set(e.editData,"companyType",t)},expression:"editData.companyType"}},e._l(e.optionList.companyTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"phoneNumber",label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.phoneNumber,callback:function(t){e.$set(e.editData,"phoneNumber",t)},expression:"editData.phoneNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contactsPhone",label:"联系电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.contactsPhone,callback:function(t){e.$set(e.editData,"contactsPhone",t)},expression:"editData.contactsPhone"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"wxNumber",label:"","label-width":e.formLabelWidth}},[a("label",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"ui-sel_required"}),e._v("微信号")]),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.wxNumber,callback:function(t){e.$set(e.editData,"wxNumber",t)},expression:"editData.wxNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"qqNumber",label:"Q Q 号码","label-width":e.formLabelWidth}},[a("label",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"ui-sel_required"}),e._v("Q Q 号码")]),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.qqNumber,callback:function(t){e.$set(e.editData,"qqNumber",t)},expression:"editData.qqNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"email",label:"电子邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.email,callback:function(t){e.$set(e.editData,"email",t)},expression:"editData.email"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-com_edit--content--item--layout"},[a("el-form-item",{attrs:{prop:"paymentType","label-width":"35px"}},[a("el-radio-group",{model:{value:e.editData.paymentType,callback:function(t){e.$set(e.editData,"paymentType",t)},expression:"editData.paymentType"}},[a("el-radio",{attrs:{label:1}},[e._v("线上支付宝")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("线下境外")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("线下境内")])],1)],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contacts",label:"联系人","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.contacts,callback:function(t){e.$set(e.editData,"contacts",t)},expression:"editData.contacts"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"settlementType",label:"结算方式","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.settlementType,callback:function(t){e.$set(e.editData,"settlementType",t)},expression:"editData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"point",label:"开票税点","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.point,callback:function(t){e.$set(e.editData,"point",t)},expression:"editData.point"}},e._l(e.optionList.pointList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("ComFormItem",{attrs:{option:e.addFormItemOption,"label-width":e.formLabelWidth},model:{value:e.editData,callback:function(t){e.editData=t},expression:"editData"}})],1)]),e._v(" "),a("div",{staticClass:"ui-com_edit__upload"},[a("span",{staticClass:"ui-com_edit__leftLine"}),e._v(" "),a("h3",[e._v("上传附属图片")]),e._v(" "),a("ul",{staticClass:"clearFix"},[e._l(e.saveFileList,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteFile(i)}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})]),e._v(" "),a("span",[e._v(e._s(t.name.replace(/.[a-zA-Z]+$/,"")))])])])}),e._v(" "),a("li",[a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{ref:"myUpload",attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":e.handleSaveFileList}},[a("span",{staticClass:"icon-tupianshangchuan"}),e._v(" "),a("p",[e._v("请点击上传")])])],1)])],2)]),e._v(" "),a("div",{staticClass:"ui-edit_form--ope"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleSaveOrSubmitEditInfo("1")}}},[e._v("创建")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSaveOrSubmitEditInfo("2")}}},[e._v("提交")])],1)],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)},staticRenderFns:[]};var Y=a("VU/8")(J,Z,!1,function(e){a("4qu5")},"data-v-c7184aac",null).exports,X={name:"BatchCreatePage",data:function(){return{tableKey:[],tableData:[],tableProps:[],saveCheckInfo:[],importInfo:{sup_count:0,err_count:0}}},computed:d()({},Object(h.c)(["loginInfo","batchCreateInfo"]),{importUrl:function(){return"/supplier/supplier/supplier_import"},downloadUrl:function(){return"/supplier/supplier/supplier_export_temp"}}),created:function(){"{}"!==o()(this.batchCreateInfo)&&this.handleUploadInfoCallBack(this.batchCreateInfo)},methods:{handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleUploadSuccess:function(e){this.handleUploadInfoCallBack(e),this.$store.commit("SAVE_BATCH_CREATE_INFO",e)},autoFlagErrorInfo:function(e,t){return e.err_field&&e.err_field.split(",").indexOf(t)>-1?"ui-error_info":""},handleDownloadModule:function(){window.open(this.downloadUrl,"_self")},handleUploadInfoCallBack:function(e){this.tableData=e.data.value,this.tableKey=e.data.key,this.tableProps=["index","supplier_code","supplier_name","shipping_address","phone","pay_method","tax_point","create_user"],this.importInfo={sup_count:e.select_list.sup_count,err_count:e.select_list.err_count}},handleConfirmUpload:function(){var e=this;if(this.saveCheckInfo.length){var t=[];this.saveCheckInfo.forEach(function(e){var a=e.credit_code;t.push(a)});var a={credit_codes:t.join(",")};Object(N.b)(a).then(function(t){var a=t.data;if(a.status)e.$message.success("操作成功！"),Object(m.l)(e,{path:"/batch_create_supplier",main:"/supplier_create_list",refresh:!0}),e.saveCheckInfo=[];else if(a.errorMess&&a.errorMess.length){var i="";a.errorMess.forEach(function(e){i+="<div>"+e+"</div>"}),e.$alert(i,"错误原因",{customClass:"ui-error-list",dangerouslyUseHTMLString:!0})}else e.$message.error(a.error_mess||"操作失败!")})}else this.$message.warning("请勾选数据！")}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDefault",{attrs:{color:"#fff"}},[a("div",{staticClass:"ui-batch_create"},[a("div",{staticClass:"ui-batch_create--fn"},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:e.handleDownloadModule}},[e._v("下载模板")]),e._v(" "),a("ComUpload",{attrs:{label:"选择文件",url:e.importUrl,upData:{user_id:e.loginInfo.staff_code||"12534"}},on:{success:e.handleUploadSuccess}}),e._v(" "),a("div",{staticClass:"ui-batch_create--sub"},[a("span",[e._v("本次导入数据共 "),a("span",{staticStyle:{color:"#1EAEFF"}},[e._v(e._s(e.importInfo.sup_count))]),e._v(" 条，其中 "),a("span",{staticStyle:{color:"#FF281C"}},[e._v(e._s(e.importInfo.err_count))]),e._v(" 条数据有误，请修正后重新上传！")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmUpload}},[e._v("确认上传")])],1)],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,otherHeight:["ui-batch_create--fn"]},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("p",[a("span",{class:t.row.err_field?"el-icon-warning":"el-icon-success"})]),e._v(" "),a("p",[e._v(e._s(t.row.num))])]}},{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",{class:e.autoFlagErrorInfo(t.row,"supplier_code")},[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag",class:"生产商"===t.row.type?"ui-table_flag1":"ui-table_flag3"},[a("span",[e._v(e._s(t.row.type.replace("商","")))])])])]}},{key:"supplier_name",fn:function(t){return[a("div",[a("p",{class:e.autoFlagErrorInfo(t.row,"supplier_name")},[e._v(e._s(t.row.supplier_name))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("el-popover",{attrs:{placement:"bottom",title:"供应商链接",width:"200",trigger:"click"}},[a("a",{attrs:{href:t.row.web_link,target:"_blank"}},[e._v(e._s(t.row.web_link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-gongyingshanglianjie"})])],1)],1)])]}},{key:"shipping_address",fn:function(t){return[a("div",[a("p",[a("span",{class:e.autoFlagErrorInfo(t.row,"shipping_province")},[e._v(e._s(t.row.shipping_province))]),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"shipping_city")},[e._v(e._s(t.row.shipping_city))])]),e._v(" "),a("p",[a("span",{class:e.autoFlagErrorInfo(t.row,"shipping_address")},[e._v(e._s(t.row.shipping_address))])])])]}},{key:"phone",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-ren icon-plain"}),a("span",{class:e.autoFlagErrorInfo(t.row,"contacts")},[e._v(e._s(t.row.contacts))]),e._v("/"),a("span",{class:e.autoFlagErrorInfo(t.row,"mobile")},[e._v(e._s(t.row.mobile))])]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"qq")},[a("i",{staticClass:"icon-QQ icon-main"}),a("a",{attrs:{target:"_self",href:"tencent://message/?uin="+t.row.qq}},[e._v(e._s(t.row.qq))])]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"wechat")},[a("i",{staticClass:"icon-weixin icon-wx"}),a("a",{attrs:{target:"_self",href:"weixin://message/"}},[e._v(e._s(t.row.wechat))])]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"email")},[a("i",{staticClass:"icon-youxiang icon-danger"}),e._v(e._s(t.row.email)+"\n                    ")])])]}},{key:"pay_method",fn:function(t){return["线上支付宝"===t.row.pay_method?a("div",[a("p",{class:e.autoFlagErrorInfo(t.row,"pay_method")},[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                    ")]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_account")},[a("i",{staticClass:"icon-zhifubaozhanghao1 icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_name")},[a("i",{staticClass:"icon-zhifubaomingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"shop_name")},[a("i",{staticClass:"icon-dianpumingcheng1 icon-dp"}),e._v(e._s(t.row.shop_name))])]):"线下境外"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"pay_method")},[e._v(e._s(t.row.pay_method))]),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"settle_method")},[e._v("("+e._s(t.row.settle_method)+")")])]),e._v(" "),a("p",[a("i",{staticClass:"icon-ren icon-main"}),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"receive_name")},[e._v(e._s(t.row.receive_name))]),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"receive_mobile")},[e._v("/"+e._s(t.row.receive_mobile))])]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_account")},[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_id_number")},[a("i",{staticClass:"icon-shenfenzhenghaoma icon-dp"}),e._v(e._s(t.row.receive_id_number))])]):"线下境内"===t.row.pay_method?a("div",{class:e.autoFlagErrorInfo(t.row,"pay_method")},[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"pay_method")},[e._v(e._s(t.row.pay_method))]),e._v(" "),a("span",{class:e.autoFlagErrorInfo(t.row,"settle_method")},[e._v("("+e._s(t.row.settle_method)+")")])]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_name")},[a("i",{staticClass:"icon-gongsimingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_account")},[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",{class:e.autoFlagErrorInfo(t.row,"receive_bank")},[a("i",{staticClass:"icon-kaihuhang icon-dp"}),e._v(e._s(t.row.receive_bank)+"\n                    ")])]):e._e()]}},{key:"tax_point",fn:function(t){return[a("span",{class:e.autoFlagErrorInfo(t.row,"tax_point")},[e._v(e._s(t.row.tax_point)+"（%）")])]}},{key:"create_user",fn:function(t){return[a("div",[t.row.devlop_user?a("p",{class:e.autoFlagErrorInfo(t.row,"devlop_user")},[a("span",[e._v("开发人：")]),a("span",[e._v(e._s(t.row.devlop_user))])]):e._e(),e._v(" "),t.row.create_user?a("p",{class:e.autoFlagErrorInfo(t.row,"create_user")},[a("span",[e._v("创建人：")]),a("span",[e._v(e._s(t.row.create_user))])]):e._e(),e._v(" "),t.row.check_user?a("p",{class:e.autoFlagErrorInfo(t.row,"check_user")},[a("span",[e._v("审核人：")]),a("span",[e._v(e._s(t.row.check_user))])]):e._e()])]}}])})],1)])},staticRenderFns:[]};var te=a("VU/8")(X,ee,!1,function(e){a("vaP2")},"data-v-7a9f7577",null).exports,ae=a("fZjL"),ie=a.n(ae),se=a("gRE1"),ne=a.n(se),oe={name:"BatchCreatePage",data:function(){return{tableKey:[],tableData:[],tableProps:[],saveCheckInfo:[],importInfo:{sup_count:0,err_count:0}}},computed:d()({},Object(h.c)(["loginInfo","batchCreateInfo"]),{importUrl:function(){return"/supplier/supplierAttach/uploadAttach"},downloadUrl:function(){return"/supplier/supplier/supplier_export_temp"}}),created:function(){},methods:{handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleUploadSuccess:function(e){console.log(e),this.handleUploadInfoCallBack(e)},autoFlagErrorInfo:function(e,t){return e.err_field&&e.err_field.split(",").indexOf(t)>-1?"ui-error_info":""},handleDownloadModule:function(){window.open(this.downloadUrl,"_self")},handleUploadInfoCallBack:function(e){this.tableData=e.data.value,this.tableKey=ne()(e.data.key),this.tableProps=ie()(e.data.key),this.importInfo={sup_count:e.data.total_num,err_count:e.data.err_num}},handleConfirmUpload:function(){var e=this;if(this.saveCheckInfo.length){var t=[];this.saveCheckInfo.forEach(function(e){var a=e.id;t.push(a)});var a={id:t.join(",")};Object(N.c)(a).then(function(t){var a=t.data;if(a.status)e.$message.success("操作成功！"),Object(m.l)(e,{path:"/create_supplier_upload",main:"/supplier_create_list",refresh:!0});else if(a.errorMess&&a.errorMess.length){var i="";a.errorMess.forEach(function(e){i+="<div>"+e+"</div>"}),e.$alert(i,"错误原因",{customClass:"ui-error-list",dangerouslyUseHTMLString:!0})}else e.$message.error(a.error_mess||"操作失败!")})}else this.$message.warning("请勾选数据！")}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDefault",{attrs:{color:"#fff"}},[a("div",{staticClass:"ui-batch_create"},[a("div",{staticClass:"ui-batch_create--fn"},[a("ComUpload",{attrs:{label:"选择文件",url:e.importUrl,upData:{user_id:e.loginInfo.staff_code||"12534"}},on:{success:e.handleUploadSuccess}}),e._v(" "),a("div",{staticClass:"ui-batch_create--sub"},[a("span",[e._v("本次导入数据共 "),a("span",{staticStyle:{color:"#1EAEFF"}},[e._v(e._s(e.importInfo.sup_count))]),e._v(" 条，其中 "),a("span",{staticStyle:{color:"#FF281C"}},[e._v(e._s(e.importInfo.err_count))]),e._v("条数据有误，"+e._s(0!==e.importInfo.err_count?"请修正后重新上传！":"请确认上传。"))]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmUpload}},[e._v("确认上传")])],1)],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,otherHeight:["ui-batch_create--fn"]},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"bl_url",fn:function(e){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:e.row.bl_url+"?v="+Math.random(),alt:""}})])]}},{key:"b_r_rul",fn:function(e){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:e.row.b_r_rul+"?v="+Math.random(),alt:""}})])]}},{key:"gtc_url",fn:function(e){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:e.row.gtc_url+"?v="+Math.random(),alt:""}})])]}},{key:"tca_url",fn:function(e){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:e.row.tca_url+"?v="+Math.random(),alt:""}})])]}}])})],1)])},staticRenderFns:[]};var le=a("VU/8")(oe,re,!1,function(e){a("RSQx")},"data-v-b8f9822c",null).exports,ce={components:{QueryPreview:F,OperationLog:Q},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:""},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowAudit:!1,isShowReject:!1,fileTypeList:{bl_url:"营业执照",tca_url:"收款协议",gtc_url:"纳税人证明",b_r_rul:"开票记录"},isShowLookImage:!1,lookImageUrl:[],isQueryPreview:!1,queryPreviewData:{},saveCheckId:"",isOpeLogShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","supplierQualifiedInfo"])),methods:d()({},Object(h.b)(["GetSupplierQualifiedListInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.supplier_qualified));var a=d()({supplier_code:this.queryData.supplierCode.replace(/\s+/g,","),type:this.queryData.supplierType,shipping_province:this.queryData.deliverAddress[0],shipping_city:this.queryData.deliverAddress[1],settle_method:this.queryData.settlementType,create_user:this.queryData.createUser,devlop_user:this.queryData.devUser,supplier_name:this.queryData.supplierName,contacts:this.queryData.liaisons,pay_method:this.queryData.paymentMode,start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1]},t);this.GetSupplierQualifiedListInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.city_code===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleOperaiontLog:function(e){var t=e.supplier_id;console.log(t),this.saveCheckId=t,this.isOpeLogShow=!0},handleExportListInfo:function(e){"_all"===e?this.handleQueryInfo({isExcel:1,export_type:2},!0):this.handleQueryInfo({isExcel:1,export_type:1},!0)},handlePreviewDetail:function(e){var t=this;T({credit_code:e.credit_code}).then(function(e){var a=e.data;t.queryPreviewData=a.result,t.isQueryPreview=!0})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleClickAudit:function(){this.saveCheckInfo.length?this.isShowAudit=!0:this.$message.warning("请勾选数据！")},handleConfirmAudit:function(e){console.log(e)},handleClickReject:function(){this.saveCheckInfo.length?this.isShowReject=!0:this.$message.warning("请勾选数据！")},handleConfirmReject:function(e){console.log(e)},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){if(this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"supplier_qualified",value:o()(this.queryData)}),!this.optionList.deliverAddressList.length){var t=[];e.select_list.province_info.forEach(function(e){var a={city_name:e.province_name,city_code:e.province_code};t.push(d()({},a,{children:[]}))}),this.optionList.deliverAddressList=[].concat(t),this.handleSelectDeliver(this.queryData.deliverAddress)}this.optionList.supplierTypeList=e.select_list.sup_type,this.optionList.settlementTypeList=e.select_list.sup_settle_method,this.optionList.devUserList=e.select_list.devlop_user,this.optionList.paymentModeList=e.select_list.sup_pay_method,this.optionList.createUserList=e.select_list.create_user,this.optionList.stateList=e.select_list.sup_status,this.tableData=e.data.value,this.tableKey=[].concat(z()(e.data.key)),this.tableKey.push("操作"),this.tableWidth=["80px","100px","180px","150px","180px","180px","180px","240px","80px","","100px"],this.tableProps=["index","supplier_code","supplier_name","shipping","contacts_info","payment_info","operate_dev_user","file_url","status","reject_remarks","operation"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.supplierQualifiedInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.supplier_qualified),this.handleQueryInfoCallBack(this.supplierQualifiedInfo))}catch(e){console.log(e)}}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商类型"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.supplierType,callback:function(t){e.$set(e.queryData,"supplierType",t)},expression:"queryData.supplierType"}},e._l(e.optionList.supplierTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.settlementType,callback:function(t){e.$set(e.queryData,"settlementType",t)},expression:"queryData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"开发人",template:"select",options:e.optionList.devUserList},model:{value:e.queryData.devUser,callback:function(t){e.$set(e.queryData,"devUser",t)},expression:"queryData.devUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"发货地址"}},[a("el-cascader",{attrs:{"change-on-select":"",size:"small",placeholder:"请选择",options:e.optionList.deliverAddressList,filterable:"",props:{value:"city_code",label:"city_name"}},on:{change:e.handleSelectDeliver},model:{value:e.queryData.deliverAddress,callback:function(t){e.$set(e.queryData,"deliverAddress",t)},expression:"queryData.deliverAddress"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.paymentMode,callback:function(t){e.$set(e.queryData,"paymentMode",t)},expression:"queryData.paymentMode"}},e._l(e.optionList.paymentModeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"联络人"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.liaisons,callback:function(t){e.$set(e.queryData,"liaisons",t)},expression:"queryData.liaisons"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建人",template:"select",options:e.optionList.createUserList},model:{value:e.queryData.createUser,callback:function(t){e.$set(e.queryData,"createUser",t)},expression:"queryData.createUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建日期",template:"daterange"},model:{value:e.queryData.createTime,callback:function(t){e.$set(e.queryData,"createTime",t)},expression:"queryData.createTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleExportListInfo("_this")}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出当前页\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleExportListInfo("_all")}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出全部\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag",class:"生产商"===t.row.type?"ui-table_flag1":"ui-table_flag3"},[a("span",[e._v(e._s(t.row.type.replace("商","")))])])])]}},{key:"supplier_name",fn:function(t){return[a("div",[a("p",[e._v(e._s(t.row.supplier_name))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("el-popover",{attrs:{placement:"bottom",title:"供应商链接",width:"200",trigger:"click"}},[a("span",{staticClass:"ui-link"},[e._v(e._s(t.row.web_link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-gongyingshanglianjie"})])],1),e._v(" "),a("i",{staticClass:"icon-tianyancha",on:{click:function(a){e.handlePreviewDetail(t.row)}}})],1)])]}},{key:"shipping",fn:function(t){return[a("div",[a("p",[e._v(e._s(""+t.row.shipping_province+t.row.shipping_city))]),e._v(" "),a("p",[e._v(e._s(""+t.row.shipping_area+t.row.shipping_address))])])]}},{key:"contacts_info",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-ren icon-plain"}),e._v(e._s(t.row.contacts+"/"+t.row.mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-QQ icon-main"}),a("a",{attrs:{target:"_self",href:"tencent://message/?uin="+t.row.qq}},[e._v(e._s(t.row.qq))])]),e._v(" "),a("p",[a("i",{staticClass:"icon-weixin icon-wx"}),e._v(e._s(t.row.wechat))]),e._v(" "),a("p",[a("i",{staticClass:"icon-youxiang icon-danger"}),e._v(e._s(t.row.email))])])]}},{key:"payment_info",fn:function(t){return["线上支付宝"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaozhanghao1 icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaomingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-dianpumingcheng1 icon-dp"}),e._v(e._s(t.row.shop_name))])]):"线下境外"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-ren icon-main"}),e._v(e._s(t.row.receive_name+"/"+t.row.receive_mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-shenfenzhenghaoma icon-dp"}),e._v(e._s(t.row.receive_id_number))])]):"线下境内"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-gongsimingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-kaihuhang icon-dp"}),e._v(e._s(t.row.receive_bank))])]):e._e()]}},{key:"operate_dev_user",fn:function(t){return[a("div",[t.row.devlop_user?a("p",[a("span",[e._v("开发人：")]),a("span",[e._v(e._s(t.row.devlop_user))])]):e._e(),e._v(" "),t.row.create_user?a("p",[a("span",[e._v("创建人：")]),a("span",[e._v(e._s(t.row.create_user))])]):e._e(),e._v(" "),t.row.check_user?a("p",[a("span",[e._v("审核人：")]),a("span",[e._v(e._s(t.row.check_user))])]):e._e()])]}},{key:"file_url",fn:function(t){return[a("ul",{staticClass:"ui-table_img"},e._l(e.fileTypeList,function(i,s){return t.row[s]?a("li",[""!==t.row[s]?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row[s]+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row[s])}}})])])]):e._e(),e._v(" "),a("span",[e._v(e._s(i))])]):e._e()}))]}},{key:"status",fn:function(t){return["2"==t.row.status_code||"5"==t.row.status_code?a("div",[a("span",{staticClass:"ui-state_circle state_orange"}),e._v(e._s(t.row.status)+"\n            ")]):e._e(),e._v(" "),"1"==t.row.status_code||"3"==t.row.status_code?a("div",[a("span",{staticClass:"ui-state_circle state_blue"}),e._v(e._s(t.row.status)+"\n            ")]):e._e(),e._v(" "),"4"==t.row.status_code||"6"==t.row.status_code?a("div",[a("span",{staticClass:"ui-state_circle state_red"}),e._v(e._s(t.row.status)+"\n            ")]):e._e()]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleOperaiontLog(t.row)}}},[e._v("操作日志")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAudit,title:"审核"},on:{"update:visible":function(t){e.isShowAudit=t},confirm:e.handleConfirmAudit}}),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowReject,title:"驳回"},on:{"update:visible":function(t){e.isShowReject=t},confirm:e.handleConfirmReject}}),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("QueryPreview",{attrs:{show:e.isQueryPreview,detail:e.queryPreviewData},on:{"update:show":function(t){e.isQueryPreview=t}}}),e._v(" "),a("OperationLog",{attrs:{show:e.isOpeLogShow,id:e.saveCheckId},on:{"update:show":function(t){e.isOpeLogShow=t}}})],1)},staticRenderFns:[]};var de=a("VU/8")(ce,ue,!1,function(e){a("yU0p")},"data-v-96696564",null).exports,pe={components:{QueryPreview:F,OperationLog:Q},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:""},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowAudit:!1,isShowReject:!1,fileTypeList:{bl_url:"营业执照",tca_url:"收款协议",gtc_url:"纳税人证明",b_r_rul:"开票记录"},isShowLookImage:!1,lookImageUrl:[],isQueryPreview:!1,queryPreviewData:{},isPreviewShow:!1,formLabelWidth:"110px",saveFileList:[],editData:{comCode:"",supplierCode:"",supplierName:"",applyAddress:"",applyDate:"",companyType:"",supplierLink:"",pAndCity:[],area:"",contacts:"",phoneNumber:"",contactsPhone:"",wxNumber:"",qqNumber:"",email:"",paymentType:"",settlementType:"",point:""},addFormItemConfig:{1:[{label:"店铺名称",key:"shopName",value:""},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"开发人",key:"devUser"},{label:"审核人",key:"auditUser"},{label:"导入日期",key:"importDate"}],2:[{label:"收款人手机号",key:"gatheringPhone",isLabelLayout:!0},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"收款人身份证",key:"gatheringId",isLabelLayout:!0},{label:"开发人",key:"devUser"},{label:"审核人",key:"auditUser"},{label:"导入日期",key:"importDate"}],3:[{label:"开户行名称",key:"bankName"},{label:"收款名称",key:"gatheringName"},{label:"收款账号",key:"gatheringAccount"},{label:"开发人",key:"devUser"},{label:"审核人",key:"auditUser"},{label:"导入日期",key:"importDate"}]},saveCheckId:"",isOpeLogShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","supplierDisAuditInfo"]),{addFormItemOption:function(){return this.addFormItemConfig[this.editData.paymentType]}}),methods:d()({},Object(h.b)(["GetSupplierDisabledAuditInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.supplier_dis_audit));var a=d()({status:this.queryData.state,supplier_code:this.queryData.supplierCode.replace(/\s+/g,","),type:this.queryData.supplierType,shipping_province:this.queryData.deliverAddress[0],shipping_city:this.queryData.deliverAddress[1],settle_method:this.queryData.settlementType,create_user:this.queryData.createUser,devlop_user:this.queryData.devUser,supplier_name:this.queryData.supplierName,contacts:this.queryData.liaisons,pay_method:this.queryData.paymentMode,start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1]},t);this.GetSupplierDisabledAuditInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:"",state:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleOperaiontLog:function(e){var t=e.supplier_id;this.saveCheckId=t,this.isOpeLogShow=!0},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handlePreviewDetail:function(e){var t=this;T({credit_code:e.credit_code}).then(function(e){var a=e.data;t.queryPreviewData=a.result,t.isQueryPreview=!0})},handleClickPreview:function(e){var t=this,a=e.supplier_id,i=e.status_code;this.isPreviewShow=!0;var s={supplier_id:a,status:i};Object(N.d)(s).then(function(e){var i=e.data;for(var s in t.handleSelectDeliver([i.data.data.province_code]),t.saveCheckId=a,t.isEditShow=!0,t.editData.comCode=i.data.data.credit_code,t.editData.supplierName=i.data.data.supplier_name,t.editData.supplierCode=i.data.data.supplier_code,t.editData.applyAddress=i.data.data.reg_address,t.editData.applyDate=i.data.data.reg_time,t.editData.companyType=i.data.data.type,t.editData.supplierLink=i.data.data.web_link,t.editData.pAndCity=[i.data.data.province_code,"1000"],t.editData.area=i.data.data.shipping_address,t.editData.contacts=i.data.data.contacts,t.editData.phoneNumber=i.data.data.mobile,t.editData.contactsPhone=i.data.data.phone,t.editData.wxNumber=i.data.data.wechat,t.editData.qqNumber=i.data.data.qq,t.editData.email=i.data.data.email,t.editData.paymentType=i.data.data.pay_method,t.editData.settlementType=i.data.data.settle_method,t.editData.point=i.data.data.tax_point,t.editData.devUser=i.data.data.devlop_user,t.editData.auditUser=i.data.data.check_user,t.editData.importDate=i.data.data.create_time,t.editData.gatheringAccount=i.data.data.receive_account,t.editData.bankName=i.data.data.receive_bank,t.editData.gatheringName=i.data.data.receive_name,t.editData.gatheringId=i.data.data.receive_id_number,t.editData.gatheringPhone=i.data.data.receive_mobile,t.editData.shopName=i.data.data.shop_name,t.fileTypeList)i.data.data[s]&&t.saveFileList.push({name:t.fileTypeList[s],url:i.data.data[s]})})},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.city_code===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleClickAudit:function(){this.saveCheckInfo.length?this.isShowAudit=!0:this.$message.warning("请勾选数据！")},handleConfirmAudit:function(e){var t=this,a=e.remark,i=Object(m.b)(6,a,this.saveCheckInfo);Object(N.a)(i).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleClickReject:function(){this.saveCheckInfo.length?this.isShowReject=!0:this.$message.warning("请勾选数据！")},handleConfirmReject:function(e){var t=this,a=e.remark,i=Object(m.b)(4,a,this.saveCheckInfo);Object(N.a)(i).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){if(this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"supplier_dis_audit",value:o()(this.queryData)}),!this.optionList.deliverAddressList.length){var t=[];e.select_list.province_info.forEach(function(e){var a={city_name:e.province_name,city_code:e.province_code};t.push(d()({},a,{children:[]}))}),this.optionList.deliverAddressList=[].concat(t),this.handleSelectDeliver(this.queryData.deliverAddress)}this.optionList.supplierTypeList=e.select_list.sup_type,this.optionList.settlementTypeList=e.select_list.sup_settle_method,this.optionList.devUserList=e.select_list.devlop_user,this.optionList.paymentModeList=e.select_list.sup_pay_method,this.optionList.createUserList=e.select_list.create_user,this.optionList.stateList=e.select_list.sup_status,this.tableData=e.data.value,this.tableKey=[].concat(z()(e.data.key)),this.tableKey.push("操作"),this.tableWidth=["80px","100px","180px","150px","180px","180px","180px","240px","80px","","100px"],this.tableProps=["index","supplier_code","supplier_name","shipping","contacts_info","payment_info","operate_dev_user","file_url","status","disable_reason","operation"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.supplierDisAuditInfo)?this.handleQueryInfo():(this.queryData=JSON.parse(this.queryParamsInfo.supplier_dis_audit),this.handleQueryInfoCallBack(this.supplierDisAuditInfo))}catch(e){console.log(e)}}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商类型"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.supplierType,callback:function(t){e.$set(e.queryData,"supplierType",t)},expression:"queryData.supplierType"}},e._l(e.optionList.supplierTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.settlementType,callback:function(t){e.$set(e.queryData,"settlementType",t)},expression:"queryData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"开发人",template:"select",options:e.optionList.devUserList},model:{value:e.queryData.devUser,callback:function(t){e.$set(e.queryData,"devUser",t)},expression:"queryData.devUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"发货地址"}},[a("el-cascader",{attrs:{"change-on-select":"",size:"small",placeholder:"请选择",options:e.optionList.deliverAddressList,filterable:"",props:{value:"city_code",label:"city_name"}},on:{change:e.handleSelectDeliver},model:{value:e.queryData.deliverAddress,callback:function(t){e.$set(e.queryData,"deliverAddress",t)},expression:"queryData.deliverAddress"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.paymentMode,callback:function(t){e.$set(e.queryData,"paymentMode",t)},expression:"queryData.paymentMode"}},e._l(e.optionList.paymentModeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"联络人"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.liaisons,callback:function(t){e.$set(e.queryData,"liaisons",t)},expression:"queryData.liaisons"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建人",template:"select",options:e.optionList.createUserList},model:{value:e.queryData.createUser,callback:function(t){e.$set(e.queryData,"createUser",t)},expression:"queryData.createUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建日期",template:"daterange"},model:{value:e.queryData.createTime,callback:function(t){e.$set(e.queryData,"createTime",t)},expression:"queryData.createTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAudit}},[a("i",{staticClass:"icon-shenhe icon-warn"}),e._v("审核\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickReject}},[a("i",{staticClass:"icon-bohui icon-danger"}),e._v("驳回\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("div",[a("p",[e._v(e._s(e.autoAddTableInx(t.$index)))])])]}},{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag",class:"生产商"===t.row.type?"ui-table_flag1":"ui-table_flag3"},[a("span",[e._v(e._s(t.row.type.replace("商","")))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"})])]}},{key:"supplier_name",fn:function(t){return[a("div",[a("p",[e._v(e._s(t.row.supplier_name))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("el-popover",{attrs:{placement:"bottom",title:"供应商链接",width:"200",trigger:"click"}},[a("span",{staticClass:"ui-link"},[e._v(e._s(t.row.web_link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-gongyingshanglianjie"})])],1),e._v(" "),a("i",{staticClass:"icon-tianyancha",on:{click:function(a){e.handlePreviewDetail(t.row)}}})],1)])]}},{key:"shipping",fn:function(t){return[a("div",[a("p",[e._v(e._s(""+t.row.shipping_province+t.row.shipping_city))]),e._v(" "),a("p",[e._v(e._s(""+t.row.shipping_area+t.row.shipping_address))])])]}},{key:"contacts_info",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-ren icon-plain"}),e._v(e._s(t.row.contacts+"/"+t.row.mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-QQ icon-main"}),a("a",{attrs:{target:"_self",href:"tencent://message/?uin="+t.row.qq}},[e._v(e._s(t.row.qq))])]),e._v(" "),a("p",[a("i",{staticClass:"icon-weixin icon-wx"}),e._v(e._s(t.row.wechat))]),e._v(" "),a("p",[a("i",{staticClass:"icon-youxiang icon-danger"}),e._v(e._s(t.row.email))])])]}},{key:"payment_info",fn:function(t){return["线上支付宝"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaozhanghao1 icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaomingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-dianpumingcheng1 icon-dp"}),e._v(e._s(t.row.shop_name))])]):"线下境外"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-ren icon-main"}),e._v(e._s(t.row.receive_name+"/"+t.row.receive_mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-shenfenzhenghaoma icon-dp"}),e._v(e._s(t.row.receive_id_number))])]):"线下境内"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-gongsimingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-kaihuhang icon-dp"}),e._v(e._s(t.row.receive_bank))])]):e._e()]}},{key:"operate_dev_user",fn:function(t){return[a("div",[t.row.devlop_user?a("p",[a("span",[e._v("开发人：")]),a("span",[e._v(e._s(t.row.devlop_user))])]):e._e(),e._v(" "),t.row.create_user?a("p",[a("span",[e._v("创建人：")]),a("span",[e._v(e._s(t.row.create_user))])]):e._e(),e._v(" "),t.row.check_user?a("p",[a("span",[e._v("审核人：")]),a("span",[e._v(e._s(t.row.check_user))])]):e._e()])]}},{key:"file_url",fn:function(t){return[a("ul",{staticClass:"ui-table_img"},e._l(e.fileTypeList,function(i,s){return t.row[s]?a("li",[""!==t.row[s]?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row[s]+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row[s])}}})])])]):e._e(),e._v(" "),a("span",[e._v(e._s(i))])]):e._e()}))]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleOperaiontLog(t.row)}}},[e._v("操作日志")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{"custom-class":"ui-com_edit",title:"预览",width:"1200px",top:"3vh",visible:e.isPreviewShow},on:{"update:visible":function(t){e.isPreviewShow=t}}},[a("div",{staticClass:"ui-com_edit--content--item"},[a("el-form",{ref:"editData",attrs:{model:e.editData}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"统一社会信用代码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.comCode,callback:function(t){e.$set(e.editData,"comCode",t)},expression:"editData.comCode"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierName",label:"供应商全称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.supplierName,callback:function(t){e.$set(e.editData,"supplierName",t)},expression:"editData.supplierName"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"applyAddress",label:"注册地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.applyAddress,callback:function(t){e.$set(e.editData,"applyAddress",t)},expression:"editData.applyAddress"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"applyDate",label:"注册日期","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.applyDate,callback:function(t){e.$set(e.editData,"applyDate",t)},expression:"editData.applyDate"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierLink",label:"供应商链接","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.supplierLink,callback:function(t){e.$set(e.editData,"supplierLink",t)},expression:"editData.supplierLink"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-com_edit--content--item--double"},[a("el-form-item",{attrs:{prop:"pAndCity",label:"发货地址","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{filterable:"","change-on-select":"",size:"small",options:e.optionList.deliverAddressList,props:{value:"city_code",label:"city_name"}},on:{change:e.handleSelectDeliver},model:{value:e.editData.pAndCity,callback:function(t){e.$set(e.editData,"pAndCity",t)},expression:"editData.pAndCity"}}),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.area,callback:function(t){e.$set(e.editData,"area",t)},expression:"editData.area"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"companyType",label:"公司类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.companyType,callback:function(t){e.$set(e.editData,"companyType",t)},expression:"editData.companyType"}},e._l(e.optionList.companyTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"phoneNumber",label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.phoneNumber,callback:function(t){e.$set(e.editData,"phoneNumber",t)},expression:"editData.phoneNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contactsPhone",label:"联系电话","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.contactsPhone,callback:function(t){e.$set(e.editData,"contactsPhone",t)},expression:"editData.contactsPhone"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contacts",label:"联系人","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.contacts,callback:function(t){e.$set(e.editData,"contacts",t)},expression:"editData.contacts"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"qqNumber","label-width":e.formLabelWidth}},[a("label",{attrs:{slot:"label"},slot:"label"},[e._v("Q Q 号码")]),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.qqNumber,callback:function(t){e.$set(e.editData,"qqNumber",t)},expression:"editData.qqNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"email",label:"电子邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.email,callback:function(t){e.$set(e.editData,"email",t)},expression:"editData.email"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"wxNumber","label-width":e.formLabelWidth}},[a("label",{attrs:{slot:"label"},slot:"label"},[e._v("微信号")]),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.editData.wxNumber,callback:function(t){e.$set(e.editData,"wxNumber",t)},expression:"editData.wxNumber"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"settlementType",label:"结算方式","label-width":e.formLabelWidth}},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.settlementType,callback:function(t){e.$set(e.editData,"settlementType",t)},expression:"editData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"point",label:"开票税点","label-width":e.formLabelWidth}},[a("el-input",{attrs:{size:"small"},model:{value:e.editData.point,callback:function(t){e.$set(e.editData,"point",t)},expression:"editData.point"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-com_edit--content--item--layout"},[a("el-form-item",{attrs:{prop:"paymentType","label-width":"35px"}},[a("el-radio-group",{model:{value:e.editData.paymentType,callback:function(t){e.$set(e.editData,"paymentType",t)},expression:"editData.paymentType"}},[a("el-radio",{attrs:{label:"1"}},[e._v("线上支付宝")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("线下境外")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("线下境内")])],1)],1)],1),e._v(" "),a("ComFormItem",{attrs:{option:e.addFormItemOption,"label-width":e.formLabelWidth,size:"small"},model:{value:e.editData,callback:function(t){e.editData=t},expression:"editData"}})],1)]),e._v(" "),a("div",{staticClass:"ui-com_edit__dialog--title"},[a("span",[e._v("上传附属图片")])]),e._v(" "),a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.saveFileList,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})]),e._v(" "),a("span",[e._v(e._s(t.name.replace(/.[a-zA-Z]+$/,"")))])])])}))])],1)]),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",visible:e.isShowAudit,title:"审核"},on:{"update:visible":function(t){e.isShowAudit=t},confirm:e.handleConfirmAudit}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",visible:e.isShowReject,title:"驳回"},on:{"update:visible":function(t){e.isShowReject=t},confirm:e.handleConfirmReject}}),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("QueryPreview",{attrs:{show:e.isQueryPreview,detail:e.queryPreviewData},on:{"update:show":function(t){e.isQueryPreview=t}}}),e._v(" "),a("OperationLog",{attrs:{show:e.isOpeLogShow,id:e.saveCheckId},on:{"update:show":function(t){e.isOpeLogShow=t}}})],1)},staticRenderFns:[]};var _e=a("VU/8")(pe,he,!1,function(e){a("Oq9c")},"data-v-3042ca7c",null).exports,me={components:{QueryPreview:F,OperationLog:Q},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:""},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{}},deliverAddressProps:{value:""},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],fileTypeList:{bl_url:"营业执照",tca_url:"收款协议",gtc_url:"纳税人证明",b_r_rul:"开票记录"},isQueryPreview:!1,queryPreviewData:{},saveCheckId:"",isOpeLogShow:!1,isOpeFnShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","supplierDisabledListInfo"])),methods:d()({},Object(h.b)(["GetSupplierDisabledListInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.supplier_dis_list));var a=d()({supplier_code:this.queryData.supplierCode.replace(/\s+/g,","),type:this.queryData.supplierType,shipping_province:this.queryData.deliverAddress[0],shipping_city:this.queryData.deliverAddress[1],settle_method:this.queryData.settlementType,create_user:this.queryData.createUser,devlop_user:this.queryData.devUser,supplier_name:this.queryData.supplierName,contacts:this.queryData.liaisons,pay_method:this.queryData.paymentMode,start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1]},t);this.GetSupplierDisabledListInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.city_code===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleOperaiontLog:function(e){var t=e.supplier_id;this.saveCheckId=t,this.isOpeLogShow=!0},handleExportListInfo:function(e){"_all"===e?this.handleQueryInfo({isExcel:1,export_type:2},!0):this.handleQueryInfo({isExcel:1,export_type:1},!0)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleClickCancelDis:function(){this.saveCheckInfo.length?this.isOpeFnShow=!0:this.$message.warning("请勾选数据！")},handleCancelDisabled:function(e){var t=this,a=e.remark,i=Object(m.b)(4,a,this.saveCheckInfo);Object(N.a)(i).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handlePreviewDetail:function(e){var t=this;T({credit_code:e.credit_code}).then(function(e){var a=e.data;t.queryPreviewData=a.result,t.isQueryPreview=!0})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){if(this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"supplier_dis_list",value:o()(this.queryData)}),!this.optionList.deliverAddressList.length){var t=[];e.select_list.province_info.forEach(function(e){var a={city_name:e.province_name,city_code:e.province_code};t.push(d()({},a,{children:[]}))}),this.optionList.deliverAddressList=[].concat(t),this.handleSelectDeliver(this.queryData.deliverAddress)}this.optionList.supplierTypeList=e.select_list.sup_type,this.optionList.settlementTypeList=e.select_list.sup_settle_method,this.optionList.devUserList=e.select_list.devlop_user,this.optionList.paymentModeList=e.select_list.sup_pay_method,this.optionList.createUserList=e.select_list.create_user,this.optionList.stateList=e.select_list.sup_status,this.tableData=e.data.value,this.tableKey=[].concat(z()(e.data.key)),this.tableKey.push("操作"),this.tableWidth=["80px","100px","180px","150px","180px","180px","180px","240px","80px","","100px"],this.tableProps=["index","supplier_code","supplier_name","shipping","contacts_info","payment_info","operate_dev_user","file_url","status","disable_reason","operation"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.supplierDisabledListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.supplier_dis_list),this.handleQueryInfoCallBack(this.supplierDisabledListInfo))}catch(e){console.log(e)}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商类型"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.supplierType,callback:function(t){e.$set(e.queryData,"supplierType",t)},expression:"queryData.supplierType"}},e._l(e.optionList.supplierTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.settlementType,callback:function(t){e.$set(e.queryData,"settlementType",t)},expression:"queryData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"开发人",template:"select",options:e.optionList.devUserList},model:{value:e.queryData.devUser,callback:function(t){e.$set(e.queryData,"devUser",t)},expression:"queryData.devUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"发货地址"}},[a("el-cascader",{attrs:{"change-on-select":"",size:"small",placeholder:"请选择",options:e.optionList.deliverAddressList,filterable:"",props:{value:"city_code",label:"city_name"}},on:{change:e.handleSelectDeliver},model:{value:e.queryData.deliverAddress,callback:function(t){e.$set(e.queryData,"deliverAddress",t)},expression:"queryData.deliverAddress"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"支付方式"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.paymentMode,callback:function(t){e.$set(e.queryData,"paymentMode",t)},expression:"queryData.paymentMode"}},e._l(e.optionList.paymentModeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"联络人"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.liaisons,callback:function(t){e.$set(e.queryData,"liaisons",t)},expression:"queryData.liaisons"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建人",template:"select",options:e.optionList.createUserList},model:{value:e.queryData.createUser,callback:function(t){e.$set(e.queryData,"createUser",t)},expression:"queryData.createUser"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"创建日期",template:"daterange"},model:{value:e.queryData.createTime,callback:function(t){e.$set(e.queryData,"createTime",t)},expression:"queryData.createTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickCancelDis}},[a("i",{staticClass:"icon-quxiaojinyong icon-danger"}),e._v("取消禁用\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleExportListInfo("_this")}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出当前页\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleExportListInfo("_all")}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出全部\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("div",[a("p",[e._v(e._s(e.autoAddTableInx(t.$index)))])])]}},{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag",class:"生产商"===t.row.type?"ui-table_flag1":"ui-table_flag3"},[a("span",[e._v(e._s(t.row.type.replace("商","")))])])])]}},{key:"supplier_name",fn:function(t){return[a("div",[a("p",[e._v(e._s(t.row.supplier_name))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("el-popover",{attrs:{placement:"bottom",title:"供应商链接",width:"200",trigger:"click"}},[a("span",{staticClass:"ui-link"},[e._v(e._s(t.row.web_link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-gongyingshanglianjie"})])],1),e._v(" "),a("i",{staticClass:"icon-tianyancha",on:{click:function(a){e.handlePreviewDetail(t.row)}}})],1)])]}},{key:"shipping",fn:function(t){return[a("div",[a("p",[e._v(e._s(""+t.row.shipping_province+t.row.shipping_city))]),e._v(" "),a("p",[e._v(e._s(""+t.row.shipping_area+t.row.shipping_address))])])]}},{key:"contacts_info",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-ren icon-plain"}),e._v(e._s(t.row.contacts+"/"+t.row.mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-QQ icon-main"}),a("a",{attrs:{target:"_self",href:"tencent://message/?uin="+t.row.qq}},[e._v(e._s(t.row.qq))])]),e._v(" "),a("p",[a("i",{staticClass:"icon-weixin icon-wx"}),e._v(e._s(t.row.wechat))]),e._v(" "),a("p",[a("i",{staticClass:"icon-youxiang icon-danger"}),e._v(e._s(t.row.email))])])]}},{key:"payment_info",fn:function(t){return["线上支付宝"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaozhanghao1 icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-zhifubaomingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-dianpumingcheng1 icon-dp"}),e._v(e._s(t.row.shop_name))])]):"线下境外"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-ren icon-main"}),e._v(e._s(t.row.receive_name+"/"+t.row.receive_mobile))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-shenfenzhenghaoma icon-dp"}),e._v(e._s(t.row.receive_id_number))])]):"线下境内"===t.row.pay_method?a("div",[a("p",[a("i",{staticClass:"icon-zhifufangshi icon-warn"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")")+"\n                ")]),e._v(" "),a("p",[a("i",{staticClass:"icon-gongsimingcheng icon-main"}),e._v(e._s(t.row.receive_name))]),e._v(" "),a("p",[a("i",{staticClass:"icon-yinhangqiazhanghao icon-main"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-kaihuhang icon-dp"}),e._v(e._s(t.row.receive_bank))])]):e._e()]}},{key:"operate_dev_user",fn:function(t){return[a("div",[t.row.devlop_user?a("p",[a("span",[e._v("开发人：")]),a("span",[e._v(e._s(t.row.devlop_user))])]):e._e(),e._v(" "),t.row.create_user?a("p",[a("span",[e._v("创建人：")]),a("span",[e._v(e._s(t.row.create_user))])]):e._e(),e._v(" "),t.row.check_user?a("p",[a("span",[e._v("审核人：")]),a("span",[e._v(e._s(t.row.check_user))])]):e._e()])]}},{key:"file_url",fn:function(t){return[a("ul",{staticClass:"ui-table_img"},e._l(e.fileTypeList,function(i,s){return t.row[s]?a("li",{key:s},[""!==t.row[s]?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row[s]+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row[s])}}})])])]):e._e(),e._v(" "),a("span",[e._v(e._s(i))])]):e._e()}))]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleOperaiontLog(t.row)}}},[e._v("操作日志")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("QueryPreview",{attrs:{show:e.isQueryPreview,detail:e.queryPreviewData},on:{"update:show":function(t){e.isQueryPreview=t}}}),e._v(" "),a("OperationLog",{attrs:{show:e.isOpeLogShow,id:e.saveCheckId},on:{"update:show":function(t){e.isOpeLogShow=t}}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",visible:e.isOpeFnShow},on:{"update:visible":function(t){e.isOpeFnShow=t},confirm:e.handleCancelDisabled}})],1)},staticRenderFns:[]};var ve=a("VU/8")(me,fe,!1,function(e){a("rIwv")},"data-v-e1a4d1a0",null).exports,ge={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("供应商开发报表")])},staticRenderFns:[]};var ye=a("VU/8")({name:"SupplierDevList"},ge,!1,function(e){a("VbkS")},"data-v-a6a9d33c",null).exports,be={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("商品开发调研")])},staticRenderFns:[]};var ke=a("VU/8")({name:"ProductDevSurvey"},be,!1,function(e){a("cNEj")},"data-v-d5036b48",null).exports,De=a("bOdI"),we=a.n(De),Ce=a("3jHV"),Le={name:"SKUPage",props:["row","sku","type"],data:function(){return{testCheck:[],editShowArea:["1","2","3","4","5","6"],tableKey:["商品SKU","商品名称","产品目录","样品类型","供应商资料"],tableProps:["sku","good_name","category_path","sample_type","supplier_datum"],optionList:{packTypeList:{},brandAttrList:{},attrCheckList:{},countryList:{},infringementType:{},platformList:{}},editData:{packType:"",packWeight:"",packLength:"",sampleWeight:"",sampleRemarks:"",packList:"",brandAttr:"",productBrand:"",productModel:"",isHaveLogo:"",materialQuality:"",productUse:"",workPrinciple:"",isTort:"",isCheckPrice:"",isEmpower:"",isDisSales:"",checkPriceInfo:[[{},{},{}]],tortInfo:[[{},{}]],disSalesInfo:[[{},{}]],empowerInfo:{},publishAttr:[],orderAttr:[],orderAttrFile:{},basisAttr:[],specialAttr:[],batteryAttr:[],batteryInfo:[],isBanAttr:[],banInfo:"",modelAttr:[],overseas:[],certificateType:[],certificateTypeInfo:"",instructions:[],instructionsInfo:""},editRule:{},showAttrHideKey:{batteryAttr:["内置电池","配套电池","纯电池"],isBanAttr:["管制刀具"],certificateType:["其它"],instructions:["其它"],orderAttr:[]},saveFileData:{appendixDatum:[],devImage:[]},saveUrlFile:{devImage:[],appendixDatum:[]},lookImageUrl:"",isShowLookImage:!1,isIndeterminate:!1,checkAllSku:!1,checkSku:[],syncLabelCheck:{appendixDatumSync:[],devImageSync:[],productComDatumSync:[],tortDatumSync:[],productAttrDatumSync:[]},syncCheck:[],syncIsNoAllCheck:[],syncCheckArea:[["packType","packWeight","packLength","sampleWeight"],["brandAttr","productBrand","productModel","isHaveLogo","materialQuality","productUse","workPrinciple","isTort","isCheckPrice","isEmpower","isDisSales","checkPriceInfo","tortInfo","disSalesInfo"],null,null,["publishAttr","orderAttr","basisAttr","specialAttr","batteryAttr","isBanAttr","modelAttr","overseas","certificateType","instructions"]]}},computed:{isPreview:function(){return"preview"===this.type},tableData:function(){return"{}"===o()(this.row)?[]:[d()({},this.row,{sku:this.sku})]},skuList:function(){var e=[];return this.$parent.row&&this.$parent.row.sku&&(e=this.$parent.row.sku.split(",")),e},firstUrl:function(){return f.a.PRODUCTION_PATH}},created:function(){var e=this;Object(Ce.e)().then(function(t){var a=t.data;if(e.optionList.attrCheckList=a.select_list.attribute,e.optionList.packTypeList=a.select_list.pack_type,e.optionList.brandAttrList=a.select_list.brand_attribute,e.optionList.countryList=a.select_list.country,e.optionList.infringementType=a.select_list.infringement_type,e.optionList.platformList=a.select_list.platform,Array.isArray(e.$parent.editPageData[e.sku])){var i={is_reject:e.row.reject_type,spu:e.row.spu[0]};Object(Ce.g)(i).then(function(t){var a=t.data;a.data.myfile.forEach(function(t,a){e.saveFileData.devImage.push({url:t});var i=/\/[0-9A-Za-z._-]+$/.exec(t)||["未知图片.jpeg"];Object(m.i)(t,i[0].replace(".",""),function(t){e.saveUrlFile.devImage.splice(a,1,t)})}),e.editData.sampleRemarks=a.data.buy_sample_note;var i=!0;a.data.otherSku&&JSON.parse(a.data.otherSku).forEach(function(t){t.sku===e.sku&&(e.editData.packList=t.packList,i=!1)}),i&&(e.editData.packList=a.data.pack_list)})}else e.handleInitData()})},methods:{handleSaveFileList:function(e,t){this.saveFileData[e]=[].concat(z()(this.saveFileData[e]),z()(t)),this.$refs[e].clearFiles()},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleDeleteFile:function(e,t,a){var i=a.type;this.saveFileData[t].splice(e,1),this.saveUrlFile[t].splice(e,1),"preview"===i&&(this.editData.empowerInfo={})},handleAddInput:function(e,t){var a=void 0;switch(e){case"disSalesInfo":case"tortInfo":a=[{},{}];break;case"checkPriceInfo":a=[{},{},{}];break;default:a=""}this.editData[e].splice(t,0,a)},handleDeleteInput:function(e,t){this.editData[e].length<2||this.editData[e].splice(t,1)},autoAddActiveClass:function(e,t){return e[t]},autoShowHideAttrKey:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{label:"attribute_value_cn",value:"id"};if(!e)return!1;if(Array.isArray(e)){var s=!0,n=!1,o=void 0;try{for(var r,l=U()(e);!(s=(r=l.next()).done);s=!0){var c=r.value;try{if(this.editData[t].indexOf(c[i.value])>-1){var u=this.showAttrHideKey[t].indexOf(c[i.label]);if(u>-1&&u===a)return!0}}catch(e){console.log(this.editData[t]),console.log(t),console.log(i.value)}}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return!1}},handleSyncCheckLabel:function(e,t,a){this.isPreview||(this.$set(this.syncLabelCheck[e],t,!this.syncLabelCheck[e][t]),this.handleSyncCheckChange(a,e))},handleSyncCheckChange:function(e,t){var a=!0,i=!0;if(this.saveFileData[t.replace("Sync","")])for(var s=0;s<this.saveFileData[t.replace("Sync","")].length;s++)this.syncLabelCheck[t][s]?i=!1:a=!1;else for(var n=0;n<this.syncCheckArea[e].length;n++)this.syncLabelCheck[t][n]?i=!1:a=!1;a?(this.syncCheck[e]=!0,this.syncIsNoAllCheck[e]=!1):i?(this.syncCheck[e]=!1,this.syncIsNoAllCheck[e]=!1):this.syncIsNoAllCheck[e]=!0},handleSyncCheckAllChange:function(e,t){if(this.saveFileData[t.replace("Sync","")])if(this.syncCheck[e]){for(var a=0;a<this.saveFileData[t.replace("Sync","")].length;a++)this.syncLabelCheck[t][a]=!0;this.syncIsNoAllCheck[e]=!1}else{for(var i=0;i<this.saveFileData[t.replace("Sync","")].length;i++)this.syncLabelCheck[t][i]=!1;this.syncIsNoAllCheck[e]=!1}else if(this.syncCheck[e]){for(var s=0;s<this.syncCheckArea[e].length;s++)this.syncLabelCheck[t][s]=!0;this.syncIsNoAllCheck[e]=!1}else{for(var n=0;n<this.syncCheckArea[e].length;n++)this.syncLabelCheck[t][n]=!1;this.syncIsNoAllCheck[e]=!1}},handlePloofData:function(e,t){var a=!1;return"2"===e&&t.isEmpower&&"1"===t.isEmpower&&"{}"===o()(t.empowerInfo)?(this.$message.warning("请上传授权附件！"),a=!0):"3"!==e||this.checkSku.length||(this.$message.warning("请勾选需要同步的SKU！"),a=!0),a},handleSaveOrSubmitInfo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.editData,i=void 0;if(i="3"===e?a:this.saveFileData,!this.handlePloofData(e,a)){var s={pack_type:a.packType,pack_weight:a.packWeight,size:a.packLength,weight:a.sampleWeight,sample_remarks:a.sampleRemarks,packing_list:a.packList,brand_attribute:a.brandAttr,brand:a.productBrand,model:a.productModel,logo:a.isHaveLogo,material:a.materialQuality,product_use:a.productUse,working:a.workPrinciple,authorized:a.isEmpower,publish:a.publishAttr,order_attribute:a.orderAttr,basic:a.basisAttr,special:a.specialAttr,battery:a.batteryAttr,prohibited:a.isBanAttr,shape_attribute:a.modelAttr,overseas_attribute:a.overseas,certificate_type:a.certificateType,instructions:a.instructions,status:e,battery_type:a.batteryInfo&&a.batteryInfo[0],battery_model:a.batteryInfo&&a.batteryInfo[1],battery_ml:a.batteryInfo&&a.batteryInfo[2],certificate_other:a.certificateTypeInfo,instructions_other:a.instructionsInfo},n=function(e,i,n){if("1"===a[e]){var r=[];t.editData[i].forEach(function(e){r=[].concat(z()(r),z()(e))});var l=[];r.forEach(function(e){var t=[];for(var a in e)t.push(e[a]);l.push(t)}),s[n]=o()([].concat(z()(r)))}else s[n]="0"};n("isCheckPrice","checkPriceInfo","limit_price"),n("isTort","tortInfo","infringement"),n("isDisSales","disSalesInfo","is_prohibited");var r=new FormData;for(var l in s)(s[l]||0===s[l])&&r.append(l,s[l]||"");var c="2"===e&&-1===this.$parent.submitSkuList.indexOf(this.sku)&&this.$parent.submitSkuList.length>=this.skuList.length-1;if("3"===e)this.checkSku.forEach(function(e,t){r.append("sku["+t+"]",e)});else if(c){var u={sku:this.skuList,spu:this.row.spu[0]};r.append("sku",this.sku),r.append("big_status",o()(u))}else r.append("sku",this.sku);var d=0,p=[];i.appendixDatum.forEach(function(e,t){"preview"!==e.type&&(e.raw?(r.append("file["+d+"]",e.raw),d++):p.push(e))}),p.length&&r.append("file_list",o()(p));var h=0,_=[];i.devImage.forEach(function(e,t){e.raw?(r.append("myfile["+h+"]",e.raw),h++):_.push(e.url)}),_.length&&r.append("myfile_list",o()(_)),a.isEmpower&&"1"===a.isEmpower&&("preview"===a.empowerInfo.type?r.append("authorized_file_list",o()(a.empowerInfo)):r.append("authorized_file",a.empowerInfo.raw)),a.orderAttrFile&&"{}"!==a.orderAttrFile&&(a.orderAttrFile.raw?r.append("research_file",a.orderAttrFile.raw):r.append("research_file_list","")),"3"===e?Object(Ce.m)(r).then(function(e){var a=e.data;t.handleOperationCallBack(a)}):Object(Ce.k)(r).then(function(a){var i=a.data;"2"===e&&i.status&&t.$emit("submit",t.sku),t.handleOperationCallBack(i)})}},handleRelevanceSkuChange:function(e){var t=e.length;this.checkAllSku=t===this.skuList.length,this.isIndeterminate=t>0&&t<this.skuList.length},handleCheckAllChange:function(e){this.checkSku=e?this.skuList:[],this.isIndeterminate=!1},handleSyncSkuInfo:function(){var e=this,t=["productComDatumSync","tortDatumSync","appendixDatumSync","devImageSync","productAttrDatumSync"],a=[],i={appendixDatum:[],devImage:[]},s=!1;if(this.syncIsNoAllCheck.forEach(function(n,o){(n||e.syncCheck[o])&&(s=!0,e.syncLabelCheck[t[o]].forEach(function(s,n){if(s)if(2===o||3===o){var r=t[o].replace("Sync","");i[r].push(e.saveFileData[r][n])}else a.push(e.syncCheckArea[o][n])}))}),s){var n=d()({},i);a.forEach(function(t){switch(n[t]=e.editData[t],t){case"batteryAttr":n.batteryInfo=e.editData.batteryInfo;break;case"certificateType":n.certificateTypeInfo=e.editData.certificateTypeInfo;break;case"instructions":n.instructionsInfo=e.editData.instructionsInfo;break;case"isBanAttr":n.banInfo=e.editData.banInfo;break;case"isEmpower":n.empowerInfo=e.editData.empowerInfo}}),this.handleSaveOrSubmitInfo("3",n)}else this.$message.warning("请勾选数据后再同步！")},handleInitData:function(e){var t=this,a=e||this.$parent.editPageData[this.sku],i=function(e,i){a[i]&&(t.editData[e]=a[i].split(","))},s=function(e,i,s){var n=a[i]&&JSON.parse(a[i]);n||0===n?(t.editData[s]=n?"1":"2","isCheckPrice"===s?Array.isArray(n)&&n.forEach(function(a,i){var s=(i+1)/3-1;Array.isArray(t.editData[e][Math.ceil(s)])?t.$set(t.editData[e][Math.ceil(s)],i%3,a):(t.$set(t.editData[e],Math.ceil(s),[]),t.$set(t.editData[e][Math.ceil(s)],i%3,a))}):Array.isArray(n)&&n.forEach(function(a,i){var s=(i+1)/2-1;Array.isArray(t.editData[e][Math.ceil(s)])?t.$set(t.editData[e][Math.ceil(s)],i%2,a):(t.$set(t.editData[e],Math.ceil(s),[]),t.$set(t.editData[e][Math.ceil(s)],i%2,a))})):t.editData[s]=""};if(this.editData.packType=a.pack_type,this.editData.packWeight=a.pack_weight,this.editData.packLength=a.size,this.editData.sampleWeight=a.weight,this.editData.sampleRemarks=a.buy_sample_note,this.editData.packList=a.pack_list,this.editData.brandAttr=a.brand_attribute,this.editData.productBrand=a.brand,this.editData.productModel=a.model,this.editData.isHaveLogo=a.logo,this.editData.materialQuality=a.material,this.editData.productUse=a.product_use,this.editData.workPrinciple=a.working,this.editData.isEmpower=a.authorized,this.editData.empowerInfo={},this.editData.orderAttrFile={},this.editData.batteryInfo=[a.battery_type,a.battery_model,a.battery_ml],this.editData.certificateTypeInfo=a.certificate_other,this.editData.instructionsInfo=a.instructions_other,i("publishAttr","publish"),i("orderAttr","order_attribute"),i("basisAttr","basic"),i("specialAttr","special"),i("batteryAttr","battery"),i("isBanAttr","prohibited"),i("modelAttr","shape_attribute"),i("overseas","overseas_attribute"),i("certificateType","certificate_type"),i("instructions","instructions"),s("checkPriceInfo","limit_price","isCheckPrice"),s("tortInfo","infringement","isTort"),s("disSalesInfo","is_prohibited","isDisSales"),this.saveFileData.devImage.splice(0),this.saveFileData.appendixDatum.splice(0),a.authorized_file&&!Array.isArray(a.authorized_file)){var n=d()({},a.authorized_file,{type:"preview"});this.editData.empowerInfo=n,this.saveFileData.appendixDatum.push(n)}a.myfile&&a.myfile.forEach(function(e,a){t.saveFileData.devImage.push({url:e})}),a.file&&a.file.forEach(function(e,a){t.saveFileData.appendixDatum.push(e)})},handleOperationCallBack:function(e){var t=this;e.status?(this.$message.success("操作成功"),Object(Ce.g)({is_reject:this.row.reject_type,sku:this.sku}).then(function(e){var a=e.data;t.handleInitData(a.data)})):this.$message.error(e.errorMess||"操作失败")}},watch:{sku:function(e){this.handleInitData()},"editData.empowerInfo":function(e){if("{}"!==o()(e)){for(var t=!0,a=0;a<this.saveFileData.appendixDatum.length;a++){if("preview"===this.saveFileData.appendixDatum[a].type){this.saveFileData.appendixDatum[a]=d()({},e,{type:"preview"}),t=!1;break}this.saveFileData.appendixDatum.length-1===a&&(t=!0)}t&&this.saveFileData.appendixDatum.push(d()({},e,{type:"preview"}))}}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"ui-content_area clearFix"},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"mini"}},[a("div",{staticClass:"ui-content_area--left"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[0]||e.syncCheck[0])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品基础资料",name:"1"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],attrs:{indeterminate:e.syncIsNoAllCheck[0]},on:{change:function(t){e.handleSyncCheckAllChange(0,"productComDatumSync")}},model:{value:e.syncCheck[0],callback:function(t){e.$set(e.syncCheck,0,t)},expression:"syncCheck[0]"}})],1),e._v(" "),a("ComTableInfo",{attrs:{isSetHeight:!1,tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,tableWidth:[""]},scopedSlots:e._u([{key:"good_name",fn:function(t){return[a("div",e._l(t.row.good_name,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"supplier_datum",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_info[1]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_info[2]))])]),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],2),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],2)],1)]}}])}),e._v(" "),a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",[a("el-form-item",{attrs:{"label-width":"90px"}},[a("span",{class:e.syncLabelCheck.productComDatumSync[0]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productComDatumSync",0,0)}},slot:"label"},[e._v("来样包装类型")]),e._v(" "),a("el-select",{attrs:{disabled:e.isPreview},model:{value:e.editData.packType,callback:function(t){e.$set(e.editData,"packType",t)},expression:"editData.packType"}},e._l(e.optionList.packTypeList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"90px"}},[a("span",{class:e.syncLabelCheck.productComDatumSync[1]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productComDatumSync",1,0)}},slot:"label"},[e._v("样品包装重量")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.packWeight,callback:function(t){e.$set(e.editData,"packWeight",t)},expression:"editData.packWeight"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"90px"}},[a("span",{class:e.syncLabelCheck.productComDatumSync[2]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productComDatumSync",2,0)}},slot:"label"},[e._v("样品包装尺寸")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.packLength,callback:function(t){e.$set(e.editData,"packLength",t)},expression:"editData.packLength"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"90px"}},[a("span",{class:e.syncLabelCheck.productComDatumSync[3]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productComDatumSync",3,0)}},slot:"label"},[e._v("商品来样净重")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.sampleWeight,callback:function(t){e.$set(e.editData,"sampleWeight",t)},expression:"editData.sampleWeight"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("样品备注")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none",placeholder:"请输入"},model:{value:e.editData.sampleRemarks,callback:function(t){e.$set(e.editData,"sampleRemarks",t)},expression:"editData.sampleRemarks"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("包装清单")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none",placeholder:"请输入"},model:{value:e.editData.packList,callback:function(t){e.$set(e.editData,"packList",t)},expression:"editData.packList"}})],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[1]||e.syncCheck[1])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 侵权排查资料",name:"2"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],attrs:{indeterminate:e.syncIsNoAllCheck[1]},on:{change:function(t){e.handleSyncCheckAllChange(1,"tortDatumSync")}},model:{value:e.syncCheck[1],callback:function(t){e.$set(e.syncCheck,1,t)},expression:"syncCheck[1]"}})],1),e._v(" "),a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[0]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",0,1)}},slot:"label"},[e._v("品牌属性")]),e._v(" "),a("el-select",{attrs:{disabled:e.isPreview},model:{value:e.editData.brandAttr,callback:function(t){e.$set(e.editData,"brandAttr",t)},expression:"editData.brandAttr"}},e._l(e.optionList.brandAttrList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[1]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",1,1)}},slot:"label"},[e._v("产品品牌")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.productBrand,callback:function(t){e.$set(e.editData,"productBrand",t)},expression:"editData.productBrand"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[2]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",2,1)}},slot:"label"},[e._v("产品型号")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.productModel,callback:function(t){e.$set(e.editData,"productModel",t)},expression:"editData.productModel"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[3]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",3,1)}},slot:"label"},[e._v("有无logo")]),e._v(" "),a("el-select",{attrs:{disabled:e.isPreview},model:{value:e.editData.isHaveLogo,callback:function(t){e.$set(e.editData,"isHaveLogo",t)},expression:"editData.isHaveLogo"}},[a("el-option",{attrs:{label:"有",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"无",value:"0"}})],1)],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[4]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",4,1)}},slot:"label"},[e._v("产品材质")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.materialQuality,callback:function(t){e.$set(e.editData,"materialQuality",t)},expression:"editData.materialQuality"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[5]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",5,1)}},slot:"label"},[e._v("产品用途")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.productUse,callback:function(t){e.$set(e.editData,"productUse",t)},expression:"editData.productUse"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[6]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",6,1)}},slot:"label"},[e._v("工作原理")]),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.workPrinciple,callback:function(t){e.$set(e.editData,"workPrinciple",t)},expression:"editData.workPrinciple"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[7]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",7,1)}},slot:"label"},[e._v("是否侵权")]),e._v(" "),a("el-radio-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.isTort,callback:function(t){e.$set(e.editData,"isTort",t)},expression:"editData.isTort"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[8]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",8,1)}},slot:"label"},[e._v("是否限价")]),e._v(" "),a("el-radio-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.isCheckPrice,callback:function(t){e.$set(e.editData,"isCheckPrice",t)},expression:"editData.isCheckPrice"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[9]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",9,1)}},slot:"label"},[e._v("是否授权")]),e._v(" "),a("el-radio-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.isEmpower,callback:function(t){e.$set(e.editData,"isEmpower",t)},expression:"editData.isEmpower"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("否")])],1),e._v(" "),"1"!=e.editData.isEmpower||e.isPreview?e._e():a("ComUpload",{attrs:{"btn-size":"mini","btn-type":"text",label:"点击此处上传资料","auto-upload":!1,file:e.editData.empowerInfo},on:{"update:file":function(t){e.$set(e.editData,"empowerInfo",t)}}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"60px"}},[a("span",{class:e.syncLabelCheck.tortDatumSync[10]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("tortDatumSync",10,1)}},slot:"label"},[e._v("是否禁售")]),e._v(" "),a("el-radio-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.isDisSales,callback:function(t){e.$set(e.editData,"isDisSales",t)},expression:"editData.isDisSales"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:"1"===e.editData.isCheckPrice,expression:"editData.isCheckPrice === '1'"}],staticClass:"ui-layout ui-ope_area ui-ope_area--three"},[a("el-form-item",e._l(e.editData.checkPriceInfo,function(t,i){return a("div",{staticClass:"ui-ope_area--item ui-select--layout"},[e._l(3,function(i,s){return a("el-input",{key:s,attrs:{disabled:e.isPreview,placeholder:"$"},model:{value:t[s].price,callback:function(a){e.$set(t[s],"price",a)},expression:"item[inx].price"}},[a("el-select",{attrs:{slot:"prepend",disabled:e.isPreview,placeholder:"限价平台"},slot:"prepend",model:{value:t[s].plam,callback:function(a){e.$set(t[s],"plam",a)},expression:"item[inx].plam"}},e._l(e.optionList.platformList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})})),e._v(" "),a("template",{slot:"append"},[e._v("$")])],2)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput("checkPriceInfo",i)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput("checkPriceInfo",i+1)}}})])],2)}))],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:"1"===e.editData.isTort,expression:"editData.isTort === '1'"}],staticClass:"ui-layout ui-ope_area ui-ope_area--tow"},[a("el-form-item",e._l(e.editData.tortInfo,function(t,i){return a("div",{staticClass:"ui-ope_area--item ui-select--layout clearFix"},[e._l(2,function(i,s){return a("div",{key:s,staticClass:"ui-ope__input"},[a("el-select",{attrs:{disabled:e.isPreview,placeholder:"侵权国家"},model:{value:t[s].country,callback:function(a){e.$set(t[s],"country",a)},expression:"item[inx].country"}},e._l(e.optionList.countryList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})})),e._v(" "),a("el-select",{attrs:{disabled:e.isPreview,placeholder:"侵权类型"},model:{value:t[s].type,callback:function(a){e.$set(t[s],"type",a)},expression:"item[inx].type"}},e._l(e.optionList.infringementType,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})})),e._v(" "),a("el-input",{attrs:{disabled:e.isPreview,placeholder:"输入侵权原因"},model:{value:t[s].content,callback:function(a){e.$set(t[s],"content",a)},expression:"item[inx].content"}})],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput("tortInfo",i)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput("tortInfo",i+1)}}})])],2)}))],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:"1"===e.editData.isDisSales,expression:"editData.isDisSales === '1'"}],staticClass:"ui-layout ui-ope_area ui-ope_area--tow"},[a("el-form-item",e._l(e.editData.disSalesInfo,function(t,i){return a("div",{staticClass:"ui-ope_area--item ui-select--layout clearFix"},[e._l(2,function(i,s){return a("div",{key:s,staticClass:"ui-ope__input"},[a("el-select",{attrs:{disabled:e.isPreview,placeholder:"禁售平台"},model:{value:t[s].plam,callback:function(a){e.$set(t[s],"plam",a)},expression:"item[inx].plam"}},e._l(e.optionList.platformList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})})),e._v(" "),a("el-select",{staticClass:"ui-layout__select",attrs:{disabled:e.isPreview,placeholder:"禁售原因"},model:{value:t[s].content,callback:function(a){e.$set(t[s],"content",a)},expression:"item[inx].content"}},e._l(e.optionList.infringementType,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}))],1)}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput("disSalesInfo",i)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput("disSalesInfo",i+1)}}})])],2)}))],1)])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[2]||e.syncCheck[2])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品附件资料",name:"3"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],attrs:{indeterminate:e.syncIsNoAllCheck[2]},on:{change:function(t){e.handleSyncCheckAllChange(2,"appendixDatumSync")}},model:{value:e.syncCheck[2],callback:function(t){e.$set(e.syncCheck,2,t)},expression:"syncCheck[2]"}})],1),e._v(" "),a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},[e._l(e.saveFileData.appendixDatum,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-checkbox ui-file__checkbox"},[a("el-checkbox",{on:{change:function(t){e.handleSyncCheckChange(2,"appendixDatumSync")}},model:{value:e.syncLabelCheck.appendixDatumSync[i],callback:function(t){e.$set(e.syncLabelCheck.appendixDatumSync,i,t)},expression:"syncLabelCheck.appendixDatumSync[index]"}})],1),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[e.isPreview?e._e():a("span",{staticClass:"el-icon-delete",on:{click:function(a){e.handleDeleteFile(i,"appendixDatum",t)}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})]),e._v(" "),a("span",[e._v(e._s(t.name.replace(/.[a-zA-Z]+$/,"")))])])])}),e._v(" "),e.isPreview?e._e():a("li",[a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{ref:"appendixDatum",attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(t,a){e.handleSaveFileList("appendixDatum",a)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1)])],2)])])],1),e._v(" "),e.isPreview?e._e():a("div",{staticClass:"ui-content_area--btn"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleSaveOrSubmitInfo("1")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSaveOrSubmitInfo("2")}}},[e._v("提交")])],1)])],1),e._v(" "),a("div",{staticClass:"ui-content_area--right"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[3]||e.syncCheck[3])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品开发图片",name:"4"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],attrs:{indeterminate:e.syncIsNoAllCheck[3]},on:{change:function(t){e.handleSyncCheckAllChange(3,"devImageSync")}},model:{value:e.syncCheck[3],callback:function(t){e.$set(e.syncCheck,3,t)},expression:"syncCheck[3]"}})],1),e._v(" "),a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.saveFileData.devImage,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-checkbox ui-file__checkbox"},[a("el-checkbox",{on:{change:function(t){e.handleSyncCheckChange(3,"devImageSync")}},model:{value:e.syncLabelCheck.devImageSync[i],callback:function(t){e.$set(e.syncLabelCheck.devImageSync,i,t)},expression:"syncLabelCheck.devImageSync[index]"}})],1),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[e.isPreview?e._e():a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteFile(i,"devImage")}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})])])])}))])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[4]||e.syncCheck[4])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品属性资料",name:"5"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],attrs:{indeterminate:e.syncIsNoAllCheck[4]},on:{change:function(t){e.handleSyncCheckAllChange(4,"productAttrDatumSync")}},model:{value:e.syncCheck[4],callback:function(t){e.$set(e.syncCheck,4,t)},expression:"syncCheck[4]"}})],1),e._v(" "),a("ul",{staticClass:"ui-content_area--list"},[e.optionList.attrCheckList["刊登属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[0]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",0,4)}},slot:"label"},[e._v("刊登属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.publishAttr,callback:function(t){e.$set(e.editData,"publishAttr",t)},expression:"editData.publishAttr"}},e._l(e.optionList.attrCheckList["刊登属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["订单属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[1]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",1,4)}},slot:"label"},[e._v("订单属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.orderAttr,callback:function(t){e.$set(e.editData,"orderAttr",t)},expression:"editData.orderAttr"}},e._l(e.optionList.attrCheckList["订单属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])})),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["订单属性"],"orderAttr",0)&&!e.isPreview?a("div",[a("ComUpload",{attrs:{url:"url","btn-type":"text","btn-size":"mini",label:"点击此处上传调研报告","auto-upload":!1,file:e.editData.orderAttrFile},on:{"update:file":function(t){e.$set(e.editData,"orderAttrFile",t)}}})],1):e._e()],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["基础属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[2]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",2,4)}},slot:"label"},[e._v("基础属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.basisAttr,callback:function(t){e.$set(e.editData,"basisAttr",t)},expression:"editData.basisAttr"}},e._l(e.optionList.attrCheckList["基础属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["特殊属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[3]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",3,4)}},slot:"label"},[e._v("特殊属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.specialAttr,callback:function(t){e.$set(e.editData,"specialAttr",t)},expression:"editData.specialAttr"}},e._l(e.optionList.attrCheckList["特殊属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])})),e._v(" "),e.optionList.attrCheckList["特殊属性"]?e._e():a("span",[e._v("加载中...")])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["电池属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[4]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",4,4)}},slot:"label"},[e._v("电池属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.batteryAttr,callback:function(t){e.$set(e.editData,"batteryAttr",t)},expression:"editData.batteryAttr"}},e._l(e.optionList.attrCheckList["电池属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{disabled:e.isPreview,size:"mini",placeholder:"请输入电池类型"},model:{value:e.editData.batteryInfo[0],callback:function(t){e.$set(e.editData.batteryInfo,0,t)},expression:"editData.batteryInfo[0]"}})],1):e._e(),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"20%"}},[a("el-input",{attrs:{disabled:e.isPreview,size:"mini",placeholder:"电池型号"},model:{value:e.editData.batteryInfo[1],callback:function(t){e.$set(e.editData.batteryInfo,1,t)},expression:"editData.batteryInfo[1]"}})],1):e._e(),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"20%"}},[a("el-input",{attrs:{disabled:e.isPreview,size:"mini",placeholder:"标称容量(mAh)"},model:{value:e.editData.batteryInfo[2],callback:function(t){e.$set(e.editData.batteryInfo,2,t)},expression:"editData.batteryInfo[2]"}})],1):e._e()]),e._v(" "),e.optionList.attrCheckList["电池属性"]?e._e():a("span",[e._v("加载中...")])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["违禁属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[5]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",5,4)}},slot:"label"},[e._v("违禁属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.isBanAttr,callback:function(t){e.$set(e.editData,"isBanAttr",t)},expression:"editData.isBanAttr"}},e._l(e.optionList.attrCheckList["违禁属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["违禁属性"],"isBanAttr",0)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{disabled:e.isPreview,size:"mini",placeholder:"请输入刀刃长度"},model:{value:e.editData.banInfo,callback:function(t){e.$set(e.editData,"banInfo",t)},expression:"editData.banInfo"}})],1):e._e()])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["形态属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[6]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",6,4)}},slot:"label"},[e._v("形态属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.modelAttr,callback:function(t){e.$set(e.editData,"modelAttr",t)},expression:"editData.modelAttr"}},e._l(e.optionList.attrCheckList["形态属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["海外属性"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[7]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",7,4)}},slot:"label"},[e._v("海外属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.overseas,callback:function(t){e.$set(e.editData,"overseas",t)},expression:"editData.overseas"}},e._l(e.optionList.attrCheckList["海外属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["证书类型"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[8]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",8,4)}},slot:"label"},[e._v("证书类型")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.certificateType,callback:function(t){e.$set(e.editData,"certificateType",t)},expression:"editData.certificateType"}},e._l(e.optionList.attrCheckList["证书类型"],function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["证书类型"],"certificateType",0)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{disabled:e.isPreview,size:"mini",placeholder:"请输入"},model:{value:e.editData.certificateTypeInfo,callback:function(t){e.$set(e.editData,"certificateTypeInfo",t)},expression:"editData.certificateTypeInfo"}})],1):e._e()])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["说明书"]?a("li",[a("span",{staticClass:"ui-label",class:e.syncLabelCheck.productAttrDatumSync[9]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productAttrDatumSync",9,4)}},slot:"label"},[e._v("说明书")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.instructions,callback:function(t){e.$set(e.editData,"instructions",t)},expression:"editData.instructions"}},e._l(e.optionList.attrCheckList["说明书"],function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.id}},[e._v(e._s(t.attribute_value_cn))])})),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["说明书"],"instructions",0)?a("div",{staticClass:"ui-check__input clearFix"},[a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{disabled:e.isPreview,size:"mini",placeholder:"请输入"},model:{value:e.editData.instructionsInfo,callback:function(t){e.$set(e.editData,"instructionsInfo",t)},expression:"editData.instructionsInfo"}})],1)]):e._e()],1)]):e._e()])])],1),e._v(" "),e.isPreview?e._e():a("div",{staticClass:"ui-content_area--btn"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleSaveOrSubmitInfo("1")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSaveOrSubmitInfo("2")}}},[e._v("提交")])],1)])],1)]),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1),e._v(" "),e.isPreview?e._e():a("div",{staticClass:"ui-right"},[a("ul",{staticClass:"ui-right--item"},[a("li",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllSku,callback:function(t){e.checkAllSku=t},expression:"checkAllSku"}},[e._v("All")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSyncSkuInfo}},[e._v("同步")])],1),e._v(" "),a("li",[a("el-checkbox-group",{on:{change:e.handleRelevanceSkuChange},model:{value:e.checkSku,callback:function(t){e.checkSku=t},expression:"checkSku"}},e._l(e.skuList,function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}))],1)])])])},staticRenderFns:[]};var Se=a("VU/8")(Le,Ie,!1,function(e){a("pk/B")},"data-v-5fe33efe",null).exports,xe=a("W3Iv"),qe=a.n(xe),Ae=a("d7EF"),Te=a.n(Ae),Pe={name:"SPUPage",props:["row","type"],data:function(){return{testCheck:[],editShowArea:["1","2","3","4","5","6"],tableKey:["商品SPU","商品名称","产品目录","样品类型","供应商资料"],tableProps:["spu","good_name","category_path","sample_type","supplier_datum"],tableWidth:["120","200","","","250"],editData:{referenceLink:["",""],keyword:[[]],sellingPoint:["","",""],packList:"",festivalAttr:"",seasonAttr:"",sampleRemarks:"",imgDemand:"",describe:"",params:"",takeCare:"",otherSku:[]},editRule:{},saveFileData:{productDevImage:[],devSellingImg:[],devSellingImgName:[]},saveUrlFile:{devSellingImg:[],productDevImage:[]},lookImageUrl:"",isShowLookImage:!1,isSyncInfo:!1,confirmSyncInfo:[],syncInfoList:[]}},computed:{isPreview:function(){return"preview"===this.type},isComplete:function(){return this.$parent.isComplete},firstUrl:function(){return f.a.PRODUCTION_PATH},tableData:function(){return"{}"===o()(this.row)?[]:[d()({},this.row)]},skuRelevanceList:function(){var e=this,t=[];try{var a=this.row.sku.split(",");this.row.sku_name.split(",").forEach(function(i,s){t.push({label:i,value:a[s]}),e.editData.otherSku[0]||e.$set(e.editData.otherSku,s,we()({},a[s],""))})}catch(e){console.log(this.row)}return t}},created:function(){var e=this;this.row.sku.split(",").forEach(function(t,a){e.$set(e.editData.otherSku,a,we()({},t,""))}),this.handleInitData()},methods:{handleSaveFileList:function(e,t){this.saveFileData[e]=[].concat(z()(this.saveFileData[e]),z()(t)),this.$refs[e].clearFiles()},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleMoveFile:function(e,t){if("_last"===e){var a=this.saveFileData.productDevImage[t-1];this.$set(this.saveFileData.productDevImage,[t-1],this.saveFileData.productDevImage[t]),this.$set(this.saveFileData.productDevImage,[t],a)}else{var i=this.saveFileData.productDevImage[t+1];this.$set(this.saveFileData.productDevImage,[t+1],this.saveFileData.productDevImage[t]),this.$set(this.saveFileData.productDevImage,[t],i)}},handleDeleteFile:function(e,t,a){this.saveFileData[t].splice(e,1),a&&this.saveFileData[a].splice(e,1),this.saveUrlFile[t].splice(e,1)},handleAddInput:function(e,t){this.editData[e].splice(t,0,"keyword"===e?[]:"")},handleDeleteInput:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.editData[e].length!==a&&this.editData[e].splice(t,1)},handleClickRelevance:function(){this.syncInfoList=this.confirmSyncInfo,this.isSyncInfo=!0},handleConfirmRelevance:function(){this.confirmSyncInfo=this.syncInfoList,this.isSyncInfo=!1},handleSubmitInfo:function(e){var t=this,a=[];this.editData.keyword.forEach(function(e){a=[].concat(z()(a),z()(e))});var i=[];this.editData.otherSku.forEach(function(e){for(var t in e)e[t]&&i.push({sku:t,packList:e[t]})});var s={spu:this.row.spu[0],for_holiday:this.editData.festivalAttr,feature_val:this.editData.seasonAttr,link:this.editData.referenceLink,buy_sample_note:this.editData.sampleRemarks,image_remark:this.editData.imgDemand,text_value_one:a,text_value_two:this.editData.sellingPoint,goods_desc:this.editData.describe,goods_params:this.editData.params,notice_remark:this.editData.takeCare,pack_list:this.editData.packList,otherSku:o()(i),sku:this.row.sku,status:e};"1"===this.row.reject_type&&(s.is_reject="1"),this.confirmSyncInfo.length&&(s.sku_list=this.confirmSyncInfo);var n=new FormData,r=!0,l=!1,c=void 0;try{for(var u,d=U()(qe()(s));!(r=(u=d.next()).done);r=!0){var p=u.value,h=Te()(p,2),_=h[0],m=h[1];m&&n.append(_,m)}}catch(e){l=!0,c=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw c}}var f=0,v=[];this.saveFileData.productDevImage.forEach(function(e,t){e.raw&&!e.raw.isLink?(n.append("myfile["+f+"]",e.raw),f++):v.push(e.url)}),n.append("myfile_list",o()(v));var g=0,y=[];this.saveFileData.devSellingImg.forEach(function(e,a){n.append("photo_name["+a+"]",t.saveFileData.devSellingImgName[a]||""),e.raw?(n.append("file["+g+"]",e.raw),g++):y.push(e.url)}),n.append("file_list",o()(y)),Object(Ce.j)(n).then(function(a){var i=a.data;t.handleOperationCallBack(i,e)})},handleProofKey:function(){},handleInitData:function(){var e=this,t=this.$parent.editPageData[this.row.spu[0]];if(t){this.editData.sampleRemarks=t.buy_sample_note,this.editData.seasonAttr=t.feature_val,this.editData.festivalAttr=t.for_holiday,this.editData.describe=t.goods_desc,this.editData.params=t.goods_params,this.editData.imgDemand=t.image_remark,this.editData.takeCare=t.notice_remark,this.editData.packList=t.pack_list,t.otherSku&&JSON.parse(t.otherSku).forEach(function(t,a){e.confirmSyncInfo.splice(a,1,t.sku),e.$set(e.editData.otherSku,a,we()({},t.sku,t.packList))}),Array.isArray(t.file)&&t.file.forEach(function(a,i){e.saveFileData.devSellingImgName[i]=t.photo_name[i],e.saveFileData.devSellingImg.push({url:a})}),Array.isArray(t.myfile)&&t.myfile.forEach(function(t,a){var i=/.[A-Za-z]+$/.exec(t),s="";s=i&&f.a.RULE_CONFIG.image.indexOf(i[0].toLowerCase())>-1?"image":"file",e.saveFileData.productDevImage.push({url:t,raw:{type:s,isLink:!0}})});var a=t.text_value_one&&t.text_value_one.split(",");Array.isArray(a)&&a.forEach(function(t,a){var i=(a+1)/3-1;Array.isArray(e.editData.keyword[Math.ceil(i)])?e.$set(e.editData.keyword[Math.ceil(i)],a%3,t):(e.$set(e.editData.keyword,Math.ceil(i),[]),e.$set(e.editData.keyword[Math.ceil(i)],a%3,t))});var i=function(a,i){if(t[i]){var s=t[i].split(",");Array.isArray(s)&&s.forEach(function(t,i){e.editData[a].splice(i,1,t)})}};i("referenceLink","link"),i("sellingPoint","text_value_two")}},handleOperationCallBack:function(e,t){e.status?(this.$message.success("操作成功"),"2"===t&&this.$emit("submit")):this.$message.error(e.errorMess||"操作失败")}}},Ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ui-content_area clearFix"},[i("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"mini"}},[i("div",{staticClass:"ui-content_area--left"},[i("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[i("div",{staticClass:"ui-content_area--item"},[i("el-collapse-item",{attrs:{title:"丨商品基础资料",name:"1"}},[i("ComTableInfo",{attrs:{isSetHeight:!1,tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,tableWidth:e.tableWidth},scopedSlots:e._u([{key:"spu",fn:function(t){return[i("div",[i("span",[e._v(e._s(t.row.spu[0]))])])]}},{key:"good_name",fn:function(t){return[i("div",[i("p",[i("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),i("p",[i("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[i("div",e._l(t.row.category_path,function(t){return i("p",[i("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[i("div",e._l(t.row.sample_type,function(t){return i("p",[i("span",[e._v(e._s(t))])])}))]}},{key:"supplier_datum",fn:function(t){return[i("div",[i("p",[i("span",[e._v(e._s(t.row.good_info[1]))])]),e._v(" "),i("p",[i("span",[e._v(e._s(t.row.good_info[2]))])]),e._v(" "),i("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return i("li",[i("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[i("i",{staticClass:"icon-caiyanglianjie"})])],2),e._v(" "),i("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return i("li",[i("a",{attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[i("i",{staticClass:"icon-cankaolianjie"})])],2)],1)]}}])}),e._v(" "),i("ul",{staticClass:"ui-content_area--form clearFix"},[i("li",{staticClass:"ui-layout"},[i("el-form-item",{attrs:{label:"节日属性","label-width":"65px"}},[i("el-radio-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.festivalAttr,callback:function(t){e.$set(e.editData,"festivalAttr",t)},expression:"editData.festivalAttr"}},[i("el-radio",{attrs:{label:"0"}},[e._v("非")]),e._v(" "),i("el-radio",{attrs:{label:"1"}},[e._v("圣诞节")]),e._v(" "),i("el-radio",{attrs:{label:"2"}},[e._v("万圣节")])],1)],1)],1),e._v(" "),i("li",{staticClass:"ui-layout"},[i("el-form-item",{attrs:{label:"季节属性","label-width":"65px"}},[i("el-radio-group",{attrs:{disabled:e.isPreview},model:{value:e.editData.seasonAttr,callback:function(t){e.$set(e.editData,"seasonAttr",t)},expression:"editData.seasonAttr"}},[i("el-radio",{attrs:{label:"0"}},[e._v("非")]),e._v(" "),i("el-radio",{attrs:{label:"1"}},[e._v("春季")]),e._v(" "),i("el-radio",{attrs:{label:"2"}},[e._v("夏季")]),e._v(" "),i("el-radio",{attrs:{label:"3"}},[e._v("秋季")]),e._v(" "),i("el-radio",{attrs:{label:"4"}},[e._v("冬季")]),e._v(" "),i("el-radio",{attrs:{label:"5"}},[e._v("雨季")]),e._v(" "),i("el-radio",{attrs:{label:"6"}},[e._v("旱季")])],1)],1)],1),e._v(" "),i("li",{staticClass:"ui-layout ui-ope_area"},[i("span",[e._v("参考链接")]),e._v(" "),i("el-form-item",e._l(e.editData.referenceLink,function(t,a){return i("div",{class:!e.isPreview&&"ui-ope_area--item"},[i("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.referenceLink[a],callback:function(t){e.$set(e.editData.referenceLink,a,t)},expression:"editData.referenceLink[index]"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[i("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput("referenceLink",a,2)}}}),e._v(" "),i("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput("referenceLink",a+1)}}})])],1)}))],1),e._v(" "),i("li",{staticClass:"ui-layout"},[i("span",[e._v("样品备注")]),e._v(" "),i("el-form-item",[i("el-input",{attrs:{disabled:e.isPreview,type:"textarea",resize:"none",placeholder:"请输入"},model:{value:e.editData.sampleRemarks,callback:function(t){e.$set(e.editData,"sampleRemarks",t)},expression:"editData.sampleRemarks"}})],1)],1),e._v(" "),i("li",{staticClass:"ui-layout"},[i("span",[e._v("图片要求")]),e._v(" "),i("el-form-item",[i("el-input",{attrs:{disabled:e.isPreview,type:"textarea",resize:"none",placeholder:"请输入"},model:{value:e.editData.imgDemand,callback:function(t){e.$set(e.editData,"imgDemand",t)},expression:"editData.imgDemand"}})],1)],1)])],1)],1),e._v(" "),i("div",{staticClass:"ui-content_area--item"},[i("el-collapse-item",{attrs:{title:"丨开发卖点图",name:"2"}},[i("div",{staticClass:"ui-com_edit__upload"},[i("ul",{staticClass:"clearFix"},[e._l(e.saveFileData.devSellingImg,function(t,a){return i("li",{key:a},[i("div",{staticClass:"ui-com_edit__upload--item"},[i("div",{staticClass:"ui-com_edit__upload--item__img"},[i("img",{attrs:{src:t.url,alt:""}})]),e._v(" "),i("div",{staticClass:"ui-com_edit__upload--item--mask"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteFile(a,"devSellingImg","devSellingImgName")}}}),e._v(" "),i("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})])]),e._v(" "),i("el-input",{attrs:{disabled:e.isPreview,size:"small",placeholder:"中文名"},model:{value:e.saveFileData.devSellingImgName[a],callback:function(t){e.$set(e.saveFileData.devSellingImgName,a,t)},expression:"saveFileData.devSellingImgName[index]"}})],1)}),e._v(" "),e.isPreview?e._e():i("li",[i("div",{staticClass:"ui-com_edit__upload--last_btn"},[i("el-upload",{ref:"devSellingImg",attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(t,a){e.handleSaveFileList("devSellingImg",a)}}},[i("span",{staticClass:"icon-tupianshangchuan"})])],1)])],2)])])],1),e._v(" "),e.isPreview||e.isComplete?e._e():i("div",{staticClass:"ui-content_area--btn"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleSubmitInfo("1")}}},[e._v("保存")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSubmitInfo("2")}}},[e._v("提交")])],1)])],1),e._v(" "),i("div",{staticClass:"ui-content_area--right"},[i("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[i("div",{staticClass:"ui-content_area--item"},[i("el-collapse-item",{attrs:{title:"丨SPU文案资料",name:"3"}},[i("ul",{staticClass:"ui-content_area--form clearFix"},[i("li",{staticClass:"ui-layout ui-ope_area ui-ope_area--three"},[i("span",[e._v("关键词")]),e._v(" "),i("el-form-item",e._l(e.editData.keyword,function(t,a){return i("div",{class:!e.isPreview&&"ui-ope_area--item"},[i("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.keyword[a][0],callback:function(t){e.$set(e.editData.keyword[a],0,t)},expression:"editData.keyword[index][0]"}}),e._v(" "),i("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.keyword[a][1],callback:function(t){e.$set(e.editData.keyword[a],1,t)},expression:"editData.keyword[index][1]"}}),e._v(" "),i("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.keyword[a][2],callback:function(t){e.$set(e.editData.keyword[a],2,t)},expression:"editData.keyword[index][2]"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[i("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput("keyword",a)}}}),e._v(" "),i("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput("keyword",a+1)}}})])],1)}))],1),e._v(" "),i("li",{staticClass:"ui-layout ui-ope_area"},[i("span",[e._v("主要卖点")]),e._v(" "),i("el-form-item",e._l(e.editData.sellingPoint,function(t,a){return i("div",{class:!e.isPreview&&"ui-ope_area--item"},[i("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.sellingPoint[a],callback:function(t){e.$set(e.editData.sellingPoint,a,t)},expression:"editData.sellingPoint[index]"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[i("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput("sellingPoint",a)}}}),e._v(" "),i("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput("sellingPoint",a+1)}}})])],1)}))],1),e._v(" "),i("li",{staticClass:"ui-layout"},[i("span",[e._v("商品描述")]),e._v(" "),i("el-form-item",[i("el-input",{attrs:{disabled:e.isPreview,type:"textarea",placeholder:"请输入",resize:"none"},model:{value:e.editData.describe,callback:function(t){e.$set(e.editData,"describe",t)},expression:"editData.describe"}})],1)],1),e._v(" "),i("li",{staticClass:"ui-layout"},[i("span",[e._v("商品参数")]),e._v(" "),i("el-form-item",[i("el-input",{attrs:{disabled:e.isPreview,type:"textarea",placeholder:"请输入",resize:"none"},model:{value:e.editData.params,callback:function(t){e.$set(e.editData,"params",t)},expression:"editData.params"}})],1)],1),e._v(" "),i("li",{staticClass:"ui-layout"},[i("span",[e._v("注意事项")]),e._v(" "),i("el-form-item",[i("el-input",{attrs:{disabled:e.isPreview,type:"textarea",placeholder:"请输入",resize:"none"},model:{value:e.editData.takeCare,callback:function(t){e.$set(e.editData,"takeCare",t)},expression:"editData.takeCare"}})],1)],1),e._v(" "),i("li",{staticClass:"ui-layout ui-ope_area"},[i("span",[e._v("包装清单")]),e._v(" "),i("el-form-item",[i("div",{class:!e.isPreview&&"ui-ope_area--item"},[i("el-input",{attrs:{disabled:e.isPreview,placeholder:"请输入"},model:{value:e.editData.packList,callback:function(t){e.$set(e.editData,"packList",t)},expression:"editData.packList"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"ui-ope_area--btn"},[i("el-button",{attrs:{type:"text"},on:{click:e.handleClickRelevance}},[e._v("关联")])],1)],1),e._v(" "),e._l(e.confirmSyncInfo,function(t,a){return i("div",[i("el-input",{attrs:{disabled:e.isPreview},model:{value:e.editData.otherSku[a][t],callback:function(i){e.$set(e.editData.otherSku[a],t,i)},expression:"editData.otherSku[index][item]"}},[i("template",{slot:"prepend"},[e._v("关联SKU "+e._s(t))])],2)],1)})],2)],1)])])],1),e._v(" "),i("div",{staticClass:"ui-content_area--item"},[i("el-collapse-item",{attrs:{title:"丨商品开发图片",name:"4"}},[i("div",{staticClass:"ui-com_edit__upload"},[i("ul",{staticClass:"clearFix"},[e._l(e.saveFileData.productDevImage,function(t,s){return i("li",{key:s},[i("div",{staticClass:"ui-com_edit__upload--item"},[i("div",{staticClass:"ui-com_edit__upload--item__img"},[t.raw.type.indexOf("image")>-1?i("img",{attrs:{src:t.url}}):i("img",{attrs:{src:a("0P/e")}})]),e._v(" "),i("div",{staticClass:"ui-com_edit__upload--item--mask"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isPreview,expression:"!isPreview"}],staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteFile(s,"productDevImage")}}}),e._v(" "),i("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}}),e._v(" "),s>0?i("span",{staticClass:"el-icon-back",on:{click:function(t){e.handleMoveFile("_last",s)}}}):e._e(),e._v(" "),s<e.saveFileData.productDevImage.length-1?i("span",{staticClass:"el-icon-back el-icon-back--right",on:{click:function(t){e.handleMoveFile("_next",s)}}}):e._e()])])])}),e._v(" "),e.isPreview?e._e():i("li",[i("div",{staticClass:"ui-com_edit__upload--last_btn"},[i("el-upload",{ref:"productDevImage",attrs:{disabled:e.isPreview,action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(t,a){e.handleSaveFileList("productDevImage",a)}}},[i("span",{staticClass:"icon-tupianshangchuan"})])],1)])],2)])])],1),e._v(" "),e.isPreview||e.isComplete?e._e():i("div",{staticClass:"ui-content_area--btn"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleSubmitInfo("1")}}},[e._v("保存")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSubmitInfo("2")}}},[e._v("提交")])],1)])],1)]),e._v(" "),i("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),i("el-dialog",{attrs:{"append-to-body":"",visible:e.isSyncInfo,width:"600px",top:"10vh",title:"选择关联的SKU"},on:{"update:visible":function(t){e.isSyncInfo=t}}},[i("div",{staticClass:"ui-edit_check"},[i("el-checkbox-group",{model:{value:e.syncInfoList,callback:function(t){e.syncInfoList=t},expression:"syncInfoList"}},e._l(e.skuRelevanceList,function(t,a){return i("el-checkbox",{key:a,attrs:{label:t.value}},[e._v(e._s(t.value)+" "+e._s(t.label))])}))],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleConfirmRelevance}},[e._v("确认")])],1)])],1)},staticRenderFns:[]};var Oe={name:"EditPage",components:{SKUPage:Se,SPUPage:a("VU/8")(Pe,Ee,!1,function(e){a("f+oZ")},"data-v-7ccac62d",null).exports},props:{show:!1,row:{type:Object,default:function(){return{}}},type:"",page:0},data:function(){return{sku:"",activePage:-1,submitSkuList:[],editPageData:{},isComplete:!1}},computed:{operationList:function(){var e=[],t="";try{this.row.sku.split(",").forEach(function(t){e.push({value:t,label:t})}),t=this.row.spu[0]}catch(e){console.log(this.row)}return[{label:"SPU",value:t}].concat(e)}},created:function(){},methods:{handleClosePage:function(){this.$emit("update:show",!1),this.$emit("success",!0)},handleToggleEditArea:function(e,t){this.isComplete||"preview"===this.type?(this.sku=e?t.value:"",this.handleGetRepairInfo(we()({},e?"sku":"spu",t.value),t.value,e)):this.$message.warning("请先提交SPU！")},handleGetRepairInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,a=arguments[1],i=arguments[2],s=d()({is_reject:"preview"===this.type?"1":this.row.reject_type},e);Object(Ce.g)(s).then(function(e){var s=e.data;t.$set(t.editPageData,a,s.data),t.activePage=i})},handleSaveSkuSubmitState:function(e){-1===this.submitSkuList.indexOf(e)&&(this.submitSkuList.push(e),this.submitSkuList.length>=this.operationList.length-1&&this.handleClosePage())},handleSubmitSpu:function(){this.isComplete=!0}},watch:{show:function(e){var t=this;e?(this.isComplete=1==this.row.sup_status,Object(Ce.f)({spu_sku:this.row.sku}).then(function(e){var a=e.data;t.submitSkuList=[].concat(z()(a.data))}),this.page?this.handleGetRepairInfo({sku:this.operationList[this.page].value},this.operationList[this.page].value,this.page):this.handleGetRepairInfo({spu:this.row.spu[0]},this.row.spu[0],0)):this.activePage=-1}}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ui-dialog_page",on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleClosePage(t):null}}},[a("div",{staticClass:"ui-head"},[a("span",[e._v("SPU补录")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClosePage}})]),e._v(" "),a("div",{staticClass:"ui-left_nav"},[a("ul",e._l(e.operationList,function(t,i){return a("li",{key:i,class:{"ui-active":e.activePage===i?"ui-active":e.submitSkuList.indexOf(t.label)>-1},on:{click:function(a){e.handleToggleEditArea(i,t)}}},[a("span",[e._v(e._s(t.label))])])}))]),e._v(" "),0===e.activePage?a("SPUPage",{attrs:{type:e.type,row:e.row},on:{submit:e.handleSubmitSpu}}):e._e(),e._v(" "),e._l(e.operationList,function(t,i){return i&&e.activePage===i?a("SKUPage",{key:i,attrs:{type:e.type,row:e.row,sku:t.label},on:{submit:e.handleSaveSkuSubmitState}}):e._e()})],2)])},staticRenderFns:[]};var Re=a("VU/8")(Oe,Ue,!1,function(e){a("0C/z")},"data-v-19a0c20b",null).exports,ze={components:{EditPage:Re},data:function(){return{FilterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,showSkuOpen:!1,queryData:{moduleType:"1",productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:[1,20],operateUseType:"",operateUseMax:30,productName:"",supplierName:"",operateUser:"",operateTime:[]},optionList:{moduleTypeList:[{label:"常规列表",value:"1"},{label:"异常列表",value:"2"},{label:"定制列表",value:"3"}],attrList:{},classifyList:{},productListList:[],functionInfoList:{},statusList:{},devTypeList:{},sampleTypeList:{},skuEditConfirmList:{1:"是",0:"否"},currencyList:{},timeTypeList:{day:"天",hours:"时",minutes:"分"},operationUserList:[],workUserList:[]},deliverAddressProps:{value:""},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isAddShow:!1,formLabelWidth:"100px",editData:{attr1:new Array(7),attr2:new Array(7),attrValue1:"",attrValue2:"",currency:"",currencyMoney:"",reCurrency:"",reCurrencyMoney:"",sampleCurrency:"",productSPU:"",productName:"",supplierCode:"",supplierName:"",devType:"",buyType:"",productList:[],samplingLink:[""],samplingRemarks:"",isVideo:!1},editRule:{},editShowArea:["1","2"],isEditShow:!1,saveEditRow:{},editPage:0,skuEditObj:{key:["商品SKU","商品名称","采样价","最小起订单","建议售价","是否买样","是否定制","操作"],tempProps:["productSku","","","","","isBuy","isDiy","operation"],value:[]},indexList:["1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],disBuyType:[2,4],skuOptionDis:[0,3,4],previewImgUrl:"",isShowPreviewImg:!1,isOpeShow:!1,opeTitle:"",opeStatus:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","productDatumCreateInfo"])),methods:d()({},Object(h.b)(["GetProductDatumCreateInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.product_datum_create));var a=d()({list_type:this.queryData.moduleType,spu:this.queryData.productSPU.split(" ").join(","),supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join("->"),goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function:this.queryData.functionInfo,user:this.queryData.workUser,opera_user:this.queryData.operateUser,opera_time_start:this.queryData.operateTime[0],opera_time_end:this.queryData.operateTime[1],status:this.queryData.auditState,opera_start_time:Object(m.f)(this.queryData.operateUseTime[0],this.queryData.operateUseType,"seconds"),opera_end_time:Object(m.f)(this.queryData.operateUseTime[1],this.queryData.operateUseType,"seconds")},t);this.GetProductDatumCreateInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData.productSPU="",this.queryData.supplierCode="",this.queryData.productList=[],this.queryData.workUser="",this.queryData.functionInfo="",this.queryData.auditState="",this.queryData.productName="",this.queryData.supplierName="",this.queryData.operateUser="",this.queryData.operateTime=[],this.queryData.operateUseTime=[1,20],this.queryData.operateUseType="",this.queryData.operateUseMax=30},handleTimeRange:function(e){switch(e){case"day":this.queryData.operateUseMax=30;break;case"hours":this.queryData.operateUseMax=24;break;case"minutes":this.queryData.operateUseMax=60}},handleClickFilter:function(){this.FilterShow=!this.FilterShow},animation:function(e){e?document.querySelector("body").style.overflow="hidden":this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleToggleTableInfo:function(e){this.queryData.moduleType=e,this.handleQueryInfo({limit:this.pageData.currentList})},handleExportListInfo:function(e){},handlePreviewImage:function(e){this.previewImgUrl=e,this.isShowPreviewImg=!0},handleTreeCallBackChange:function(e){for(var t=0;t<e.length;t++)e[t].son_id&&e[t].son_id.length?this.handleTreeCallBackChange(e[t].son_id):delete e[t].son_id},handleClickSingle:function(){var e=this;Object(Ce.h)().then(function(t){var a=t.data.data;if(!Array.isArray(a)){e.editData.supplierCode=a.supplier_code,e.editData.sampleCurrency=a.detail_currency,e.editData.productName=a.spu_name,e.editData.productList=[a.spu_one,a.spu_two,a.spu_three],e.editData.samplingRemarks=a.remark,e.editData.samplingLink=a.link,e.editData.devType=1*a.devp_type,e.editData.buyType=1*a.sample_type,e.editData.isVideo="1"===a.is_photo,e.editData.attrValue1=a.attribute_one[0],e.editData.attrValue2=a.attribute_two[0];for(var i=0;i<a.attribute_one.length-1;i++)e.editData.attr1.splice(i,1,a.attribute_one[i+1]);for(var s=0;s<a.attribute_two.length-1;s++)e.editData.attr2.splice(s,1,a.attribute_two[s+1]);e.handleSearchSupplierInfo()}"{}"===o()(e.optionList.attrList)?Object(Ce.c)().then(function(t){var i=t.data;e.isAddShow=!0,e.optionList.attrList=i.select_list.attribute,e.optionList.classifyList=i.select_list.category,e.optionList.devTypeList=i.select_list.devp_type,e.optionList.sampleTypeList=i.select_list.sample_type,e.optionList.currencyList=i.select_list.currency,e.handleTreeCallBackChange(i.select_list.category),e.$nextTick().then(function(){a.detail_name&&a.detail_name.forEach(function(t,i){e.$set(e.skuEditObj.value,i,["",a.detail_name[i],a.detail_price[i],a.detail_sale[i],a.detail_pcs[i],a.detail_buy[i],a.detail_customized[i]])}),e.$refs.skuEdit.handleRefreshTableData(e.skuEditObj.value,"other")})}):(e.isAddShow=!0,e.$nextTick().then(function(){a.detail_name&&a.detail_name.forEach(function(t,i){e.$set(e.skuEditObj.value,i,["",a.detail_name[i],a.detail_price[i],a.detail_sale[i],a.detail_pcs[i],a.detail_buy[i],a.detail_customized[i]])}),e.$refs.skuEdit.handleRefreshTableData(e.skuEditObj.value,"other")}))})},hanldeDiyChange:function(e,t){var a=this;this.skuEditObj.value.forEach(function(i,s){a.skuEditObj.value[s][e]=t})},handleSearchSupplierInfo:function(){var e=this,t=this.editData.supplierCode;t&&Object(Ce.l)({code:t}).then(function(t){var a=t.data;a.status?e.editData.supplierName=a.data:e.$message.error(a.errorMess||"未知错误！")})},handleAddAttr:function(e){var t=new Array(7);this.$set(this.editData,"attr"+e,[].concat(z()(this.editData["attr"+e]),t))},handleDeleteAttr:function(e){var t=this.editData["attr"+e].length;7!==t&&this.editData["attr"+e].splice(t-7,7)},handleSaveSkuEditInfo:function(e){this.skuEditObj.value=e},handleDelSkuEdit:function(e){1!==this.skuEditObj.value.length&&this.skuEditObj.value.splice(e,1)},handleDelSamplingLink:function(e){1!==this.editData.samplingLink.length&&this.editData.samplingLink.splice(e,1)},handleAddSamplingLink:function(){this.editData.samplingLink.push("")},handleBlurShowSkuInfo:function(e){(this.editData.attr1.length||this.editData.attr2.length)&&this.editData.productName&&this.autoInSkuName()},autoInSkuName:function(){var e=this,t=function(e){for(var t=0;t<e.length;t++){if(e[t])return!0;if(!e[t]&&t===e.length-1)return!1}},a=this.editData.productName,i=[];if(t(this.editData.attr1)&&t(this.editData.attr2)){var s=!0,n=!1,o=void 0;try{for(var r,l=U()(this.editData.attr1);!(s=(r=l.next()).done);s=!0){var c=r.value;if(c){var u=!0,d=!1,p=void 0;try{for(var h,_=U()(this.editData.attr2);!(u=(h=_.next()).done);u=!0){var m=h.value;m&&i.push(a+c+m)}}catch(e){d=!0,p=e}finally{try{!u&&_.return&&_.return()}finally{if(d)throw p}}}}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}}else if(t(this.editData.attr1)){var f=!0,v=!1,g=void 0;try{for(var y,b=U()(this.editData.attr1);!(f=(y=b.next()).done);f=!0){var k=y.value;k&&i.push(a+k)}}catch(e){v=!0,g=e}finally{try{!f&&b.return&&b.return()}finally{if(v)throw g}}}else{var D=!0,w=!1,C=void 0;try{for(var L,I=U()(this.editData.attr2);!(D=(L=I.next()).done);D=!0){var S=L.value;S&&i.push(a+S)}}catch(e){w=!0,C=e}finally{try{!D&&I.return&&I.return()}finally{if(w)throw C}}}i.forEach(function(t,a){Array.isArray(e.skuEditObj.value[a])?e.$set(e.skuEditObj.value[a],1,t):(e.$set(e.skuEditObj.value,a,new Array(7)),e.$set(e.skuEditObj.value[a],1,t))});var x=Math.abs(this.skuEditObj.value.length-i.length);this.skuEditObj.value.splice(i.length,x),this.$nextTick().then(function(){e.$refs.skuEdit.handleRefreshTableData(e.skuEditObj.value,"other")})},handleCancelEditSingleCreate:function(){this.editData={attr1:new Array(7),attr2:new Array(7),attrValue1:"",attrValue2:"",currency:"",currencyMoney:"",reCurrency:"",reCurrencyMoney:"",sampleCurrency:"",productSPU:"",productName:"",supplierCode:"",supplierName:"",devType:"",buyType:"",productList:[],samplingLink:[""],samplingRemarks:"",isVideo:!1},this.editShowArea=["1","2"],this.skuEditObj.value.splice(0)},handleSaveOrSubmitSingleCreate:function(e){var t=this,a=[],i=[];this.editData.attr1.forEach(function(e){e&&e.replace(/(\s)/g,"")&&a.push(e)}),this.editData.attr2.forEach(function(e){e&&e.replace(/(\s)/g,"")&&i.push(e)});var s={spu_name:this.editData.productName,supplier_code:this.editData.supplierCode,devp_type:this.editData.devType,sample_type:this.editData.buyType,spu_one:this.editData.productList[0]||"",spu_two:this.editData.productList[1]||"",spu_three:this.editData.productList[2]||"",spu_four:this.editData.productList[3]||"",link:this.editData.samplingLink,remark:this.editData.samplingRemarks,attribute_one:[this.editData.attrValue1].concat(z()(a)),attribute_two:[this.editData.attrValue2].concat(z()(i)),detail_currency:this.editData.sampleCurrency,detail_name:[],detail_price:[],detail_sale:[],detail_pcs:[],detail_buy:[],detail_customized:[],status:e,is_photo:this.editData.isVideo?"1":"0"};this.skuEditObj.value.forEach(function(e){for(var a=1;a<e.length-1;a++){if(!e[a])return void t.$message.error("请完善SKU明细信息，不能为空！")}s.detail_name.push(e[1]||""),s.detail_price.push(e[2]||""),s.detail_sale.push(e[3]||""),s.detail_pcs.push(e[4]||""),s.detail_buy.push(e[5]||""),s.detail_customized.push(e[6]||"")}),Object(Ce.i)(s).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleBatchCreate:function(){Object(m.h)(this,{pageMain:"/product_datum_create",pageUrl:"/batch_create_product_datum",pageName:"批量创建SPU"},"_new")},handleClickEdit:function(e,t,a){!e.sup_status&&t||(t&&(this.showSkuOpen=!1,this.editPage=a+1),this.saveEditRow=e,this.isEditShow=!0)},handleOperationFn:function(e,t){this.saveCheckInfo.length?(this.isOpeShow=!0,this.opeTitle=t,this.opeStatus=e):this.$message.warning("请勾选数据！")},handleConfirmOperate:function(e){var t=this,a=e.remark,i=[];this.saveCheckInfo.forEach(function(e){i.push(e.spu[0])}),Object(Ce.a)({spu:i,status:this.opeStatus,remark:a}).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&(this.isAddShow=!1)):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"product_datum_create",value:o()(this.queryData)}),this.tableData=e.data.value,this.tableKey=e.data.key,this.optionList.productListList=[].concat(z()(e.select_list.category)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.optionList.operationUserList=e.select_list.opera_user,e.select_list.user&&(this.optionList.workUserList=e.select_list.user),this.handleTreeCallBackChange(this.optionList.productListList),this.tableProps=["index","spu","img","good_name","category_path","sample_type","good_info","audit_state","ope_record","use_time","remarks"],this.tableWidth=["100","150","70","250","150","100","250","100","170","120",""],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.productDatumCreateInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.product_datum_create),this.handleQueryInfoCallBack(this.productDatumCreateInfo))}catch(e){console.log(e)}},watch:{"editData.devType":function(e){var t=this;2===e?this.$confirm("是否经过摄影？","提示").then(function(){t.editData.isVideo=!0}).catch(function(){t.editData.isVideo=!1}):this.editData.isVideo=!1,this.disBuyType.indexOf(e)>-1&&(this.editData.buyType=0)},"editData.buyType":function(e){var t=this;this.skuOptionDis.indexOf(e)>-1&&this.skuEditObj.value.forEach(function(e,a){t.$set(t.skuEditObj.value[a],5,"0"),t.$set(t.skuEditObj.value[a],6,"0")})}}},je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU","string"==typeof t?t.trim():t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}},e._l(e.optionList.workUserList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small",disabled:!e.queryData.functionInfo,clearable:""},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small",clearable:""},on:{change:function(t){e.handleTimeRange(e.queryData.operateUseType)}},model:{value:e.queryData.operateUseType,callback:function(t){e.$set(e.queryData,"operateUseType",t)},expression:"queryData.operateUseType"}},e._l(e.optionList.timeTypeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),e.queryData.operateUseType?a("el-slider",{attrs:{disabled:!e.queryData.functionInfo,range:"",min:1,max:e.queryData.operateUseMax},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}}):e._e()],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName","string"==typeof t?t.trim():t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small",clearable:""},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}},e._l(e.optionList.operationUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.FilterShow,expression:"!FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickSingle}},[a("i",{staticClass:"icon-dangechuangjian icon-warn"}),e._v("单个创建\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleBatchCreate}},[a("i",{staticClass:"icon-piliangchuangjian icon-warn"}),e._v("批量创建\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperationFn(1,"取消开发")}}},[a("i",{staticClass:"icon-quxiaokaifa icon-main"}),e._v("取消开发\n        ")]),e._v(" "),"1"===e.queryData.moduleType?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperationFn(3,"标记异常")}}},[a("i",{staticClass:"icon-biaojiyichang icon-danger"}),e._v("标记异常\n        ")]):e._e()],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,otherHeight:["ui-main-tab"],showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("div",[a("span",{class:"1"===t.row.reject_type?"el-icon-warning":"el-icon-success"}),e._v(" "),a("p",[e._v(e._s(e.autoAddTableInx(t.$index)))])])]}},{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[a("el-popover",{attrs:{placement:"right",trigger:"hover"}},[t.row.sku?a("ul",{staticClass:"ui-sku_open"},e._l(t.row.sku_name.split(","),function(i,s){return a("li",{on:{click:function(a){e.handleClickEdit(t.row,i,s)}}},[e._v("\n                                "+e._s(i)+e._s(t.row.sku_name&&t.row.sku_name.split(",")[s])+"\n                            ")])})):e._e(),e._v(" "),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.spu[1]))])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-bianji",on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})])])]}},{key:"img",fn:function(t){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:t.row.photo_path,alt:""},on:{click:function(a){a.stopPropagation(),e.handlePreviewImage(t.row.photo_path)}}})])]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",[e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[a("ul",e._l(t.row.link,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])})),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],1),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],2)],2)]}},{key:"audit_state",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"ope_record",fn:function(t){return[a("div",e._l(t.row.opera_log,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"use_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.moduleType===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label)),a("i",{staticClass:"ui-tab_line"})])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{"custom-class":"ui-com_edit",title:"单个创建",top:"2vh",width:"1200px",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEditSingleCreate}},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("el-collapse-item",{attrs:{title:"| 商品SPU资料",name:"1"}},[a("div",{staticClass:"ui-com_edit--content--item"},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("ul",{staticClass:"clearFix"},[a("li",[a("el-form-item",{attrs:{prop:"comCode",label:"商品SPU","label-width":e.formLabelWidth}},[a("el-input",{attrs:{readonly:"",placeholder:"商品目录完善后自动生成"},model:{value:e.editData.productSPU,callback:function(t){e.$set(e.editData,"productSPU","string"==typeof t?t.trim():t)},expression:"editData.productSPU"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierName",label:"商品名称","label-width":e.formLabelWidth}},[a("el-input",{on:{blur:function(t){e.handleBlurShowSkuInfo(e.editData.productName)}},model:{value:e.editData.productName,callback:function(t){e.$set(e.editData,"productName","string"==typeof t?t.trim():t)},expression:"editData.productName"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"supplierCode",label:"供应商代码","label-width":e.formLabelWidth}},[a("el-input",{on:{blur:e.handleSearchSupplierInfo},model:{value:e.editData.supplierCode,callback:function(t){e.$set(e.editData,"supplierCode","string"==typeof t?t.trim():t)},expression:"editData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"applyDate",label:"供应商名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{readonly:"",placeholder:"输入供应商代码带出"},model:{value:e.editData.supplierName,callback:function(t){e.$set(e.editData,"supplierName","string"==typeof t?t.trim():t)},expression:"editData.supplierName"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-double"},[a("el-form-item",{attrs:{prop:"supplierLink",label:"开发类型","label-width":e.formLabelWidth}},[a("el-select",{model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"supplierLink",label:"购买类型","label-width":"80px"}},[a("el-select",{model:{value:e.editData.buyType,callback:function(t){e.$set(e.editData,"buyType",t)},expression:"editData.buyType"}},e._l(e.optionList.sampleTypeList,function(t,i){return a("el-option",{key:t,attrs:{disabled:e.disBuyType.indexOf(e.editData.devType)>-1&&!!t,value:t,label:i}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"companyType",label:"商品目录","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{placeholder:"输入搜索",options:e.optionList.classifyList,props:{label:"category_name",value:"id",children:"son_id"},filterable:""},model:{value:e.editData.productList,callback:function(t){e.$set(e.editData,"productList",t)},expression:"editData.productList"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{prop:"contactsPhone",label:"采样备注","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editData.samplingRemarks,callback:function(t){e.$set(e.editData,"samplingRemarks","string"==typeof t?t.trim():t)},expression:"editData.samplingRemarks"}})],1)],1),e._v(" "),e._l(e.editData.samplingLink,function(t,i){return a("li",{staticClass:"ui-com_edit--content--item--layout ui-batch_ope"},[a("el-form-item",{attrs:{label:"采样链接","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editData.samplingLink[i],callback:function(t){e.$set(e.editData.samplingLink,i,"string"==typeof t?t.trim():t)},expression:"editData.samplingLink[index]"}})],1),e._v(" "),a("div",{staticClass:"ui-batch_ope--btn"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDelSamplingLink(i)}}}),e._v(" "),i?e._e():a("span",{staticClass:"icon-zengjia1",on:{click:e.handleAddSamplingLink}})])],1)})],2)])],1)]),e._v(" "),a("el-collapse-item",{attrs:{title:"| 关联SKU资料",name:"2"}},[a("div",{staticClass:"ui-attr_edit"},[a("div",[a("div",{staticClass:"ui-attr_edit--form"},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.attrValue1,callback:function(t){e.$set(e.editData,"attrValue1",t)},expression:"editData.attrValue1"}},e._l(e.optionList.attrList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}))],1),e._v(" "),a("ul",{staticClass:"ui-attr_edit--area clearFix"},e._l(e.editData.attr1,function(t,i){return a("li",{key:i},[a("span",[e._v(e._s(e.indexList[i]))]),e._v(" "),a("el-input",{key:i,attrs:{size:"small",disabled:!e.editData.attrValue1},on:{blur:function(t){e.handleBlurShowSkuInfo(e.editData.attr1[i])}},model:{value:e.editData.attr1[i],callback:function(t){e.$set(e.editData.attr1,i,"string"==typeof t?t.trim():t)},expression:"editData.attr1[index]"}})],1)})),e._v(" "),a("div",{staticClass:"ui-attr_edit--ope"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteAttr("1")}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddAttr("1")}}})])]),e._v(" "),a("div",[a("div",{staticClass:"ui-attr_edit--form"},[a("el-select",{attrs:{size:"small"},model:{value:e.editData.attrValue2,callback:function(t){e.$set(e.editData,"attrValue2",t)},expression:"editData.attrValue2"}},e._l(e.optionList.attrList,function(e,t){return a("el-option",{key:e,attrs:{value:e,label:t}})}))],1),e._v(" "),a("ul",{staticClass:"ui-attr_edit--area clearFix"},e._l(e.editData.attr2,function(t,i){return a("li",{key:i},[a("span",[e._v(e._s(e.indexList[i]))]),e._v(" "),a("el-input",{attrs:{size:"small",disabled:!e.editData.attrValue2},on:{blur:function(t){e.handleBlurShowSkuInfo(e.editData.attr2[i])}},model:{value:e.editData.attr2[i],callback:function(t){e.$set(e.editData.attr2,i,"string"==typeof t?t.trim():t)},expression:"editData.attr2[index]"}})],1)})),e._v(" "),a("div",{staticClass:"ui-attr_edit--ope"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteAttr("2")}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddAttr("2")}}})])])]),e._v(" "),a("div",{staticClass:"ui-currency--area"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",size:"small"},model:{value:e.editData.currencyMoney,callback:function(t){e.$set(e.editData,"currencyMoney","string"==typeof t?t.trim():t)},expression:"editData.currencyMoney"}},[a("el-select",{attrs:{slot:"append",size:"small",placeholder:"请选择"},slot:"append",model:{value:e.editData.currency,callback:function(t){e.$set(e.editData,"currency",t)},expression:"editData.currency"}},e._l(e.optionList.currencyList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1),e._v(" "),a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",size:"small"},model:{value:e.editData.reCurrencyMoney,callback:function(t){e.$set(e.editData,"reCurrencyMoney","string"==typeof t?t.trim():t)},expression:"editData.reCurrencyMoney"}},[a("el-select",{attrs:{slot:"append",size:"small",placeholder:"请选择"},slot:"append",model:{value:e.editData.reCurrency,callback:function(t){e.$set(e.editData,"reCurrency",t)},expression:"editData.reCurrency"}},e._l(e.optionList.currencyList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择采样价币种"},model:{value:e.editData.sampleCurrency,callback:function(t){e.$set(e.editData,"sampleCurrency",t)},expression:"editData.sampleCurrency"}},e._l(e.optionList.currencyList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1),e._v(" "),a("div",{staticClass:"ui-table--form"},[a("TableEdit",{ref:"skuEdit",attrs:{type:"form",tableKey:e.skuEditObj.key,propsTemp:e.skuEditObj.tempProps},on:{backData:e.handleSaveSkuEditInfo},scopedSlots:e._u([{key:"productSku",fn:function(t){return[a("el-input",{attrs:{disabled:""},model:{value:e.skuEditObj.value[t.scope[0]][t.scope[1]],callback:function(a){e.$set(e.skuEditObj.value[t.scope[0]],t.scope[1],"string"==typeof a?a.trim():a)},expression:"skuEditObj.value[scope.scope[0]][scope.scope[1]]"}})]}},{key:"isBuy",fn:function(t){return[a("el-select",{on:{change:function(a){"0"===a&&(e.skuEditObj.value[t.scope[0]][t.scope[1]+1]=a),e.hanldeDiyChange([t.scope[1]+1],"0")}},model:{value:e.skuEditObj.value[t.scope[0]][t.scope[1]],callback:function(a){e.$set(e.skuEditObj.value[t.scope[0]],t.scope[1],a)},expression:"skuEditObj.value[scope.scope[0]][scope.scope[1]]"}},e._l(e.optionList.skuEditConfirmList,function(t,i){return a("el-option",{key:i,attrs:{disabled:e.skuOptionDis.indexOf(e.editData.buyType)>-1&&"1"===i,label:t,value:i}})}))]}},{key:"isDiy",fn:function(t){return[a("el-select",{on:{change:function(a){e.hanldeDiyChange([t.scope[1]],e.skuEditObj.value[t.scope[0]][t.scope[1]])}},model:{value:e.skuEditObj.value[t.scope[0]][t.scope[1]],callback:function(a){e.$set(e.skuEditObj.value[t.scope[0]],t.scope[1],a)},expression:"skuEditObj.value[scope.scope[0]][scope.scope[1]]"}},e._l(e.optionList.skuEditConfirmList,function(i,s){return a("el-option",{key:s,attrs:{disabled:"0"===e.skuEditObj.value[t.scope[0]][t.scope[1]-1]&&"1"===s,label:i,value:s}})}))]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.handleDelSkuEdit(t.scope[0])}}},[e._v("删除")])]}}])})],1)])],1),e._v(" "),a("div",{staticClass:"ui-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleSaveOrSubmitSingleCreate("2")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.handleSaveOrSubmitSingleCreate("1")}}},[e._v("提交")])],1)],1),e._v(" "),a("EditPage",{attrs:{show:e.isEditShow,row:e.saveEditRow,page:e.editPage},on:{success:function(t){e.handleQueryInfo({limit:e.pageData.currentList})},"update:show":function(t){e.isEditShow=t}}}),e._v(" "),a("LookImage",{attrs:{src:e.previewImgUrl,show:e.isShowPreviewImg},on:{"update:show":function(t){e.isShowPreviewImg=t}}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",title:e.opeTitle,visible:e.isOpeShow},on:{"update:visible":function(t){e.isOpeShow=t},confirm:e.handleConfirmOperate}})],1)},staticRenderFns:[]};var Fe=a("VU/8")(ze,je,!1,function(e){a("Ghme")},"data-v-db2fbc90",null).exports,Ne={name:"BatchCreatePage",data:function(){return{tableKey:[],tableData:[],tableProps:[],saveCheckInfo:[]}},computed:d()({},Object(h.c)(["loginInfo","productBatchCreateInfo"]),{importUrl:function(){return"/product/product/import_product"},downloadUrl:function(){return"/product/product/product_export_temp"}}),created:function(){"{}"!==o()(this.productBatchCreateInfo)&&this.handleUploadInfoCallBack(this.productBatchCreateInfo)},methods:{handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleUploadSuccess:function(e){this.handleUploadInfoCallBack(e),this.$store.commit("SAVE_BATCH_CREATE_PRODUCT_INFO",e)},handleDownloadModule:function(){window.open(this.downloadUrl,"_self")},handleUploadInfoCallBack:function(e){this.tableData=e.data.value.right,this.tableKey=e.data.key,this.tableProps=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S"]},handleConfirmUpload:function(){var e=this,t=[];this.tableProps.forEach(function(e){var a=e.credit_code;t.push(a)});var a={credit_codes:t.join(",")};Object(Ce.b)(a).then(function(t){var a=t.data;if(a.status)e.$message.success("操作成功！"),Object(m.l)(e,{path:"/batch_create_product_datum",main:"/product_datum_create",refresh:!0});else if(a.errorMess&&a.errorMess.length){var i="";a.errorMess.forEach(function(e){i+="<div>"+e+"</div>"}),e.$alert(i,"错误原因",{customClass:"ui-error-list",dangerouslyUseHTMLString:!0})}else e.$message.error(a.error_mess||"操作失败!")})}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDefault",{attrs:{color:"#fff"}},[a("div",{staticClass:"ui-batch_create"},[a("div",{staticClass:"ui-batch_create--fn"},[a("ComUpload",{attrs:{label:"选择文件",url:e.importUrl,upData:{user_id:e.loginInfo.staff_code||"12534"}},on:{success:e.handleUploadSuccess}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){e.handleDownloadModule(1)}}},[e._v("下载SPU模板")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){e.handleDownloadModule(2)}}},[e._v("下载1688采集模板")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmUpload}},[e._v("确认上传")])],1),e._v(" "),a("ComTableInfo",{attrs:{tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,otherHeight:["ui-batch_create--fn"]}})],1)])},staticRenderFns:[]};var Me=a("VU/8")(Ne,$e,!1,function(e){a("0WIC")},"data-v-11fb70e4",null).exports,Qe=a("4sZl"),Be={components:{EditPage:Re},data:function(){return{FilterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",productName:"",supplierName:"",operateUser:"",operateTime:[],operateUseTime:[1,20],operateUseType:"",operateUseMax:30},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{},stateList:{},companyTypeList:{},depList:{2:"品控",3:"文案or摄影",4:"美工"},timeTypeList:{day:"天",hours:"时",minutes:"分"},workUserList:[],operationUserList:[]},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],saveEditRow:{},isPreviewShow:!1,isShowAudit:!1,auditDptList:[],isShowReject:!1,saveCheckStatus:{spu:"",status:""}}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","devAnomalyAuditInfo"])),methods:d()({},Object(h.b)(["GetDevAnomalyAuditInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.dev_anomaly_audit));var a=d()({spu:this.queryData.productSPU,supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join(","),goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function:this.queryData.functionInfo,user:this.queryData.workUser,opera_user:this.queryData.operateUser,opera_time_start:this.queryData.operateTime[0],opera_time_end:this.queryData.operateTime[1],status:this.queryData.auditState,opera_start_time:Object(m.f)(this.queryData.operateUseTime[0],this.queryData.operateUseType,"seconds"),opera_end_time:Object(m.f)(this.queryData.operateUseTime[1],this.queryData.operateUseType,"seconds")},t);this.GetDevAnomalyAuditInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]}},handleClickFilter:function(){this.FilterShow=!this.FilterShow},handleTimeRange:function(e){switch(e){case"day":this.queryData.operateUseMax=30;break;case"hours":this.queryData.operateUseMax=24;break;case"minutes":this.queryData.operateUseMax=60}},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handlePreview:function(e){this.isPreviewShow=!0,this.saveEditRow=e},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=["http://pic10.nipic.com/20101016/2531170_233023137000_2.jpg"]},handleTreeCallBackChange:function(e){for(var t=0;t<e.length;t++)e[t].son_id&&e[t].son_id.length?this.handleTreeCallBackChange(e[t].son_id):delete e[t].son_id},handleOperationFn:function(e,t){var a=this;this.saveCheckStatus.spu=e.spu[0],this.saveCheckStatus.status=t,1===t?(console.log(e,88),"1"!==e.audit_status?this.$confirm("是否审核?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.handleConfirmOperate()}):Object(Qe.a)({spu:e.spu[0]}).then(function(e){var t=e.data;t.status&&(a.auditDptList=t.data),a.isShowAudit=!0})):this.isShowReject=!0},handleConfirmOperate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={spu:this.saveCheckStatus.spu,type:this.saveCheckStatus.status,status:4};1===a.type&&t.checkList&&(a.dep=t.checkList.join(",")),Object(Ce.a)(a).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"dev_anomaly_audit",value:o()(this.queryData)}),this.tableData=e.data.value,this.tableKey=e.data.key,this.tableWidth[2]="90px",this.tableWidth[6]="230px",this.tableWidth[8]="230px",this.optionList.productListList=[].concat(z()(e.select_list.category)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.handleTreeCallBackChange(this.optionList.productListList),this.optionList.operationUserList=e.select_list.opera_user,this.optionList.workUserList=e.select_list.opera_user,this.tableProps=["index","spu","img","good_name","category_path","sample_type","good_info","audit_state","ope_record","use_time","remarks"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.devAnomalyAuditInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.dev_anomaly_audit),this.handleQueryInfoCallBack(this.devAnomalyAuditInfo))}catch(e){console.log(e)}}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}},e._l(e.optionList.workUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},on:{change:function(t){e.handleTimeRange(e.queryData.operateUseType)}},model:{value:e.queryData.operateUseType,callback:function(t){e.$set(e.queryData,"operateUseType",t)},expression:"queryData.operateUseType"}},e._l(e.optionList.timeTypeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),e.queryData.operateUseType?a("el-slider",{attrs:{disabled:!e.queryData.functionInfo,range:"",min:1,max:e.queryData.operateUseMax},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}}):e._e()],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small",clearable:""},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}},e._l(e.optionList.operationUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.FilterShow,expression:"!FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[e._v(e._s(t.row.spu[1]))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-bianji icon-main",on:{click:function(a){a.stopPropagation(),e.handlePreview(t.row)}}}),e._v(" "),a("i",{staticClass:"icon-shenhe icon-warn",attrs:{title:"审核"},on:{click:function(a){e.handleOperationFn(t.row,1)}}}),e._v(" "),a("i",{staticClass:"icon-bohui icon-danger",attrs:{title:"驳回"},on:{click:function(a){e.handleOperationFn(t.row,2)}}})])])]}},{key:"img",fn:function(t){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:t.row.photo_path,alt:""},on:{click:function(a){a.stopPropagation(),e.handlePreviewImage(t.row.img)}}})])]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",[e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],2),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],2)],2)]}},{key:"audit_state",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"ope_record",fn:function(t){return[a("div",e._l(t.row.opera_log,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"use_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("EditPage",{attrs:{show:e.isPreviewShow,row:e.saveEditRow,type:"preview"},on:{"update:show":function(t){e.isPreviewShow=t}}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",formLabel:"选择部门",title:"审核",type:"checkbox",visible:e.isShowAudit,checkList:e.auditDptList,option:e.optionList.depList},on:{"update:visible":function(t){e.isShowAudit=t},confirm:e.handleConfirmOperate}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",title:"驳回",visible:e.isShowReject},on:{"update:visible":function(t){e.isShowReject=t},confirm:e.handleConfirmOperate}})],1)},staticRenderFns:[]};var We=a("VU/8")(Be,Ve,!1,function(e){a("QbrK")},"data-v-6939d8fa",null).exports,Ge={components:{EditPage:Re},data:function(){return{FilterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",productName:"",supplierName:"",operateUser:"",operateTime:[],operateUseTime:[1,20],operateUseType:"",operateUseMax:30},optionList:{supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{},stateList:{},companyTypeList:{},timeTypeList:{day:"天",hours:"时",minutes:"分"},workUserList:[],operationUserList:[]},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],saveEditRow:{},isPreviewShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","cancelDevListInfo"])),methods:d()({},Object(h.b)(["GetCancelDevListInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.cancel_dev_list));var a=d()({spu:this.queryData.productSPU,supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join(","),goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function:this.queryData.functionInfo,user:this.queryData.workUser,opera_user:this.queryData.operateUser,opera_time_start:this.queryData.operateTime[0],opera_time_end:this.queryData.operateTime[1],status:this.queryData.auditState,opera_start_time:Object(m.f)(this.queryData.operateUseTime[0],this.queryData.operateUseType,"seconds"),opera_end_time:Object(m.f)(this.queryData.operateUseTime[1],this.queryData.operateUseType,"seconds")},t);this.GetCancelDevListInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]}},handleClickFilter:function(){this.FilterShow=!this.FilterShow},handleTimeRange:function(e){switch(e){case"day":this.queryData.operateUseMax=30;break;case"hours":this.queryData.operateUseMax=24;break;case"minutes":this.queryData.operateUseMax=60}},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handlePreview:function(e){this.isPreviewShow=!0,this.saveEditRow=e},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=["http://pic10.nipic.com/20101016/2531170_233023137000_2.jpg"]},handleTreeCallBackChange:function(e){for(var t=0;t<e.length;t++)e[t].son_id&&e[t].son_id.length?this.handleTreeCallBackChange(e[t].son_id):delete e[t].son_id},handleOperationFn:function(e,t){var a=this;this.saveCheckInfo.length?this.$confirm("确认"+t+"？","提示",{type:"warning"}).then(function(){var t=[];a.saveCheckInfo.forEach(function(e){t.push(e.spu[0])}),Object(Ce.a)({spu:t,status:e}).then(function(e){var t=e.data;a.handleOperationCallBack(t)})}):this.$message.warning("请勾选数据！")},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"cancel_dev_list",value:o()(this.queryData)}),this.tableData=e.data.value,this.tableKey=e.data.key,this.tableWidth[2]="90px",this.tableWidth[6]="230px",this.tableWidth[8]="230px",this.optionList.productListList=[].concat(z()(e.select_list.category)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.handleTreeCallBackChange(this.optionList.productListList),this.optionList.operationUserList=e.select_list.opera_user,this.optionList.workUserList=e.select_list.opera_user,this.tableProps=["index","spu","img","good_name","category_path","sample_type","good_info","audit_state","ope_record","use_time","remarks"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.cancelDevListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.cancel_dev_list),this.handleQueryInfoCallBack(this.cancelDevListInfo))}catch(e){console.log(e)}}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}},e._l(e.optionList.workUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},on:{change:function(t){e.handleTimeRange(e.queryData.operateUseType)}},model:{value:e.queryData.operateUseType,callback:function(t){e.$set(e.queryData,"operateUseType",t)},expression:"queryData.operateUseType"}},e._l(e.optionList.timeTypeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),e.queryData.operateUseType?a("el-slider",{attrs:{disabled:!e.queryData.functionInfo,range:"",min:1,max:e.queryData.operateUseMax},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}}):e._e()],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small",clearable:""},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}},e._l(e.optionList.operationUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.FilterShow,expression:"!FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperationFn(2,"重新开发")}}},[a("i",{staticClass:"icon-zhongxinkaifa icon-main"}),e._v("重新开发")])],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[e._v(e._s(t.row.spu[1]))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-bianji icon-main",on:{click:function(a){a.stopPropagation(),e.handlePreview(t.row)}}})])])]}},{key:"img",fn:function(t){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:t.row.photo_path,alt:""},on:{click:function(a){a.stopPropagation(),e.handlePreviewImage(t.row.img)}}})])]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",[e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],2),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],2)],2)]}},{key:"audit_state",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"ope_record",fn:function(t){return[a("div",e._l(t.row.opera_log,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"use_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("EditPage",{attrs:{show:e.isPreviewShow,row:e.saveEditRow,type:"preview"},on:{"update:show":function(t){e.isPreviewShow=t}}})],1)},staticRenderFns:[]};var He=a("VU/8")(Ge,Ke,!1,function(e){a("l9WD")},"data-v-30bacfa0",null).exports,Je=a("HNp7"),Ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-scan_page ui-main-module"},[a("div",{staticClass:"ui-head"},[a("ul",{staticClass:"ui-head-ope_item"},[a("li",{staticClass:"ui-head-ope_item--layout"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.isRelevance=!e.isRelevance}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.isRelevance,expression:"!isRelevance"}],staticClass:"icon-erweimahong icon-danger"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.isRelevance,expression:"isRelevance"}],staticClass:"icon-erweimalan icon-main"})]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请扫描二维码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleScanInfo(t):null}},model:{value:e.queryData.code,callback:function(t){e.$set(e.queryData,"code",t)},expression:"queryData.code"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.submitScan},slot:"append"},[e._v("提交")])],1)],1)])]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.deleteScan}},[a("i",{staticClass:"icon-shanchusaoma icon-danger"}),e._v("删除扫码\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isRelevance,expression:"isRelevance"}],attrs:{type:"text",size:"small"},on:{click:e.relevanceScan}},[a("i",{staticClass:"icon-querenguanlian icon-main"}),e._v("确认关联\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isRelevance,expression:"!isRelevance"}],attrs:{type:"text",size:"small"}},[a("i",{staticClass:"icon-jiechubangding icon-warn"}),e._v("解除绑定\n        ")])],1),e._v(" "),a("div",{staticClass:"ui-main-module-table"},[a("div",{staticClass:"ui-main-tab"},e._l(e.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.list_type===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label)),a("i",{staticClass:"ui-tab_line"})])])])}))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.queryData.list_type,expression:"queryData.list_type==1"}]},[a("ComTableInfo",{ref:"boxSPURef",attrs:{isCellCancel:"",isCheck:"",tableKey:e.tableData.boxSPUKey,tableProps:e.tableData.boxSPUProps,tableData:e.tableData.boxSPUData,tableWidth:e.tableData.tableWidth,otherHeight:["ui-main-tab","ui-head"],tableRowClassName:e.rowClassName},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"remark",fn:function(t){return[a("el-input",{attrs:{type:"small"},on:{blur:function(a){e.submitRemark(t.row)}},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.queryData.list_type,expression:"queryData.list_type==2"}]},[a("ComTableInfo",{ref:"trolleyBoxRef",attrs:{isCellCancel:"",isCheck:"",otherHeight:["ui-main-tab","ui-head"],tableKey:e.tableData.trolleyBoxKey,tableProps:e.tableData.trolleyBoxProps,tableData:e.tableData.trolleyBoxData,tableWidth:e.tableData.tableWidth,tableRowClassName:e.rowClassName},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"remark",fn:function(t){return[a("el-input",{attrs:{type:"small"},on:{blur:function(a){e.submitRemark(t.row)}},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.queryData.list_type,expression:"queryData.list_type==3"}]},[a("ComTableInfo",{ref:"trolleySPURef",attrs:{isCellCancel:"",isCheck:"",otherHeight:["ui-main-tab","ui-head"],tableKey:e.tableData.trolleySPUKey,tableProps:e.tableData.trolleySPUProps,tableData:e.tableData.trolleySPUData,tableWidth:e.tableData.tableWidth,tableRowClassName:e.rowClassName},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"remark",fn:function(t){return[a("el-input",{attrs:{type:"small"},on:{blur:function(a){e.submitRemark(t.row)}},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.queryData.list_type,expression:"queryData.list_type==4"}]},[a("ComTableInfo",{ref:"trolleySPURef",attrs:{isCellCancel:"",isCheck:"",otherHeight:["ui-main-tab","ui-head"],tableKey:e.tableData.SPUKey,tableProps:e.tableData.SPUProps,tableData:e.tableData.SPUData,tableWidth:e.tableData.tableWidth,tableRowClassName:e.rowClassName},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"remark",fn:function(t){return[a("el-input",{attrs:{type:"small"},on:{blur:function(a){e.submitRemark(t.row)}},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"查看台车明细",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.detailKey,tableProps:e.detailProps,tableData:e.detailData,tableWidth:e.detailWidth},scopedSlots:e._u([{key:"num",fn:function(t){return[e._v("\n                "+e._s(t.row.num.num)+"\n            ")]}},{key:"pro_spu",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_spu.spu)+"\n            ")]}},{key:"pro_name",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_name.product_name)+"\n            ")]}},{key:"pro_category",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_category.one_category_name)+"\n            ")]}},{key:"pro_amount",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_amount.sku_count)+"\n            ")]}},{key:"bind_sku",fn:function(t){return[e._v("\n                "+e._s(t.row.bind_sku.sku)+"\n            ")]}}])})],1)],1)},staticRenderFns:[]};var Ye=function(e){a("zfm5")},Xe=a("VU/8")(Je.a,Ze,!1,Ye,"data-v-2eb12531",null).exports,et=a("yUfc"),tt={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:"",firstGroup:""},optionList:{userList:[],canClassifyList:[],areaList:[],whetherList:[],devTypeList:[],groupTopList:[],searchUserList:[]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isFirstAddShow:!1,isEditFirstShow:!1,firstEdit:{manage:"",groupName:"",id:""},isReview:!1,isAddShow:!1,isEditShow:!1,labelWidth:"70px",editData:{groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},saveCheckId:"",editRule:{groupName:f.a.RULE_CONFIG.requiredBlur,groupManager:f.a.RULE_CONFIG.requiredChange,groupHeadman:f.a.RULE_CONFIG.requiredChange,groupUser:f.a.RULE_CONFIG.requiredChange},isProofTrue:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","devGroupManageInfo"])),methods:d()({},Object(h.b)(["GetDevGroupManageInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.dev_group_manage));var a=d()({devp_type:this.queryData.devType,category_id:this.queryData.classify[this.queryData.classify.length-1],group_name:this.queryData.groupName,top_level_pid:this.queryData.firstGroup,user_manager_id:this.queryData.groupManager,user_director_id:this.queryData.groupDirector},t);this.GetDevGroupManageInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleToggleFirst:function(e){this.queryData.firstGroup=e.top_level_pid,this.handleQueryInfo({limit:this.pageData.currentList})},handleResetQueryInfo:function(){this.queryData={groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleDeleteInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.id,group_type:"1"};Object(et.c)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleDeleteFirstInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.top_level_pid,group_type:"1"};Object(et.b)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAddFirstInfo:function(){this.isFirstAddShow=!0},handleSaveAddFirstInfo:function(){var e=this,t={user_manager_id:this.firstEdit.manage,group_name:this.firstEdit.groupName,group_type:"1"};this.isEditFirstShow?(t.group_id=this.firstEdit.id,Object(et.d)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleEditFirst:function(e){this.firstEdit.manage=e.user_manager_id,this.firstEdit.groupName=e.group_name,this.firstEdit.id=e.top_level_pid,this.isEditFirstShow=!0,this.isFirstAddShow=!0},handleCancelAddFirstInfo:function(){this.firstEdit={manage:"",groupName:"",id:""},this.$refs.firstEdit.resetFields(),this.isFirstAddShow=!1,this.isEditFirstShow=!1},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){"readonly"===t&&(this.isReview=!0),this.handlePlayUpEditInfo(e),this.isAddShow=!0},handlePlayUpOptionList:function(e){},handlePlayUpEditInfo:function(e){this.isEditShow=!0,this.saveCheckId=e.id,this.editData.canClassify=e.group_category.map(function(e){return e.map(function(e){return e.toString()})}),this.editData.groupName=e.group_name,this.editData.parentGroup=e.top_level_pid,this.editData.groupManager=this.optionList.userList[e.user_manager_id],this.editData.groupManagerId=e.user_manager_id,this.editData.groupDirector=e.user_director_id,this.editData.groupHeadman=e.user_groupman_id,this.editData.groupUser=ie()(e.group_user_info),this.editData.area=1*e.region,this.editData.devType=1*e.devp_type,this.editData.isDiy=1*e.is_customized,this.editData.isOss=1*e.is_overseas},handleCancelEdit:function(){this.editData={groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isReview=!1},handleDelClassify:function(){1!==this.editData.canClassify.length&&this.editData.canClassify.pop()},handleAddClassify:function(){this.editData.canClassify.push([])},handleProofClassify:function(e,t){for(var a=e[e.length-1],i=0;i<this.editData.canClassify.length;i++){var s=this.editData.canClassify[i];if(t!==i&&s.indexOf(a)>-1)return this.$message.warning("适用分类选择有误！"),!0}},handleOpenProofClassify:function(e){},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){for(var a=0;a<e.editData.canClassify.length;a++)if(e.handleProofClassify(e.editData.canClassify[a],a))return;var i=[];e.editData.groupUser.forEach(function(e){i.push({user_staff_id:e})});var s={group_name:e.editData.groupName,top_level_pid:e.editData.parentGroup,user_groupman_id:e.editData.groupHeadman,user_director_id:e.editData.groupDirector,user_manager_id:e.editData.groupManagerId,group_user_info:o()(i),devp_type:e.editData.devType||0,region:e.editData.area||0,group_type:"1",is_customized:e.editData.isDiy||0,is_overseas:e.editData.isOss||0,group_category:o()(e.editData.canClassify)};e.isEditShow?(s.group_id=e.saveCheckId,Object(et.f)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.g)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&this.handleCancelEdit(),this.isFirstAddShow&&this.handleCancelAddFirstInfo()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"dev_group_manage",value:o()(this.queryData)}),this.optionList.devTypeList=e.data_list.drop_down_data.devp_type_list,this.optionList.searchUserList=e.data_list.drop_down_data.user_data,this.optionList.canClassifyList=e.data_list.drop_down_data.category_list,this.optionList.groupTopList=e.data_list.top_group_list,this.optionList.areaList=e.data_list.drop_down_data.region_list,this.optionList.userList=e.data_list.drop_down_data.user_data,this.optionList.whetherList=e.data_list.drop_down_data.whether,this.tableData=e.data_list.value,this.tableKey=e.data_list.key,this.tableProps=["index","group_name","region","devp_type_cn","group_category_cn","group_user_info","group_user_number","operation"],this.pageData.currentList=1*e.page_data.limit,this.pageData.currentPage=1*e.page_data.offset,this.pageData.currentTotal=1*e.page_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.devGroupManageInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.dev_group_manage),this.handleQueryInfoCallBack(this.devGroupManageInfo))}catch(e){console.log(e)}},watch:{"editData.parentGroup":function(e){var t=this;this.optionList.groupTopList.forEach(function(a){a.top_level_pid===e&&(t.editData.groupManager=t.optionList.userList[a.user_manager_id],t.editData.groupManagerId=a.user_manager_id)})}}},at={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"小组名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.groupName,callback:function(t){e.$set(e.queryData,"groupName",t)},expression:"queryData.groupName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组经理",options:e.optionList.searchUserList},model:{value:e.queryData.groupManager,callback:function(t){e.$set(e.queryData,"groupManager",t)},expression:"queryData.groupManager"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组主管",options:e.optionList.searchUserList},model:{value:e.queryData.groupDirector,callback:function(t){e.$set(e.queryData,"groupDirector",t)},expression:"queryData.groupDirector"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"cascader",props:{label:"category_name",value:"id"},label:"适用分类",options:e.optionList.canClassifyList},model:{value:e.queryData.classify,callback:function(t){e.$set(e.queryData,"classify",t)},expression:"queryData.classify"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"开发类型",options:e.optionList.devTypeList},model:{value:e.queryData.devType,callback:function(t){e.$set(e.queryData,"devType",t)},expression:"queryData.devType"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("div",{staticClass:"ui-shortcut",staticStyle:{"margin-top":"0"}},[e._m(0),e._v(" "),a("ul",{staticClass:"ui-shortcut--area clearFix"},[e._l(e.optionList.groupTopList,function(t){return a("li",{on:{click:function(a){e.handleToggleFirst(t)}}},[a("div",{staticClass:"ui-title"},[a("span",[e._v(e._s(t.group_name))])]),e._v(" "),a("div",{staticClass:"ui-label"},[a("span",[e._v("经理人 "+e._s(t.number))])]),e._v(" "),a("span",{staticClass:"icon-shanchu ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleDeleteFirstInfo(t)}}}),e._v(" "),a("span",{staticClass:"icon-bianji ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleEditFirst(t)}}})])}),e._v(" "),a("li",{staticClass:"ui-shortcut--area--ope",on:{click:e.handleClickAddFirstInfo}},[a("span",{staticClass:"icon-tianjia"})])],2)]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增小组\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],otherHeight:["ui-shortcut"],showSearch:e.showSearch},scopedSlots:e._u([{key:"group_category_cn",fn:function(t){return[a("div",e._l(t.row.group_category_cn,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"region",fn:function(t){return[a("span",[e._v(e._s(e.optionList.areaList[1*t.row.region]))])]}},{key:"group_user_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("组长：")]),a("span",[e._v(e._s(t.row.user_groupman_cn))])]),e._v(" "),a("p",[a("span",[e._v("主管：")]),a("span",[e._v(e._s(t.row.user_director_cn))])]),e._v(" "),a("p",[a("span",[e._v("经理：")]),a("span",[e._v(e._s(t.row.user_manager_cn))])])])]}},{key:"group_user_number",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(Object.values(t.row.group_user_info).join(",")))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.group_user_info&&Object.values(t.row.group_user_info).length))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,"readonly")}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDeleteInfo(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditFirstShow?"编辑一级小组":"新增一级小组",width:"400px",visible:e.isFirstAddShow},on:{"update:visible":function(t){e.isFirstAddShow=t},close:e.handleCancelAddFirstInfo}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,size:"small"}},[a("el-form-item",{attrs:{prop:"groupName",label:"一级小组","label-width":e.labelWidth}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:""},model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelAddFirstInfo}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSaveAddFirstInfo}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isReview?"预览":e.isEditShow?"编辑":"新增",top:"10vh",width:"800px","custom-class":"ui-com_edit",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("div",{staticClass:"clearFix"},[a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("二级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupName",label:"小组名称","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:e.isReview},model:{value:e.editData.groupName,callback:function(t){e.$set(e.editData,"groupName",t)},expression:"editData.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"area",label:"所属地区","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.area,callback:function(t){e.$set(e.editData,"area",t)},expression:"editData.area"}},e._l(e.optionList.areaList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"devType",label:"开发类型","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("div",{staticClass:"ui-tow_layout"},[a("el-form-item",{attrs:{prop:"isDiy",label:"是否定制","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.isDiy,callback:function(t){e.$set(e.editData,"isDiy",t)},expression:"editData.isDiy"}},e._l(e.optionList.whetherList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"isOss",label:"是否海外","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.isOss,callback:function(t){e.$set(e.editData,"isOss",t)},expression:"editData.isOss"}},e._l(e.optionList.whetherList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("一级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"parentGroup",label:"一级小组","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.parentGroup,callback:function(t){e.$set(e.editData,"parentGroup",t)},expression:"editData.parentGroup"}},e._l(e.optionList.groupTopList,function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.top_level_pid}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupManager",label:"小组经理","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.groupManager,callback:function(t){e.$set(e.editData,"groupManager",t)},expression:"editData.groupManager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupDirector",label:"小组主管","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupDirector,callback:function(t){e.$set(e.editData,"groupDirector",t)},expression:"editData.groupDirector"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupHeadman",label:"小组组长","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupHeadman,callback:function(t){e.$set(e.editData,"groupHeadman",t)},expression:"editData.groupHeadman"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("适用分类")])]),e._v(" "),a("div",{staticClass:"ui-item ui-btn--layout"},[e._l(e.editData.canClassify,function(t,i){return a("el-form-item",{key:i,attrs:{prop:"canClassify"}},[a("el-cascader",{attrs:{disabled:e.isReview,"change-on-select":"",placeholder:"输入搜索",options:e.optionList.canClassifyList,props:{label:"category_name",value:"id",children:"children"},filterable:""},model:{value:e.editData.canClassify[i],callback:function(t){e.$set(e.editData.canClassify,i,t)},expression:"editData.canClassify[index]"}})],1)}),e._v(" "),a("div",{staticClass:"ui-item--area--ope"},[e.isReview?e._e():a("span",{staticClass:"icon-shanjian",on:{click:e.handleDelClassify}}),e._v(" "),e.isReview?e._e():a("span",{staticClass:"icon-zengjia",on:{click:e.handleAddClassify}})])],2)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("小组成员")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupUser"}},[a("el-select",{attrs:{multiple:"",filterable:"",disabled:e.isReview},model:{value:e.editData.groupUser,callback:function(t){e.$set(e.editData,"groupUser",t)},expression:"editData.groupUser"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[e.isReview?e._e():a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),e.isReview?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-shortcut--title"},[t("span",[this._v("一级小组")])])}]};var it=a("VU/8")(tt,at,!1,function(e){a("Z/Le")},"data-v-33940f70",null).exports,st={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("开发类型管理")])},staticRenderFns:[]};var nt=a("VU/8")({name:"DevTypeManage"},st,!1,function(e){a("yaPD")},"data-v-b9573aae",null).exports;var ot={name:"ProductCatalogueManage",data:function(){return{topToggle:[{sname:"全部分类",sid:"0"}],topToggleObj:{time:"",value:[]},treeIsOpe:[],treeData:[],treeFilterData:[],treeIsOpeVal:[],treeProps:{label:"sname",id:"sid",children:"child",layout:"layout"},editValue:"",operateId:""}},computed:d()({},Object(h.c)(["loginInfo"])),methods:{getProductCatalogueManageInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/category/category/select_category",t)},handleTopToggle:function(e){this.handleClickItem(e,e.index)},AutoFocus:function(e,t){var a=this,i="";i=void 0!==t?"input"+e+"-"+t:"input"+e,this.$nextTick().then(function(){a.$refs[i]&&a.$refs[i][0].focus&&a.$refs[i][0].focus()})},handleTopOperation:function(e,t,a){"query"===e&&(this.treeFilterData=JSON.parse(o()(this.treeData))),void 0!==a&&(t=t+"-"+a),e!==this.treeIsOpe[t]&&(this.treeIsOpeVal[t]="",this.$set(this.treeIsOpe,t,e)),this.AutoFocus(t,a)},handleListAddItem:function(e,t,a){var i=this;this.$set(this.treeIsOpe,t+1,""),this.$set(this.treeIsOpeVal,t+1,""),this.treeData.splice(t+1,this.treeData.length-1);var s=[this.treeProps][0],n=s.id,o=s.children,r=s.label,l={sid:e[n]};this.getProductCatalogueManageInfo(l).then(function(a){var s,l=a.data,c={};l.data&&l.data.length?c=l.data[0][o]&&l.data[0][o].length?l.data[0]:d()({},l.data[0],we()({},o,[])):(s={},we()(s,n,e[n]),we()(s,r,e[r]),we()(s,o,[]),c=s);i.$set(i.treeIsOpe,t+1,"add"),i.$set(i.treeData,t+1,c),i.AutoFocus(t+1)})},handleOperateItem:function(e,t,a){var i=this;if("query"!==t){var s="";if(void 0===a){if(!this.treeIsOpeVal[e])return void this.$message.warning("请输入内容！");s=this.treeIsOpeVal[e]}else{if(!this.treeIsOpeVal[e+"-"+a])return void this.$message.warning("请输入内容！");s=this.treeIsOpeVal[e+"-"+a]}var n=[this.treeProps][0],o=n.id,r=n.label,l=n.children;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/category/category/create_category",t)})({parent_id:void 0!==a?this.treeData[e][l][a][o]||"0":this.treeData[e][o]||"0",category_name:s,category_level:e+1,create_user:this.loginInfo.uid||"ynmautest"}).then(function(t){var n,c,u,d=t.data;void 0!==a?i.treeData[e][l][a]?i.treeData[e][l][a][l].push((n={},we()(n,r,s),we()(n,o,d.data),n)):i.treeData[e][l][a]=we()({},l,(c={},we()(c,r,s),we()(c,o,d.data),c)):i.treeData[e][l].push((u={},we()(u,r,s),we()(u,o,d.data),u));i.handleOperationCallBack(e,a)})}},handleEditItem:function(e,t,a,i){var s=this,n=[this.treeProps][0],o=n.id,r=n.label;this.operateId=e[o],this.editValue=e[r],this.$nextTick().then(function(){i?s.$refs["fourInput"+t+a+i][0].focus():s.$refs["input"+t+a][0].focus()})},handleSubmit:function(e,t,a){var i=this,s=[this.treeProps][0],n=s.id,o=s.label,r=s.children;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/category/category/edit_category",t)})({category_name:this.editValue,category_level:t+1,sid:e[n]}).then(function(e){var s=e.data;s.status?(i.treeData[t][r][a][o]=i.editValue,i.operateId="",i.editValue="",i.$message.success("操作成功")):i.$message.error(s.errorMess||"操作失败")})},handleDeleteItem:function(e,t,a){var i=this,n=[this.treeProps][0],o=n.children,r=n.id,l=this;new s.a(function(e,t){l.$confirm("确认删除？","提示",{type:"warning"}).then(function(){e(!0)}).catch(function(){t(!1)})}).then(function(s){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/category/category/del_category",t)})({category_level:t+1,sid:e[r]}).then(function(e){var s=e.data;s.status?(i.treeData[t][o].splice(a,1),i.$message.success("操作成功")):i.$message.error(s.errorMess||"操作失败")})})},handleSearchItem:function(e,t,a){var i=this;if("add"!==t){var s=[this.treeProps][0],n=s.label,o=s.children,r=[].concat(z()(this.treeFilterData[e][o]));if(void 0!==a){var l=e+"-"+a;if(!this.treeIsOpeVal[e+"-"+a])return void(this.treeData[e][o][a][o]=[].concat(z()(r)));this.treeData[e][o][a][o]=r.filter(function(e){return e[n].indexOf(i.treeIsOpeVal[l])>-1})}else{if(!this.treeIsOpeVal[e])return void(this.treeData[e][o]=[].concat(z()(r)));this.treeData[e][o]=r.filter(function(t){return t[n].indexOf(i.treeIsOpeVal[e])>-1}),this.treeData.splice(e+1,this.treeData.length-(e+1))}}},handleClickItem:function(e,t){var a=this,i=[this.treeProps][0],s=i.id,n=i.children,o=i.layout;if(!(t>2)){t||this.treeData.splice(1,this.treeData.length-1),"0"===e[s]?this.topToggle.splice(1,this.topToggle.length-1):(this.topToggle.splice(t+1,this.topToggle.length-1),this.$set(this.topToggle,t+1,d()({},e,{index:t})));var r={sid:e[s]};this.$set(this.treeIsOpe,t+1,""),this.$set(this.treeIsOpeVal,t+1,""),this.getProductCatalogueManageInfo(r).then(function(e){var i=e.data;if(i.data&&i.data.length){var s=i.data[0][n]&&i.data[0][n].length?i.data[0]:d()({},i.data[0],we()({},n,[]));if(a.$set(a.treeData,t+1,s),1===t){a.$set(a.treeData,t+2,d()({},s,we()({},o,!0)))}}else a.$message.warning("无数据！")})}},autoValidateActive:function(e,t){if(3===t||!this.treeData[t+1])return!1;var a=[this.treeProps][0].id;return e[a]===this.treeData[t+1][a]},handleOperationCallBack:function(e,t){void 0===t?this.treeIsOpeVal[e]="":delete this.treeIsOpeVal[e+"-"+t],this.$message.success("操作成功")}},created:function(){var e=this;this.getProductCatalogueManageInfo().then(function(t){var a,i=t.data,s=[e.treeProps][0],n=s.children,o=s.label,r=[(a={},we()(a,o,"全部分类"),we()(a,n,[].concat(z()(i.data))),a)];e.treeData=[].concat(r)})}},rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDefault",{attrs:{color:"#fff"}},[a("div",{staticClass:"ui-product_classify"},[a("div",{staticClass:"ui-product_classify--top"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.topToggle,function(t){return a("el-breadcrumb-item",{key:t.sid},[a("span",{staticClass:"ui-product_classify--top__span",on:{click:function(a){e.handleTopToggle(t)}}},[e._v(e._s(t.sname))])])}))],1),e._v(" "),a("div",{staticClass:"ui-product_classify--content"},[a("ul",{staticClass:"clearFix"},e._l(e.treeData,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-product_classify--item"},[t[e.treeProps.layout]?e._l(t[e.treeProps.children],function(t,s){return a("ul",[a("li",{staticClass:"ui-product_classify--item--title"},[a("span",[e._v(e._s(t[e.treeProps.label]))]),e._v(" "),a("div",{staticClass:"ui-product_classify--item--ope"},[a("span",{staticClass:"icon-chaxun",on:{click:function(t){e.handleTopOperation("query",i,s)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleTopOperation("add",i,s)}}})])]),e._v(" "),e.treeIsOpe[i+"-"+s]?a("li",{staticClass:"ui-product_classify--item__input"},[a("el-input",{ref:"input"+i+"-"+s,refInFor:!0,attrs:{clearable:""},on:{change:function(t){e.handleSearchItem(i,e.treeIsOpe[i+"-"+s],s)}},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleOperateItem(i,e.treeIsOpe[i+"-"+s],s)}},model:{value:e.treeIsOpeVal[i+"-"+s],callback:function(t){e.$set(e.treeIsOpeVal,i+"-"+s,t)},expression:"treeIsOpeVal[`${index}-${itemIndex}`]"}},["query"===e.treeIsOpe[i+"-"+s]?a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"}):e._e(),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"add"===e.treeIsOpe[i+"-"+s],expression:"treeIsOpe[`${index}-${itemIndex}`] === 'add'"}],staticClass:"el-input__icon el-icon-back",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"add"===e.treeIsOpe[i+"-"+s],expression:"treeIsOpe[`${index}-${itemIndex}`] === 'add'"}],staticClass:"ui-product_classify--tip"},[e._v("回车保存")])],1):e._e(),e._v(" "),e._l(t[e.treeProps.children],function(t,s){return[a("li",{key:s,class:e.autoValidateActive(t,i)?"ui-active":"",on:{click:function(a){e.handleClickItem(t,i)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.operateId!==t[e.treeProps.id],expression:"operateId !== fourItem[treeProps.id]"}]},[e._v(e._s(t[e.treeProps.label]))]),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.operateId===t[e.treeProps.id],expression:"operateId === fourItem[treeProps.id]"}],ref:"fourInput"+i+s+t[e.treeProps.id],refInFor:!0,on:{blur:function(t){e.operateId=""}},nativeOn:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.handleSubmit(t,i,s)}},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}},[a("i",{staticClass:"el-input__icon el-icon-back",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.operateId===t[e.treeProps.id],expression:"operateId === fourItem[treeProps.id]"}],staticClass:"ui-product_classify--tip"},[e._v("回车保存")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.operateId!==t[e.treeProps.id],expression:"operateId !== fourItem[treeProps.id]"}],staticClass:"ui-product_classify--item--ope"},[a("span",{staticClass:"icon-lianjie"}),e._v(" "),a("span",{staticClass:"icon-bianji",on:{click:function(a){a.stopPropagation(),e.handleEditItem(t,i,s,t[e.treeProps.id])}}}),e._v(" "),a("span",{staticClass:"icon-shanchu",on:{click:function(a){a.stopPropagation(),e.handleDeleteItem(t,i,s)}}})])],1)]})],2)}):a("ul",[a("li",{staticClass:"ui-product_classify--item--title"},[a("span",[e._v(e._s(i?t[e.treeProps.label]:"产品分类目录"))]),e._v(" "),a("div",{staticClass:"ui-product_classify--item--ope"},[a("span",{staticClass:"icon-chaxun",on:{click:function(t){e.handleTopOperation("query",i)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleTopOperation("add",i)}}})])]),e._v(" "),e.treeIsOpe[i]?a("li",{staticClass:"ui-product_classify--item__input"},[a("el-input",{ref:"input"+i,refInFor:!0,attrs:{clearable:""},on:{input:function(t){e.handleSearchItem(i,e.treeIsOpe[i])}},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleOperateItem(i,e.treeIsOpe[i])}},model:{value:e.treeIsOpeVal[i],callback:function(t){e.$set(e.treeIsOpeVal,i,t)},expression:"treeIsOpeVal[index]"}},["query"===e.treeIsOpe[i]?a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"}):e._e(),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"add"===e.treeIsOpe[i],expression:"treeIsOpe[index] === 'add'"}],staticClass:"el-input__icon el-icon-back",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"add"===e.treeIsOpe[i],expression:"treeIsOpe[index] === 'add'"}],staticClass:"ui-product_classify--tip"},[e._v("回车保存")])],1):e._e(),e._v(" "),e._l(t[e.treeProps.children],function(t,s){return a("li",{key:s,class:e.autoValidateActive(t,i)?"ui-active":"",on:{click:function(a){e.handleClickItem(t,i)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.operateId!==t[e.treeProps.id],expression:"operateId !== item[treeProps.id]"}]},[e._v(e._s(t[e.treeProps.label]))]),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.operateId===t[e.treeProps.id],expression:"operateId === item[treeProps.id]"}],ref:"input"+i+s,refInFor:!0,on:{blur:function(t){e.operateId=""}},nativeOn:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.handleSubmit(t,i,s)}},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}},[a("i",{staticClass:"el-input__icon el-icon-back",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.operateId===t[e.treeProps.id],expression:"operateId === item[treeProps.id]"}],staticClass:"ui-product_classify--tip"},[e._v("回车保存")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.operateId!==t[e.treeProps.id],expression:"operateId !== item[treeProps.id]"}],staticClass:"ui-product_classify--item--ope"},[a("span",{staticClass:"icon-bianji",on:{click:function(a){a.stopPropagation(),e.handleEditItem(t,i,s)}}}),e._v(" "),3!==i?a("span",{staticClass:"icon-zengjia1",on:{click:function(a){a.stopPropagation(),e.handleListAddItem(t,i,s)}}}):e._e()])],1)})],2)],2)])}))])])])},staticRenderFns:[]};var lt=a("VU/8")(ot,rt,!1,function(e){a("Wfo1")},"data-v-4c90e29e",null).exports,ct=a("1UlB"),ut={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{moduleType:"2",attrName:""},optionList:{moduleTypeList:[{label:"销售属性",value:"2"},{label:"物流属性",value:"1"}],canValueList:[]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isAddShow:!1,isEditShow:!1,isPreviewShow:!1,labelWidth:"100px",saveCheckId:"",editData:{attrCode:"",attrName:"",attrType:"",canValue:[],remarks:""}}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","productAttrManageInfo"]),{editRule:function(){var e={attrType:f.a.RULE_CONFIG.requiredChange,attrName:f.a.RULE_CONFIG.requiredBlur,canValue:f.a.RULE_CONFIG.requiredChange};return"2"===this.queryData.moduleType&&(e.attrCode=f.a.RULE_CONFIG.requiredBlur),e}}),methods:d()({},Object(h.b)(["GetProductAttrManageInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.product_attr));var a=d()({attribute_name_cn:this.queryData.attrName,attribute_type_id:this.queryData.moduleType},t);this.GetProductAttrManageInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData.attrName=""},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleToggleTableInfo:function(e){this.queryData.moduleType=e,this.handleQueryInfo()},handleClickDelete:function(e){var t=this,a=e.attribute_id;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var e={attribute_id:a};Object(ct.b)(e).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){var a=this;Object(ct.c)({attribute_id:e.attribute_id}).then(function(i){var s=i.data;a.editData.attrCode=s.data.attribute_code,a.editData.attrName=s.data.attribute_value_cn,a.editData.attrType="",a.editData.canValue=s.data.attribute_value,a.editData.remarks=s.data.remark,a.saveCheckId=e.attribute_id,a.isEditShow=!0,a.isAddShow=!0,t&&(a.isPreviewShow=!0)})},handleCancelEdit:function(){this.editData.attrCode="",this.editData.attrName="",this.editData.attrType="",this.editData.remarks="",this.editData.canValue.splice(0),this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isPreviewShow=!1},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){var a={attribute_type_id:e.queryData.moduleType,display_type:e.editData.attrType,attribute_code:e.editData.attrCode,attribute_name_cn:e.editData.attrName,remark:e.editData.remarks,attribute_value_list:o()(e.editData.canValue)};e.isEditShow?(a.attribute_id=e.saveCheckId,Object(ct.e)(a).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(ct.a)(a).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.isAddShow&&this.handleCancelEdit(),this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){var t=e.data;this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"product_attr",value:o()(this.queryData)}),this.tableData=t.data_list.value,this.tableKey=t.data_list.key,this.tableProps=["index","attribute_code","attribute_name_cn","display_type","count","attribute_type","operation"]}}),created:function(){this.thisVm=this;try{"{}"===o()(this.productAttrManageInfo)?this.handleQueryInfo():(this.queryData=JSON.parse(this.queryParamsInfo.product_attr),this.handleQueryInfoCallBack(this.productAttrManageInfo))}catch(e){console.log(e)}}},dt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"属性名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.attrName,callback:function(t){e.$set(e.queryData,"attrName",t)},expression:"queryData.attrName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"属性类型"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.moduleType,callback:function(t){e.$set(e.queryData,"moduleType",t)},expression:"queryData.moduleType"}},e._l(e.optionList.moduleTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增属性\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],showSearch:e.showSearch,otherHeight:["ui-main-tab"]},scopedSlots:e._u([{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,!0)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickDelete(t.row)}}},[e._v("删除")])]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.moduleType===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditShow?e.isPreviewShow?"预览":"编辑":"新增",width:"800px",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,"validate-on-rule-change":!1,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"attrCode",label:"属性CODE"}},[a("el-input",{attrs:{disabled:e.isPreviewShow,placeholder:"请输入"},model:{value:e.editData.attrCode,callback:function(t){e.$set(e.editData,"attrCode",t)},expression:"editData.attrCode"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"attrName",label:"属性名称"}},[a("el-input",{attrs:{disabled:e.isPreviewShow,placeholder:"请输入"},model:{value:e.editData.attrName,callback:function(t){e.$set(e.editData,"attrName",t)},expression:"editData.attrName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"canValue",label:"可选值"}},[a("el-select",{attrs:{disabled:e.isPreviewShow,"no-data-text":"输入回车可添加","no-match-text":"输入回车可添加",multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"输入回车可添加"},model:{value:e.editData.canValue,callback:function(t){e.$set(e.editData,"canValue",t)},expression:"editData.canValue"}},e._l(e.optionList.canValueList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"remarks",label:"备注"}},[a("el-input",{attrs:{resize:"none",placeholder:"请输入",disabled:e.isPreviewShow,type:"textarea",rows:5},model:{value:e.editData.remarks,callback:function(t){e.$set(e.editData,"remarks",t)},expression:"editData.remarks"}})],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var pt=a("VU/8")(ut,dt,!1,function(e){a("ubR4")},"data-v-483f6b66",null).exports,ht=a("woOf"),_t=a.n(ht);var mt={name:"CopyEditPage",props:{show:!1,spu:""},data:function(){return{checkLanguage:"CN",leftSelect:"",languageType:{},leftLanguage:"CN",languageOptions:{CN:{spu_title:""}},spuImage:[],isGoodsBasic:!0,isSupplierGoods:!0,unitData:{weight1:["g","kg","mg"],weight2:["lb","oz"],checkWeight1:"g",checkWeight2:"lb",valueWeight1:"",valueWeight2:""},measureData:{measure1:["cm","mm","m","km"],measure2:["in","ft","yd"],checkMeasure1:"cm",checkMeasure2:"in",valueMeasure1:"",valueMeasure2:""},hotWords:[]}},watch:{spu:function(e){var t=this;console.log(e,"watch"),e&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/copywriters/copywriters/getCopywritersDetail",t)}({spu:e}).then(function(e){var a=e.data;if(console.log(a,"data"),a.status){t.languageOptions=a.result.copywriters_data,console.log(t.languageOptions,123123),t.spuImage=a.result.spu_image_data,console.log(t.spuImage,"right"),t.handleTranslate("en");ne()(t.languageOptions),ie()(t.languageOptions)}})}},methods:{checkWords:function(e,t){this.$set(this.languageOptions[this.checkLanguage].key_words,t,e)},handleKeyWords:function(e){var t=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/copywriters/copywriters/keywordRecommend",t)})({keyword:e}).then(function(e){var a=e.data;console.log(a,111),a.status?t.hotWords=a.result[0].hotList:t.hotWords=[]})},handleAddInput:function(e,t,a){this.languageOptions[e][t].splice(a,0,"key_words"===t?[]:"")},handleDeleteInput:function(e,t,a){arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.languageOptions[e][t].splice(a,1)},saveForm:function(e){var t,a=this,i=new FormData;i.append("copywriters_data",o()(this.languageOptions)),i.append("spu_image_data",o()(this.spuImage)),i.append("spu",this.spu),i.append("save_type",e),(t=i,q.a.fileAjax("/copywriters/copywriters/saveCopywriters",t)).then(function(t){var i=t.data;i.status?2===e?(a.$message.success("提交成功!"),a.handleClosePage()):a.$message.success("保存成功!"):a.$message.error(i.errorMess||"操作失败!")})},handleTranslate:function(e){var t=this;if(this.languageOptions[e])return this.checkLanguage=e,void(this.leftSelect=e);var a,i=new FormData;i.append("copywriters_data",o()(this.languageOptions.CN)),i.append("language",e),"en"===e&&i.append("spu_image_data",o()(this.spuImage)),(a=i,q.a.fileAjax("/copywriters/copywriters/translate",a)).then(function(a){var i=a.data;t.languageOptions[e]=i.result[e],i.result.spu_image_data&&(console.log("okk"),t.spuImage=i.result.spu_image_data),t.checkLanguage=e,t.leftSelect=e})},searchMeasure:function(){var e=this.measureData;e.valueMeasure1&&!isNaN(e.valueMeasure1)?this.measureData.valueMeasure2=Object(m.e)(parseFloat(e.valueMeasure1),e.checkMeasure1,e.checkMeasure2):this.measureData.valueMeasure2=""},searchWeight1:function(){var e=this.unitData;e.valueWeight1&&!isNaN(e.valueWeight1)?this.unitData.valueWeight2=Object(m.g)(parseFloat(e.valueWeight1),e.checkWeight1,e.checkWeight2):this.unitData.valueWeight2=""},hideSupplierGoods:function(){this.isSupplierGoods=!1,this.isGoodsBasic=!0},hideGoodsBasic:function(){console.log("a"),this.isGoodsBasic=!1,this.isSupplierGoods=!0},handleClosePage:function(){this.$emit("update:show",!1)}},mounted:function(){var e=this,t=this;setTimeout(function(){console.log(t.$parent.languageList,88);var a=t.$parent.languageList;e.languageType=a,delete e.languageType.CN},1e3)}},ft={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ui-dialog_page",on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleClosePage(t):null}}},[a("div",{staticClass:"ui-head"},[a("span",[e._v("文案编辑")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClosePage}})]),e._v(" "),a("div",{staticClass:"ui-left",class:{"ui-left-unfold":!e.isSupplierGoods}},[a("transition",{attrs:{name:"slide-fade-left"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isGoodsBasic,expression:"isGoodsBasic"}],staticClass:"content-box"},[a("div",{staticClass:"nav-box"},[a("p",[e._v("商品基础资料")]),e._v(" "),a("i",{staticClass:"el-icon-arrow-left toggle-icon",on:{click:e.hideGoodsBasic}})]),e._v(" "),a("div",{staticClass:"translate-box"},[a("ul",[a("li",{staticClass:"item1"},[e._v("中文")]),e._v(" "),a("li",{staticClass:"item2"},[e._v("=>")]),e._v(" "),a("li",{staticClass:"item3"},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){e.handleTranslate(e.leftSelect)}},model:{value:e.leftSelect,callback:function(t){e.leftSelect=t},expression:"leftSelect"}},e._l(e.languageType,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})}))],1)])]),e._v(" "),a("div",{staticClass:"tabs-box"},[a("div",{staticClass:"tabs-item"},[a("ul",{staticClass:"tabs-list"},[a("li",[e._v("中文")])]),e._v(" "),a("div",{staticClass:"form-msg"},[a("el-form",{attrs:{model:e.languageOptions[e.leftLanguage],"label-width":"80px"}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.languageOptions[e.leftLanguage].spu_title,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"spu_title",t)},expression:"languageOptions[leftLanguage].spu_title"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{prop:"comCode",label:"属性1"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.leftLanguage].attribute_1,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(parseInt(i)+1))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{size:"small"},model:{value:e.languageOptions[e.leftLanguage].attribute_1[i],callback:function(t){e.$set(e.languageOptions[e.leftLanguage].attribute_1,i,t)},expression:"languageOptions[leftLanguage].attribute_1[index]"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{prop:"comCode",label:"属性2"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.leftLanguage].attribute_2,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(parseInt(i)+1))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{size:"small"},model:{value:e.languageOptions[e.leftLanguage].attribute_2[i],callback:function(t){e.$set(e.languageOptions[e.leftLanguage].attribute_2,i,t)},expression:"languageOptions[leftLanguage].attribute_2[index]"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box key-words"},[a("el-form-item",{attrs:{label:"关键词"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.leftLanguage].key_words,function(t,i){return a("li",{key:i},[a("el-input",{attrs:{size:"small"},model:{value:e.languageOptions[e.leftLanguage].key_words[i],callback:function(t){e.$set(e.languageOptions[e.leftLanguage].key_words,i,t)},expression:"languageOptions[leftLanguage].key_words[index]"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"主要买点"}},e._l(e.languageOptions[e.leftLanguage].selling_point,function(t,i){return a("div",{staticClass:"ui-ope_area--item"},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.languageOptions[e.leftLanguage].selling_point[i],callback:function(t){e.$set(e.languageOptions[e.leftLanguage].selling_point,i,t)},expression:"languageOptions[leftLanguage].selling_point[index]"}})],1)}))],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"商品描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.leftLanguage].goods_desc,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"goods_desc",t)},expression:"languageOptions[leftLanguage].goods_desc"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"商品参数"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.leftLanguage].goods_params,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"goods_params",t)},expression:"languageOptions[leftLanguage].goods_params"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"注意事项"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.leftLanguage].notice_remark,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"notice_remark",t)},expression:"languageOptions[leftLanguage].notice_remark"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"包装清单"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.leftLanguage].pack_list,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"pack_list",t)},expression:"languageOptions[leftLanguage].pack_list"}})],1)],1)])])],1)]),e._v(" "),a("div",{staticClass:"tabs-item"},[a("ul",{staticClass:"tabs-list"},e._l(e.languageType,function(t,i){return a("li",{key:i,class:{active:e.checkLanguage==i},on:{click:function(t){e.handleTranslate(i)}}},[e._v(e._s(t)+"\n                                ")])})),e._v(" "),a("div",{staticClass:"form-msg"},[a("el-form",{attrs:{model:e.languageOptions[e.checkLanguage],"label-width":"80px"}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.languageOptions[e.checkLanguage].spu_title,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"spu_title",t)},expression:"languageOptions[checkLanguage].spu_title"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{prop:"comCode",label:"属性1"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.checkLanguage].attribute_1,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(parseInt(i)+1))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{size:"small"},model:{value:e.languageOptions[e.checkLanguage].attribute_1[i],callback:function(t){e.$set(e.languageOptions[e.checkLanguage].attribute_1,i,t)},expression:"languageOptions[checkLanguage].attribute_1[index]"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{prop:"comCode",label:"属性2"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.checkLanguage].attribute_2,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(parseInt(i)+1))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{size:"small"},model:{value:e.languageOptions[e.checkLanguage].attribute_2[i],callback:function(t){e.$set(e.languageOptions[e.checkLanguage].attribute_2,i,t)},expression:"languageOptions[checkLanguage].attribute_2[index]"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box key-words"},[a("el-form-item",{attrs:{label:"关键词"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.checkLanguage].key_words,function(t,i){return a("li",{key:i},[a("el-popover",{attrs:{placement:"bottom",title:"推荐关键词",width:"200",trigger:"click"}},[e._l(e.hotWords,function(t,s){return a("p",{key:s,staticStyle:{cursor:"pointer"},on:{click:function(a){e.checkWords(t,i)}}},[e._v("\n                                                                "+e._s(t))])}),e._v(" "),a("i",{staticClass:"icon-renwuzhipai icon_orange",attrs:{slot:"reference"},on:{click:function(t){e.handleKeyWords(e.languageOptions[e.checkLanguage].key_words[i])}},slot:"reference"})],2),e._v(" "),a("el-input",{attrs:{size:"small"},model:{value:e.languageOptions[e.checkLanguage].key_words[i],callback:function(t){e.$set(e.languageOptions[e.checkLanguage].key_words,i,t)},expression:"languageOptions[checkLanguage].key_words[index]"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"主要买点"}},e._l(e.languageOptions[e.checkLanguage].selling_point,function(t,i){return a("div",{staticClass:"ui-ope_area--item"},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.languageOptions[e.checkLanguage].selling_point[i],callback:function(t){e.$set(e.languageOptions[e.checkLanguage].selling_point,i,t)},expression:"languageOptions[checkLanguage].selling_point[index]"}})],1)}))],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"商品描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.checkLanguage].goods_desc,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"goods_desc",t)},expression:"languageOptions[checkLanguage].goods_desc"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"商品参数"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.checkLanguage].goods_params,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"goods_params",t)},expression:"languageOptions[checkLanguage].goods_params"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"注意事项"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.checkLanguage].notice_remark,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"notice_remark",t)},expression:"languageOptions[checkLanguage].notice_remark"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"包装清单"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.languageOptions[e.checkLanguage].pack_list,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"pack_list",t)},expression:"languageOptions[checkLanguage].pack_list"}})],1)],1)])])],1)])]),e._v(" "),a("div",{staticClass:"tools-box"},[a("el-form",{attrs:{"label-width":"100px"}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{prop:"comCode",label:"侵权信息"}},[a("el-input",{attrs:{size:"small"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("div",{staticClass:"unit-tools"},[a("div",{staticClass:"unit-item"},[a("span",{staticClass:"title"},[e._v("重量转换")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"220px"},attrs:{placeholder:"请输入内容"},on:{input:e.searchWeight1},model:{value:e.unitData.valueWeight1,callback:function(t){e.$set(e.unitData,"valueWeight1",t)},expression:"unitData.valueWeight1"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{slot:"append",placeholder:"请选择"},on:{change:e.searchWeight1},slot:"append",model:{value:e.unitData.checkWeight1,callback:function(t){e.$set(e.unitData,"checkWeight1",t)},expression:"unitData.checkWeight1"}},e._l(e.unitData.weight1,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("div",{staticClass:"exchange-icon"},[a("i",{staticClass:"el-icon-back"})]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"220px"},attrs:{placeholder:"请输入内容"},model:{value:e.unitData.valueWeight2,callback:function(t){e.$set(e.unitData,"valueWeight2",t)},expression:"unitData.valueWeight2"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{slot:"append",placeholder:"请选择"},on:{change:e.searchWeight1},slot:"append",model:{value:e.unitData.checkWeight2,callback:function(t){e.$set(e.unitData,"checkWeight2",t)},expression:"unitData.checkWeight2"}},e._l(e.unitData.weight2,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("div",{staticClass:"unit-item"},[a("span",{staticClass:"title"},[e._v("尺寸转换")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"220px"},attrs:{placeholder:"请输入内容"},on:{input:e.searchMeasure},model:{value:e.measureData.valueMeasure1,callback:function(t){e.$set(e.measureData,"valueMeasure1",t)},expression:"measureData.valueMeasure1"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{slot:"append",placeholder:"请选择"},on:{change:e.searchMeasure},slot:"append",model:{value:e.measureData.checkMeasure1,callback:function(t){e.$set(e.measureData,"checkMeasure1",t)},expression:"measureData.checkMeasure1"}},e._l(e.measureData.measure1,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("div",{staticClass:"exchange-icon"},[a("i",{staticClass:"el-icon-back"})]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"220px"},attrs:{placeholder:"请输入内容"},model:{value:e.measureData.valueMeasure2,callback:function(t){e.$set(e.measureData,"valueMeasure2",t)},expression:"measureData.valueMeasure2"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{slot:"append",placeholder:"请选择"},on:{change:e.searchMeasure},slot:"append",model:{value:e.measureData.checkMeasure2,callback:function(t){e.$set(e.measureData,"checkMeasure2",t)},expression:"measureData.checkMeasure2"}},e._l(e.measureData.measure2,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)])])])])],1),e._v(" "),a("div",{staticClass:"bottom-box"},[a("el-button",{staticClass:"orange-btn",attrs:{type:"primary",size:"small"}},[e._v("侵权排查")]),e._v(" "),a("el-button",{attrs:{type:"defulat",size:"small"},on:{click:function(t){e.saveForm(1)}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.saveForm(2)}}},[e._v("提交")])],1)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSupplierGoods,expression:"!isSupplierGoods"}],staticClass:"toggle-box",on:{click:function(t){e.isSupplierGoods=!0}}},[e._v("供应商买点图<<")])],1),e._v(" "),a("div",{staticClass:"ui-right",class:{"ui-right-unfold":!e.isGoodsBasic,"ui-right-hide":!e.isSupplierGoods}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isGoodsBasic,expression:"!isGoodsBasic"}],staticClass:"toggle-box",on:{click:function(t){e.isGoodsBasic=!0}}},[e._v("商品基础资料>>")]),e._v(" "),a("transition",{attrs:{name:"slide-fade-right"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSupplierGoods,expression:"isSupplierGoods"}],staticClass:"content-box"},[a("div",{staticClass:"nav-box"},[a("p",[e._v("供应商买点图")]),e._v(" "),a("i",{staticClass:"el-icon-arrow-right toggle-icon",on:{click:e.hideSupplierGoods}})]),e._v(" "),a("div",{staticClass:"goods-box"},[a("ul",e._l(e.spuImage,function(t,i){return a("li",{key:i},[a("img",{attrs:{src:t.url}}),e._v(" "),a("div",{staticClass:"goods-text"},[a("p",{staticClass:"chinese-text"},[e._v(e._s(t.cn))]),e._v(" "),a("span",{staticClass:"line-solid"}),e._v(" "),a("p",{staticClass:"foreign-text"},[a("el-input",{attrs:{type:"textarea"},model:{value:t.en,callback:function(a){e.$set(t,"en",a)},expression:"item.en"}})],1)])])}))])])])],1)])])},staticRenderFns:[]};var vt=a("VU/8")(mt,ft,!1,function(e){a("mtJv")},"data-v-46a0d00d",null).exports,gt=a("e/vl"),yt={data:function(){return{assignType:1,filterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,showSearch:!0,queryData:{moduleType:"1",productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]},optionList:{productList:[],functionInfoList:{},statusList:{},moduleTypeList:[{label:"待分配",value:"1"},{label:"待编辑",value:"2"}],workerList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isEditShow:!1,formLabelWidth:"110px",saveCheckId:"",isShowLookImage:!1,lookImageUrl:[],saveFileList:[],classSearch:[{title:"全部",number:400},{title:"手机周边",number:35},{title:"全部",number:350},{title:"服饰珠宝",number:5e4},{title:"服饰珠宝",number:5},{title:"服饰珠宝",number:5012121},{title:"服饰珠宝",number:50121212},{title:"服饰珠宝",number:5012121},{title:"服饰珠宝",number:501212},{title:"服饰珠宝",number:501212},{title:"服饰珠宝",number:501213213}],isShowAssign:!1,isShowReject:!1,rejectData:[],rejectList:[],rejectDefault:{},isShowEdit:!1,editSpu:"",languageList:{}}},components:{CopyEditPage:vt},computed:d()({},Object(h.c)(["queryParamsInfo","copyEditListInfo"])),methods:d()({},Object(h.b)(["GetCopyEditListInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,getArrByStr:function(e){var t=e+"";return t=t.split(",")},handleClickTest:function(){this.isShowEdit=!0},handleQueryInfo:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.copy_edit_list));var t={spu:this.queryData.productSPU,spu_name:this.queryData.productName,supplier_code:this.queryData.supplierCode,supplier_name:this.queryData.supplierName,category_id:this.queryData.productList,function:this.queryData.functionInfo,audit_status:this.queryData.auditState,operator:this.queryData.workUser,operation_use_time:"",operation_time_start:this.queryData.operateTime[0],operation_time_end:this.queryData.operateTime[1],query_type:this.queryData.moduleType};this.GetCopyEditListInfo(t).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={moduleType:this.queryData.moduleType,productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleToggleTableInfo:function(e){this.queryData.moduleType=e,this.handleQueryInfo()},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.value===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleSupplierBatchCreate:function(){Object(m.h)(this,{pageMain:"/supplier_create_list",pageUrl:"/batch_create_supplier",pageName:"批量创建"},"_new")},handleClickEdit:function(e){this.isShowEdit=!0,this.editSpu=e.spu[0]},handleCloseEdit:function(){for(var e in this.editData)Array.isArray(this.editData[e])?this.editData[e]=[]:this.editData[e]="";this.$refs.editData.resetFields()},handleSaveEditInfo:function(){var e={supplier_id:this.saveCheckId,credit_code:this.editData.comCode,supplier_code:this.editData.supplierName,supplier_name:this.editData.supplierName,settle_method:this.editData.settlementType,tax_point:this.editData.point,type:this.editData.supplierType,devlop_user:this.editData.devUser,status:this.editData.state,web_link:this.editData.supplierLink,contacts:this.editData.contacts,mobile:this.editData.contactsPhone,phone:this.editData.phoneNumber,wechat:this.editData.wxNumber,qq:this.editData.qqNumber,email:this.editData.email,shipping_province:this.editData.pAndCity[0],shipping_city:this.editData.pAndCity[1],shipping_address:this.editData.area,pay_method:this.editData.paymentType,shop_name:this.editData.shopName,receive_name:this.editData.gatheringName,receive_account:this.editData.gatheringAccount,receive_mobile:this.editData.gatheringPhone,receive_id_number:this.editData.gatheringId,receive_bank:this.editData.bankName};Object(gt.f)(e).then(function(e){var t=e.data;console.log(t)})},formatMemberUser:function(e){var t={};for(var a in e)t=d()({},t,we()({},a,e[a].user_name));return t},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"copy_edit_list",value:o()(this.queryData)}),"select_list"in e&&(this.optionList.productList=[].concat(z()(e.select_list.category_list)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.optionList.workerList=this.formatMemberUser(e.select_list.member_user),this.languageList=e.select_list.language_list,this.tableData=e.data.value,this.tableData.map(function(e){return e.opera_log.reverse()}),this.tableKey=e.data.key,this.tableProps=["index","spu","photo_path","good_name","category_path","sample_type","good_info","product_status","opera_log","opera_time","remarks"],this.tableWidth=["60","150","70","good_name","category_path","sample_type","good_info","100","200","100","remarks"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total)},checkedStatus:function(e){this.saveCheckInfo.length?this[e]=!0:this.$message.warning("请勾选数据！")},handleClickAssign:function(){this.checkedStatus("isShowAssign"),this.assignType=1},handleClickReAssign:function(){this.checkedStatus("isShowAssign"),this.assignType=2},selectId:function(){return this.saveCheckInfo.map(function(e){return e.spu[0]})},handleConfirmAssign:function(e){var t=this,a=e.check,i=this.selectId();if(!a)return this.$message.warning("请选择指派人员!");1===this.assignType?Object(gt.a)({assigned_user:a,spu_list:i}).then(function(e){var a=e.data;if(1!==a.status)return t.$message.error(a.errorMess);t.$message.success("指派成功！"),t.handleQueryInfo()}):2===this.assignType&&Object(gt.d)({assigned_user:a,spu_list:i}).then(function(e){var a=e.data;if(1!==a.status)return t.$message.error(a.errorMess);t.$message.success("指派成功！")})},handleSaveFileList:function(e,t){var a=this,i=new FormData;i.append("file_image_data",e.raw),Object(gt.g)(i).then(function(e){var i=e.data;1==i.status?t.image_path=i.data.filePath:a.$message.error(i.errorMess)})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleClickReject:function(){this.checkedStatus("isShowReject")},rejectTypeChange:function(e){var t=e.rejectList.find(function(t){return e.id===t.id});(e=_t()(e,t)).reject_to_dpts=e.reject_to_dpts.split("/")},handleRejectInfo:function(){var e=this;Object(gt.c)().then(function(t){var a=t.data;e.rejectList=a.data.list,console.log(e.rejectList,"reject"),e.rejectDefault={rejectList:e.rejectList,id:"",reject_type_text:"",setting_introduce:"",remark:"",reject_to_dpt:"",reject_to_dpts:[],image_path:"",remarks:""},e.rejectData.push(_t()({},e.rejectDefault))})},handleConfirmReject:function(){var e=this;this.rejectData.forEach(function(e){delete e.rejectList});var t=new FormData;t.append("spus",o()(this.selectId())),t.append("reject_data_list",o()(this.rejectData)),Object(gt.e)(t).then(function(t){1===t.data.status?(e.$message.success("操作成功!"),e.isShowReject=!1,e.handleQueryInfo(),e.rejectData.length=0,e.rejectData.push(_t()({},e.rejectDefault))):e.$message.error("操作失败! 请检查填写是否正确!")})},handleDeleteInput:function(e){this.rejectData.splice(e,1)},handleAddInput:function(e){this.rejectData.splice(e+1,0,_t()({},this.rejectDefault))},handleClickSubmit:function(){this.saveCheckInfo.length?this.$confirm("确认提交？","提示",{type:"warning"}).then(function(){}):this.$message.warning("请勾选数据！")},searchGroup:function(e){console.log(e)}}),created:function(){try{"{}"===o()(this.copyEditListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.copy_edit_list),this.handleQueryInfoCallBack(this.copyEditListInfo))}catch(e){console.log(e)}this.handleRejectInfo()}},bt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("\n                    高级筛选\n                    "),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("\n                    基本筛选\n                    "),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("div",{staticClass:"ui-search-area--2"},[a("CopyClassify",{attrs:{classify:e.classSearch,title:"商品小组"},on:{checkGroup:e.searchGroup}})],1),e._v(" "),a("div",{staticClass:"ui-fn-module ui-fn-module-2"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.queryData.moduleType,expression:"queryData.moduleType==1"}]},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon_orange"}),e._v("指派任务\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickTest}},[a("i",{staticClass:"icon-dangechuangjian",staticStyle:{color:"#fd996b"}}),e._v("测试弹窗\n            ")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.queryData.moduleType,expression:"queryData.moduleType==2"}]},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickReject}},[a("i",{staticClass:"icon-bohui icon-danger"}),e._v("驳回\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickReAssign}},[a("i",{staticClass:"icon-renwuzhipai icon_orange"}),e._v("重新指派\n            ")])],1)]),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,otherHeight:["ui-main-tab","ui-search-area--2","ui-fn-module-2"],showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[a("el-popover",{attrs:{placement:"right",trigger:"hover"}},[a("ul",{staticClass:"ui-sku_open"},e._l(e.getArrByStr(t.row.sku),function(i,s){return a("li",{on:{click:function(a){e.handleClickEdit(t.row,i,s)}}},[e._v("\n                                "+e._s(i)+"\n                            ")])})),e._v(" "),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.spu[1]))])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),"2"===e.queryData.moduleType?a("div",{staticClass:"ui-table--icon_btn"},[a("i",{class:"icon-bianji"+("1"===t.row.status_code||"4"===t.row.status_code?"":" ui-disable"),on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})]):e._e()])]}},{key:"photo_path",fn:function(t){return[""!==t.row.photo_path&&t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])})),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[a("ul",e._l(t.row.link,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])})),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],1),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[e._l(t.row.link_reference,function(t){return a("li",[a("a",{staticClass:"ui-link",attrs:{href:t,target:"_blank"}},[e._v(e._s(t))])])}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],2)]}},{key:"product_status",fn:function(t){return[a("div",e._l(t.row.product_status,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"opera_log",fn:function(t){return[e._l(t.row.opera_log,function(i,s){return t.row.opera_log.length<3?a("div",{key:s},[e._v("\n                "+e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.opera_log,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.opera_log,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t)+"\n                    ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}},{key:"opera_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.moduleType===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAssign,title:"指派任务",type:"select",formLabel:"指派任务",option:e.optionList.workerList},on:{"update:visible":function(t){e.isShowAssign=t},confirm:e.handleConfirmAssign}}),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"驳回",visible:e.isShowReject,width:"60%"},on:{"update:visible":function(t){e.isShowReject=t}}},[a("el-table",{attrs:{data:e.rejectData}},[a("el-table-column",{attrs:{label:"退样类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){e.rejectTypeChange(t.row)}},model:{value:t.row.id,callback:function(a){e.$set(t.row,"id",a)},expression:"scope.row.id"}},e._l(t.row.rejectList,function(e){return a("el-option",{key:e.id,attrs:{label:e.reject_type_text,value:e.id}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产品异常描述",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.row.setting_introduce,callback:function(a){e.$set(t.row,"setting_introduce",a)},expression:"scope.row.setting_introduce"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"驳回部门",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.reject_to_dpts,function(t,i){return a("p",{key:i},[e._v("\n                        "+e._s(t)+"\n                    ")])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否退样",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.remarks)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"不良图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"upload-img-list"},[""!==t.row.image_path?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.image_path+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(e){t.row.image_path=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.image_path)}}})])]):e._e(),e._v(" "),""==t.row.image_path?a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(a){e.handleSaveFileList(a,t.row)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1):e._e()])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ui-ope_area--btn"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.rejectData.length>1,expression:"rejectData.length>1"}],staticClass:"icon-shanchu",on:{click:function(a){e.handleDeleteInput(t.$index)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(a){e.handleAddInput(t.$index)}}})])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShowReject=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmReject}},[e._v("确 定")])],1)],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("CopyEditPage",{attrs:{show:e.isShowEdit,spu:e.editSpu},on:{"update:show":function(t){e.isShowEdit=t}}})],1)},staticRenderFns:[]};var kt=a("VU/8")(yt,bt,!1,function(e){a("japQ")},"data-v-19cdcdee",null).exports,Dt={data:function(){return{assignType:1,filterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{moduleType:"1",productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]},optionList:{productList:[],functionInfoList:{},statusList:{},moduleTypeList:[{label:"待分配",value:"1"},{label:"待编辑",value:"2"}],workerList:{1:"张三",2:"李四"}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isEditShow:!1,formLabelWidth:"110px",saveCheckId:"",isShowLookImage:!1,lookImageUrl:[],saveFileList:[],classSearch:[{title:"全部",number:400},{title:"手机周边",number:35},{title:"全部",number:350},{title:"服饰珠宝",number:5e4},{title:"服饰珠宝",number:5},{title:"服饰珠宝",number:5012121},{title:"服饰珠宝",number:50121212},{title:"服饰珠宝",number:5012121},{title:"服饰珠宝",number:501212},{title:"服饰珠宝",number:501212},{title:"服饰珠宝",number:501213213}],isShowAssign:!1,isShowReject:!1,isShowEdit:!1,editSpu:"",languageList:{}}},components:{CopyEditPage:vt},computed:d()({},Object(h.c)(["queryParamsInfo","copyEditRecordInfo"])),methods:d()({},Object(h.b)(["GetCopyEditRecordInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleClickTest:function(){this.isShowEdit=!0},handleQueryInfo:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.copy_edit_record));var t={spu:this.queryData.productSPU,spu_name:this.queryData.productName,supplier_code:this.queryData.supplierCode,supplier_name:this.queryData.supplierName,category_id:this.queryData.productList,function:this.queryData.functionInfo,audit_status:this.queryData.auditState,operator:this.queryData.workUser,operation_use_time:"",operation_time_start:this.queryData.operateTime[0],operation_time_end:this.queryData.operateTime[1],query_type:3};this.GetCopyEditRecordInfo(t).then(function(t){var a=t.data;console.log(a,99),e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={moduleType:this.queryData.moduleType,productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleToggleTableInfo:function(e){this.queryData.moduleType=e,this.handleQueryInfo()},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleSaveFileList:function(e,t){this.saveFileList=[].concat(z()(t))},handleSelectDeliver:function(e){var t=this,a={province_code:e[0]},i=!0,s=!1,n=void 0;try{for(var o,r=U()(this.optionList.deliverAddressList);!(i=(o=r.next()).done);i=!0){var l=o.value;if(l.value===e[0]&&l.children.length)return}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}A(a).then(function(a){var i=a.data;t.optionList.deliverAddressList.map(function(t){t.value===e[0]&&(t.children=[].concat(z()(i.data)))})})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=["http://pic10.nipic.com/20101016/2531170_233023137000_2.jpg"]},handleSupplierBatchCreate:function(){Object(m.h)(this,{pageMain:"/supplier_create_list",pageUrl:"/batch_create_supplier",pageName:"批量创建"},"_new")},handleClickEdit:function(e){this.isShowEdit=!0,this.editSpu=e.spu[0]},handleCloseEdit:function(){for(var e in this.editData)Array.isArray(this.editData[e])?this.editData[e]=[]:this.editData[e]="";this.$refs.editData.resetFields()},handleSaveEditInfo:function(){var e={supplier_id:this.saveCheckId,credit_code:this.editData.comCode,supplier_code:this.editData.supplierName,supplier_name:this.editData.supplierName,settle_method:this.editData.settlementType,tax_point:this.editData.point,type:this.editData.supplierType,devlop_user:this.editData.devUser,status:this.editData.state,web_link:this.editData.supplierLink,contacts:this.editData.contacts,mobile:this.editData.contactsPhone,phone:this.editData.phoneNumber,wechat:this.editData.wxNumber,qq:this.editData.qqNumber,email:this.editData.email,shipping_province:this.editData.pAndCity[0],shipping_city:this.editData.pAndCity[1],shipping_address:this.editData.area,pay_method:this.editData.paymentType,shop_name:this.editData.shopName,receive_name:this.editData.gatheringName,receive_account:this.editData.gatheringAccount,receive_mobile:this.editData.gatheringPhone,receive_id_number:this.editData.gatheringId,receive_bank:this.editData.bankName};Object(gt.f)(e).then(function(e){var t=e.data;console.log(t)})},formatMemberUser:function(e){var t={};for(var a in e)t=d()({},t,we()({},a,e[a].user_name));return t},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"copy_edit_record",value:o()(this.queryData)}),"select_list"in e&&(this.optionList.productList=[].concat(z()(e.select_list.category_list)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.optionList.workerList=this.formatMemberUser(e.member_user),this.languageList=e.select_list.language_list,this.tableData=e.data.value,this.tableData.map(function(e){return e.opera_log.reverse()}),this.tableData.map(function(e){return e.opera_log.reverse()}),this.tableKey=e.data.key,this.tableProps=["index","spu","photo_path","good_name","category_path","sample_type","good_info","product_status","opera_log","opera_time","remarks"],this.tableWidth=["60","150","120","good_name","category_path","sample_type","good_info","100","200","100","remarks"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total)},checkedStatus:function(e){this.saveCheckInfo.length?this[e]=!0:this.$message.warning("请勾选数据！")},handleClickAssign:function(){this.checkedStatus("isShowAssign"),this.assignType=1},handleClickReAssign:function(){this.checkedStatus("isShowAssign"),this.assignType=2},selectId:function(){return this.saveCheckInfo.map(function(e){return e.spu[0]})},handleConfirmAssign:function(e){var t=this,a=e.check,i=this.selectId();if(!a)return this.$message.warning("请选择指派人员!");1===this.assignType?Object(gt.a)({assigned_user:a,spu_list:i}).then(function(e){var a=e.data;if(1!==a.status)return t.$message.error(a.errorMess);t.$message.success("指派成功！")}):2===this.assignType&&Object(gt.d)({assigned_user:a,spu_list:i}).then(function(e){var a=e.data;if(1!==a.status)return t.$message.error(a.errorMess);t.$message.success("指派成功！")})},handleClickReject:function(){this.checkedStatus("isShowReject")},handleConfirmReject:function(e){console.log(e)},handleClickSubmit:function(){this.saveCheckInfo.length?this.$confirm("确认提交？","提示",{type:"warning"}).then(function(){}):this.$message.warning("请勾选数据！")},searchGroup:function(e){console.log(e)}}),created:function(){this.thisVm=this;try{"{}"===o()(this.copyEditRecordInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.copy_edit_record),this.handleQueryInfoCallBack(this.copyEditRecordInfo))}catch(e){console.log(e)}}},wt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU1"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("\n                    高级筛选\n                    "),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("\n                    基本筛选\n                    "),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[e._v(e._s(t.row.spu[1]))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag"},[a("span")]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{class:"icon-bianji"+("1"===t.row.status_code||"4"===t.row.status_code?"":" ui-disable"),on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})])])]}},{key:"img",fn:function(t){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:t.row.img,alt:""},on:{click:function(a){a.stopPropagation(),e.handlePreviewImage(t.row.img)}}})])]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"product_status",fn:function(t){return[a("div",e._l(t.row.product_status,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"opera_log",fn:function(t){return[e._l(t.row.opera_log,function(i,s){return t.row.opera_log.length<3?a("div",{key:s},[e._v("\n                "+e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.opera_log,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.opera_log,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t)+"\n                    ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}},{key:"opera_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAssign,title:"指派任务",type:"select",formLabel:"指派任务",option:e.optionList.workerList},on:{"update:visible":function(t){e.isShowAssign=t},confirm:e.handleConfirmAssign}}),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowReject,title:"驳回",showRemarks:!0},on:{"update:visible":function(t){e.isShowReject=t},confirm:e.handleConfirmReject}}),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("CopyEditPage",{attrs:{show:e.isShowEdit,spu:e.editSpu},on:{"update:show":function(t){e.isShowEdit=t}}})],1)},staticRenderFns:[]};var Ct=a("VU/8")(Dt,wt,!1,function(e){a("xHCD")},"data-v-19143cb2",null).exports;function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({limit:20,offset:1,search_type:1},f.a.ajaxData,e);return q.a.getAjax("/rejection/rejection/reject_config_list",t)}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/rejection/rejection/del_reject_config",t)}function St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/rejection/rejection/edit_reject_config",t)}function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},e),a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");window.open("/rejection/rejection/export_reject_config"+a,"_self")}function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_config/log/log_list",e)}function At(e){return q.a.fileAjax("/sample_config/sample_config/image_upload/file",e)}var Tt={data:function(){return{showSearch:!0,tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},saveFileList:[],dialogFormVisible:!1,editForm:{},departmentOption:f.a.departmentInfo,dialogTableVisible:!1,logData:[],logKey:[],logProps:[],logWidth:["200px","120px","120px"],importUrl:"/rejection/rejection/import_reject_config",upData:{},dialogAddVisible:!1,addForm:{}}},computed:d()({},Object(h.c)(["loginInfo"]),{downloadUrl:function(){return"/rejection/rejection/download_template"}}),methods:{handleDownloadModule:function(){window.open(this.downloadUrl+"?reject_from_dpt=4","_self")},handleUploadSuccess:function(e){e&&this.handleQueryInfo()},viewLog:function(e){var t=this;this.dialogTableVisible=!0,qt({mod_type:1,id:e}).then(function(e){var a=e.data;1===a.status?(t.logData=a.data.value,t.logData.map(function(e){return e.remark=e.remark.split("|")}),t.logProps=ie()(a.data.key),t.logKey=ne()(a.data.key)):t.logData=[]})},saveAddInfo:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/rejection/rejection/add_config",t)})(d()({reject_from_dpt:4},this.addForm)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogAddVisible=!1,e.$message({message:"添加成功!",type:"success"}),e.handleQueryInfo())})},saveEditInfo:function(){var e=this,t=d()({},this.editForm);delete t.create_time;var a=ne()(f.a.departmentInfo).findIndex(function(e){return t.reject_to_dpt===e});a>=0&&(t.reject_to_dpt=a+1),St(d()({modify_user:this.loginInfo.user_name,user_id:this.loginInfo.uid},t)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogFormVisible=!1,e.$message({message:"修改成功!",type:"success"}),e.handleQueryInfo())})},editItem:function(e){this.dialogFormVisible=!0,this.editForm=_t()({},e)},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.id)}),e},addData:function(){this.dialogAddVisible=!0},delData:function(){var e=this,t=this.selectId();t.length?this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){It({id:t.join(","),user_id:e.loginInfo.uid,modify_user:e.loginInfo.user_name}).then(function(){e.$message({message:"删除成功!",type:"success"}),e.handleQueryInfo()})}):this.$message.warning("请勾选数据！")},delItem:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){It({id:e,user_id:t.loginInfo.uid,modify_user:t.loginInfo.user_name}).then(function(){t.$message({message:"删除成功!",type:"success"}),t.handleQueryInfo()})})},handleExportListInfo:function(){xt({reject_from_dpt:4,id:this.selectId().join(",")})},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lt(d()({reject_from_dpt:4},t)).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1})},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleQueryInfoCallBack:function(e){this.tableData=e.data.value,this.tableProps=ie()(e.data.key);var t=ne()(e.data.key);t.splice(t.length-1,1),this.tableKey=t,this.tableWidth=["80","150","700","150","120","140","150",""],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}},created:function(){this.handleQueryInfo(),this.upData={user_id:this.loginInfo.staff_code||"12534",reject_from_dpt:4}}},Pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small",icon:"icon-daochu icon_blue"},on:{click:e.handleExportListInfo}},[e._v("导出\n        ")]),e._v(" "),a("ComUpload",{attrs:{label:"批量导入",btnType:"text",url:e.importUrl,upData:e.upData,multiple:!0},on:{success:e.handleUploadSuccess}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon-piliangdaoru icon_purple"})])],2),e._v(" "),a("el-button",{staticClass:"load-text",attrs:{size:"small",type:"text",icon:"icon-xiazai1 icon_blue"},on:{click:e.handleDownloadModule}},[e._v("下载模板\n        ")]),e._v(" "),a("el-button",{staticClass:"danger-border",attrs:{type:"text",size:"small",icon:"icon-xinzeng1 icon_blue"},on:{click:e.addData}},[e._v("\n            新增\n        ")]),e._v(" "),a("el-button",{staticClass:"danger-border",attrs:{type:"text",size:"small",icon:"icon-shanchu1 icon_pink"},on:{click:e.delData}},[e._v("\n            删除\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"operate",fn:function(t){return[a("el-table-column",{attrs:{width:"200px",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delItem(t.row.id)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewLog(t.row.id)}}},[e._v("日志")])]}}])})]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"编辑",visible:e.dialogFormVisible,width:"450px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editForm,"label-width":"100px"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{key:i,attrs:{label:t}},["reject_to_dpt"!==e.tableProps[i]&&"setting_introduce"!==e.tableProps[i]?a("el-input",{attrs:{size:"small",placeholder:"请输入",disabled:"id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]},model:{value:e.editForm[e.tableProps[i]],callback:function(t){e.$set(e.editForm,e.tableProps[i],t)},expression:"editForm[tableProps[index]]"}}):e._e(),e._v(" "),"reject_to_dpt"===e.tableProps[i]?a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.editForm.reject_to_dpt,callback:function(t){e.$set(e.editForm,"reject_to_dpt",t)},expression:"editForm.reject_to_dpt"}},e._l(e.departmentOption,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})):e._e(),e._v(" "),"setting_introduce"===e.tableProps[i]?a("el-input",{staticStyle:{width:"77%"},attrs:{resize:"none",placeholder:"请输入",type:"textarea",rows:5,size:"small"},model:{value:e.editForm.setting_introduce,callback:function(t){e.$set(e.editForm,"setting_introduce",t)},expression:"editForm.setting_introduce"}}):e._e()],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveEditInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"新增",visible:e.dialogAddVisible,width:"500px"},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"退样类型"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.addForm.reject_type_text,callback:function(t){e.$set(e.addForm,"reject_type_text",t)},expression:"addForm.reject_type_text"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"驳回部门"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.addForm.reject_to_dpt,callback:function(t){e.$set(e.addForm,"reject_to_dpt",t)},expression:"addForm.reject_to_dpt"}},e._l(e.departmentOption,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"是否退样"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}},[a("el-option",{attrs:{value:"是"}},[e._v("\n                        是\n                    ")]),e._v(" "),a("el-option",{attrs:{value:"否"}},[e._v("\n                        否\n                    ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设定说明"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",type:"textarea",rows:5,resize:"none"},model:{value:e.addForm.setting_introduce,callback:function(t){e.$set(e.addForm,"setting_introduce",t)},expression:"addForm.setting_introduce"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveAddInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"查看日志",visible:e.dialogTableVisible,top:"5vh"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.logKey,tableProps:e.logProps,tableData:e.logData,tableWidth:e.logWidth},scopedSlots:e._u([{key:"remark",fn:function(t){return e._l(t.row.remark,function(t,i){return a("p",{key:i},[e._v("\n                    "+e._s(t)+"\n                ")])})}}])})],1)],1)},staticRenderFns:[]};var Et=a("VU/8")(Tt,Pt,!1,function(e){a("mE+D")},"data-v-6b79a0b8",null).exports,Ot={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,groupType:"3",queryData:{groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:"",firstGroup:""},optionList:{userList:[],canClassifyList:[],areaList:[],whetherList:[],devTypeList:[],groupTopList:[],searchUserList:[]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isFirstAddShow:!1,isEditFirstShow:!1,firstEdit:{manage:"",groupName:"",id:""},isReview:!1,isAddShow:!1,isEditShow:!1,labelWidth:"70px",editData:{groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},saveCheckId:"",editRule:{groupName:f.a.RULE_CONFIG.requiredBlur,groupManager:f.a.RULE_CONFIG.requiredChange,groupHeadman:f.a.RULE_CONFIG.requiredChange,groupUser:f.a.RULE_CONFIG.requiredChange},isProofTrue:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","copyEditGroupInfo"])),methods:d()({},Object(h.b)(["GetCopyEditGroupInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.copy_edit_group));var a=d()({devp_type:this.queryData.devType,category_id:this.queryData.classify[this.queryData.classify.length-1],group_name:this.queryData.groupName,top_level_pid:this.queryData.firstGroup,user_manager_id:this.queryData.groupManager,user_director_id:this.queryData.groupDirector},t);this.GetCopyEditGroupInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleToggleFirst:function(e){this.queryData.firstGroup=e.top_level_pid,this.handleQueryInfo({limit:this.pageData.currentList})},handleResetQueryInfo:function(){this.queryData={groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleDeleteInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.id,group_type:t.groupType};Object(et.c)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleDeleteFirstInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.top_level_pid,group_type:t.groupType};Object(et.b)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAddFirstInfo:function(){this.isFirstAddShow=!0},handleSaveAddFirstInfo:function(){var e=this,t={user_manager_id:this.firstEdit.manage,group_name:this.firstEdit.groupName,group_type:this.groupType};this.isEditFirstShow?(t.group_id=this.firstEdit.id,Object(et.d)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleEditFirst:function(e){this.firstEdit.manage=e.user_manager_id,this.firstEdit.groupName=e.group_name,this.firstEdit.id=e.top_level_pid,this.isEditFirstShow=!0,this.isFirstAddShow=!0},handleCancelAddFirstInfo:function(){this.firstEdit={manage:"",groupName:"",id:""},this.$refs.firstEdit.resetFields(),this.isFirstAddShow=!1,this.isEditFirstShow=!1},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){"readonly"===t&&(this.isReview=!0),this.handlePlayUpEditInfo(e),this.isAddShow=!0},handlePlayUpEditInfo:function(e){this.isEditShow=!0,this.saveCheckId=e.id,this.editData.canClassify=e.group_category.map(function(e){return e.map(function(e){return e.toString()})}),this.editData.groupName=e.group_name,this.editData.parentGroup=e.top_level_pid,this.editData.groupManagerId=e.user_manager_id,this.editData.groupManager=this.optionList.userList[e.user_manager_id],this.editData.groupDirector=e.user_director_id,this.editData.groupHeadman=e.user_groupman_id,this.editData.groupUser=ie()(e.group_user_info),this.editData.area=1*e.region,this.editData.devType=1*e.devp_type,this.editData.isDiy=1*e.is_customized,this.editData.isOss=1*e.is_overseas},handleCancelEdit:function(){this.editData={groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isReview=!1},handleDelClassify:function(){1!==this.editData.canClassify.length&&this.editData.canClassify.pop()},handleAddClassify:function(){this.editData.canClassify.push([])},handleProofClassify:function(e,t){for(var a=e[e.length-1],i=0;i<this.editData.canClassify.length;i++){var s=this.editData.canClassify[i];if(t!==i&&s.indexOf(a)>-1)return this.$message.warning("适用分类选择有误！"),!0}},handleOpenProofClassify:function(e){},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){for(var a=0;a<e.editData.canClassify.length;a++)if(e.handleProofClassify(e.editData.canClassify[a],a))return;var i=[];e.editData.groupUser.forEach(function(e){i.push({user_staff_id:e})});var s={group_name:e.editData.groupName,top_level_pid:e.editData.parentGroup,user_groupman_id:e.editData.groupHeadman,user_director_id:e.editData.groupDirector,user_manager_id:e.editData.groupManagerId,group_user_info:o()(i),devp_type:e.editData.devType||0,region:e.editData.area||0,group_type:e.groupType||0,is_customized:e.editData.isDiy||0,is_overseas:e.editData.isOss||0,group_category:o()(e.editData.canClassify)};e.isEditShow?(s.group_id=e.saveCheckId,Object(et.f)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.g)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&this.handleCancelEdit(),this.isFirstAddShow&&this.handleCancelAddFirstInfo()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"copy_edit_group",value:o()(this.queryData)}),this.optionList.devTypeList=e.data_list.drop_down_data.devp_type_list,this.optionList.searchUserList=e.data_list.drop_down_data.user_data,this.optionList.canClassifyList=e.data_list.drop_down_data.category_list,this.optionList.groupTopList=e.data_list.top_group_list,this.optionList.areaList=e.data_list.drop_down_data.region_list,this.optionList.userList=e.data_list.drop_down_data.user_data,this.optionList.whetherList=e.data_list.drop_down_data.whether,this.tableData=e.data_list.value,this.tableKey=e.data_list.key,this.tableProps=["index","group_name","region","devp_type_cn","group_category_cn","group_user_info","group_user_number","operation"],this.pageData.currentList=1*e.page_data.limit,this.pageData.currentPage=1*e.page_data.offset,this.pageData.currentTotal=1*e.page_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.copyEditGroupInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.copy_edit_group),this.handleQueryInfoCallBack(this.copyEditGroupInfo))}catch(e){console.log(e)}},watch:{"editData.parentGroup":function(e){var t=this;this.optionList.groupTopList.forEach(function(a){a.top_level_pid===e&&(t.editData.groupManager=t.optionList.userList[a.user_manager_id],t.editData.groupManagerId=a.user_manager_id)})}}},Ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"小组名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.groupName,callback:function(t){e.$set(e.queryData,"groupName",t)},expression:"queryData.groupName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组经理",options:e.optionList.searchUserList},model:{value:e.queryData.groupManager,callback:function(t){e.$set(e.queryData,"groupManager",t)},expression:"queryData.groupManager"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组主管",options:e.optionList.searchUserList},model:{value:e.queryData.groupDirector,callback:function(t){e.$set(e.queryData,"groupDirector",t)},expression:"queryData.groupDirector"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"cascader",props:{label:"category_name",value:"id"},label:"适用分类",options:e.optionList.canClassifyList},model:{value:e.queryData.classify,callback:function(t){e.$set(e.queryData,"classify",t)},expression:"queryData.classify"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"开发类型",options:e.optionList.devTypeList},model:{value:e.queryData.devType,callback:function(t){e.$set(e.queryData,"devType",t)},expression:"queryData.devType"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("div",{staticClass:"ui-shortcut",staticStyle:{"margin-top":"0"}},[e._m(0),e._v(" "),a("ul",{staticClass:"ui-shortcut--area clearFix"},[e._l(e.optionList.groupTopList,function(t){return a("li",{on:{click:function(a){e.handleToggleFirst(t)}}},[a("div",{staticClass:"ui-title"},[a("span",[e._v(e._s(t.group_name))])]),e._v(" "),a("div",{staticClass:"ui-label"},[a("span",[e._v("经理人 "+e._s(t.number))])]),e._v(" "),a("span",{staticClass:"icon-shanchu ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleDeleteFirstInfo(t)}}}),e._v(" "),a("span",{staticClass:"icon-bianji ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleEditFirst(t)}}})])}),e._v(" "),a("li",{staticClass:"ui-shortcut--area--ope",on:{click:e.handleClickAddFirstInfo}},[a("span",{staticClass:"icon-tianjia"})])],2)]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增小组\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],otherHeight:["ui-shortcut"],showSearch:e.showSearch},scopedSlots:e._u([{key:"group_category_cn",fn:function(t){return[a("div",e._l(t.row.group_category_cn,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"region",fn:function(t){return[a("span",[e._v(e._s(e.optionList.areaList[1*t.row.region]))])]}},{key:"group_user_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("组长：")]),a("span",[e._v(e._s(t.row.user_groupman_cn))])]),e._v(" "),a("p",[a("span",[e._v("主管：")]),a("span",[e._v(e._s(t.row.user_director_cn))])]),e._v(" "),a("p",[a("span",[e._v("经理：")]),a("span",[e._v(e._s(t.row.user_manager_cn))])])])]}},{key:"group_user_number",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(Object.values(t.row.group_user_info).join(",")))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.group_user_info&&Object.values(t.row.group_user_info).length))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,"readonly")}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDeleteInfo(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditFirstShow?"编辑一级小组":"新增一级小组",top:"10vh",width:"400px",visible:e.isFirstAddShow},on:{"update:visible":function(t){e.isFirstAddShow=t},close:e.handleCancelAddFirstInfo}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"groupName",label:"一级小组"}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理"}},[a("el-select",{attrs:{filterable:""},model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelAddFirstInfo}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSaveAddFirstInfo}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isReview?"预览":e.isEditShow?"编辑":"新增",top:"10vh",width:"740px","custom-class":"ui-com_edit",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("div",{staticClass:"clearFix"},[a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("二级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupName",label:"小组名称","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:e.isReview},model:{value:e.editData.groupName,callback:function(t){e.$set(e.editData,"groupName",t)},expression:"editData.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"devType",label:"开发类型","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("一级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"parentGroup",label:"一级小组","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.parentGroup,callback:function(t){e.$set(e.editData,"parentGroup",t)},expression:"editData.parentGroup"}},e._l(e.optionList.groupTopList,function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.top_level_pid}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupManager",label:"小组经理","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.groupManager,callback:function(t){e.$set(e.editData,"groupManager",t)},expression:"editData.groupManager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupDirector",label:"小组主管","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupDirector,callback:function(t){e.$set(e.editData,"groupDirector",t)},expression:"editData.groupDirector"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupHeadman",label:"小组组长","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupHeadman,callback:function(t){e.$set(e.editData,"groupHeadman",t)},expression:"editData.groupHeadman"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("适用分类")])]),e._v(" "),a("div",{staticClass:"ui-item ui-btn--layout"},[e._l(e.editData.canClassify,function(t,i){return a("el-form-item",{key:i,attrs:{prop:"canClassify"}},[a("el-cascader",{attrs:{disabled:e.isReview,"change-on-select":"",placeholder:"输入搜索",options:e.optionList.canClassifyList,props:{label:"category_name",value:"id",children:"children"},filterable:""},model:{value:e.editData.canClassify[i],callback:function(t){e.$set(e.editData.canClassify,i,t)},expression:"editData.canClassify[index]"}})],1)}),e._v(" "),a("div",{staticClass:"ui-item--area--ope"},[e.isReview?e._e():a("span",{staticClass:"icon-shanjian",on:{click:e.handleDelClassify}}),e._v(" "),e.isReview?e._e():a("span",{staticClass:"icon-zengjia",on:{click:e.handleAddClassify}})])],2)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("小组成员")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupUser"}},[a("el-select",{attrs:{multiple:"",filterable:"",disabled:e.isReview},model:{value:e.editData.groupUser,callback:function(t){e.$set(e.editData,"groupUser",t)},expression:"editData.groupUser"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[e.isReview?e._e():a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),e.isReview?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-shortcut--title"},[t("span",[this._v("一级小组")])])}]};var Rt=a("VU/8")(Ot,Ut,!1,function(e){a("WQQB")},"data-v-38005ea3",null).exports,zt={name:"PrintQRCode",props:["data"],data:function(){return{url:""}},methods:{handlePrint:function(){window.frames.myIframe.focus(),window.frames.myIframe.print()}},watch:{data:function(e){}}},jt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-qrcode_print"},[t("iframe",{ref:"myIframe",attrs:{name:"myIframe",src:"/home/qrCodeIndex?sku_list="+this.data,frameborder:"0"}})])},staticRenderFns:[]};var Ft=a("VU/8")(zt,jt,!1,function(e){a("YSEa")},"data-v-6fbd4dc2",null).exports,Nt=a("VzL/"),$t={components:{EditPage:Re,PrintQRCode:Ft},data:function(){return{FilterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",productName:"",supplierName:"",operateUser:"",operateTime:[],operateUseTime:[1,20],operateUseType:"",operateUseMax:30},optionList:{workUserList:{},supplierTypeList:{},settlementTypeList:{},devUserList:{},deliverAddressList:[],paymentModeList:{},liaisonsList:{},createUserList:{},stateList:{},companyTypeList:{},depList:{1:"品控",2:"文案or摄影",3:"美工"},timeTypeList:{day:"天",hours:"时",minutes:"分"}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],saveEditRow:{},isPreviewShow:!1,isShowAudit:!1,isShowReject:!1,saveCheckStatus:{spu:"",status:""},isPrintPreview:!1,printData:"",isIndeterminate:[],printCheckList:[],printCheckAll:[],printShowList:{},previewImgUrl:"",isShowPreviewImg:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","productDevListInfo"])),methods:d()({},Object(h.b)(["GetProductDevListInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.com_dev_list));var a=d()({spu:this.queryData.productSPU,supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join(","),goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function:this.queryData.functionInfo,user:this.queryData.workUser,opera_user:this.queryData.operateUser,opera_time_start:this.queryData.operateTime[0],opera_time_end:this.queryData.operateTime[1],status:this.queryData.auditState,opera_start_time:Object(m.f)(this.queryData.operateUseTime[0],this.queryData.operateUseType,"seconds"),opera_end_time:Object(m.f)(this.queryData.operateUseTime[1],this.queryData.operateUseType,"seconds")},t);this.GetProductDevListInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[]}},handleClickFilter:function(){this.FilterShow=!this.FilterShow},handlePreviewImage:function(e){this.previewImgUrl=e,this.isShowPreviewImg=!0},handleTimeRange:function(e){switch(e){case"day":this.queryData.operateUseMax=30;break;case"hours":this.queryData.operateUseMax=24;break;case"minutes":this.queryData.operateUseMax=60}},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handlePreview:function(e){this.isPreviewShow=!0,this.saveEditRow=e},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleTreeCallBackChange:function(e){for(var t=0;t<e.length;t++)e[t].son_id&&e[t].son_id.length?this.handleTreeCallBackChange(e[t].son_id):delete e[t].son_id},handleOperationFn:function(e,t){this.saveCheckStatus.spu=e.spu[0],this.saveCheckStatus.status=t,1===t?this.isShowAudit=!0:this.isShowReject=!0},handleConfirmOperate:function(e){var t=this,a={spu:this.saveCheckStatus.spu,type:this.saveCheckStatus.status,status:4};1===a.type&&(a.dep=e.check),SPUOperationInfo(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleCreateQRCode:function(){var e=this;if(this.saveCheckInfo.length){var t="";this.saveCheckInfo.forEach(function(e){t+=e.sku+","}),Object(Nt.a)({sku_list:t.replace(/,$/,"")}).then(function(t){var a=t.data;e.isPrintPreview=!0,e.printShowList=a.data.list})}else this.$message.warning("请勾选数据！")},handleCheckAllChange:function(e,t,a){var i=this;this.isIndeterminate[e]=!1,a?(this.printCheckList[e]=[],this.printShowList[t].forEach(function(t,a){i.printCheckList[e].push(a)})):this.printCheckList[e].splice(0)},handleClickQRCode:function(e,t,a){if(Array.isArray(this.printCheckList[e])){var i=this.printCheckList[e].indexOf(t);i>-1?this.printCheckList[e].splice(i,1):this.printCheckList[e].push(t)}else this.$set(this.printCheckList,e,[]),this.printCheckList[e].push(t);this.isIndeterminate[e]=this.printCheckList[e]>0&&this.printCheckList[e]<this.printShowList[a].length,this.$set(this.isIndeterminate,e,this.printCheckList[e].length>0&&this.printCheckList[e].length<this.printShowList[a].length),this.$set(this.printCheckAll,e,this.printCheckList[e].length===this.printShowList[a].length)},handleQRCodePrint:function(){var e=this,t=[],a=ie()(this.printShowList);this.printCheckList.forEach(function(i,s){i&&i.length&&i.forEach(function(i){t.push(e.printShowList[a[s]][i].sku)})}),this.printData=t.join(","),setTimeout(function(){e.$refs.qrcode.handlePrint()},100)},handleCancelPrint:function(){this.isPrintPreview=!1,this.printData="",this.isIndeterminate.splice(0),this.printCheckList.splice(0),this.printCheckAll.splice(0),this.printShowList={}},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"com_dev_list",value:o()(this.queryData)}),this.tableData=e.data.value,this.tableKey=e.data.key,this.tableWidth[2]="70px",this.tableWidth[6]="230px",this.tableWidth[8]="230px",this.optionList.productListList=[].concat(z()(e.select_list.category)),e.select_list.user&&(this.optionList.workUserList=e.select_list.user),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.handleTreeCallBackChange(this.optionList.productListList),this.tableProps=["index","spu","img","good_name","category_path","sample_type","good_info","audit_state","ope_record","use_time","remarks"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.productDevListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.com_dev_list),this.handleQueryInfoCallBack(this.productDevListInfo))}catch(e){console.log(e)}}},Mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-select",{attrs:{size:"small",clearable:""},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}},e._l(e.optionList.workUserList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},on:{change:function(t){e.handleTimeRange(e.queryData.operateUseType)}},model:{value:e.queryData.operateUseType,callback:function(t){e.$set(e.queryData,"operateUseType",t)},expression:"queryData.operateUseType"}},e._l(e.optionList.timeTypeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),e.queryData.operateUseType?a("el-slider",{attrs:{disabled:!e.queryData.functionInfo,range:"",min:1,max:e.queryData.operateUseMax},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}}):e._e()],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.FilterShow,expression:"!FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.FilterShow,expression:"FilterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleCreateQRCode}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("生成二维码\n        ")])],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("div",[a("span",{class:"1"===t.row.reject_type?"el-icon-warning":"el-icon-success"}),e._v(" "),a("p",[e._v(e._s(e.autoAddTableInx(t.$index)))])])]}},{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[e._v(e._s(t.row.spu[1]))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-bianji",on:{click:function(a){a.stopPropagation(),e.handlePreview(t.row)}}})])])]}},{key:"img",fn:function(t){return[""!==t.row.photo_path&&t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"audit_state",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"ope_record",fn:function(t){return[a("div",e._l(t.row.opera_log,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"use_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("EditPage",{attrs:{show:e.isPreviewShow,row:e.saveEditRow,type:"preview"},on:{"update:show":function(t){e.isPreviewShow=t}}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",formLabel:"选择部门",title:"审核",type:"select",visible:e.isShowAudit,option:e.optionList.depList},on:{"update:visible":function(t){e.isShowAudit=t},confirm:e.handleConfirmOperate}}),e._v(" "),a("ComDialogRemarks",{attrs:{showRemarks:"",title:"驳回",visible:e.isShowReject},on:{"update:visible":function(t){e.isShowReject=t},confirm:e.handleConfirmOperate}}),e._v(" "),a("el-dialog",{attrs:{title:"生成二维码",width:"1000px",top:"10vh",visible:e.isPrintPreview},on:{"update:visible":function(t){e.isPrintPreview=t},close:e.handleCancelPrint}},[a("div",{staticClass:"ui-qrcode"},[a("div",{staticClass:"ui-qrcode--area"},e._l(e.printShowList,function(t,i,s){return a("div",{staticClass:"ui-qrcode--item"},[a("div",{staticClass:"ui-qrcode--item--title"},[a("span",[e._v("SPU:"+e._s(i))]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate[s]},on:{change:function(t){e.handleCheckAllChange(s,i,e.printCheckAll[s])}},model:{value:e.printCheckAll[s],callback:function(t){e.$set(e.printCheckAll,s,t)},expression:"printCheckAll[inx]"}},[e._v("全选\n                        ")])],1),e._v(" "),a("ul",{staticClass:"clearFix"},e._l(t,function(t,n){return a("li",[a("span",{staticClass:"el-icon-circle-check",class:{"ui-qrcode--check":e.printCheckList[s]&&e.printCheckList[s].indexOf(n)>-1}}),e._v(" "),a("img",{attrs:{src:t.url,alt:""},on:{click:function(t){e.handleClickQRCode(s,n,i)}}}),e._v(" "),a("span",[e._v(e._s(t.sku))])])}))])}))]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelPrint}},[e._v("取消打印")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleQRCodePrint}},[e._v("打印")])],1)]),e._v(" "),a("LookImage",{attrs:{src:e.previewImgUrl,show:e.isShowPreviewImg},on:{"update:show":function(t){e.isShowPreviewImg=t}}}),e._v(" "),a("PrintQRCode",{ref:"qrcode",attrs:{data:e.printData}})],1)},staticRenderFns:[]};var Qt=a("VU/8")($t,Mt,!1,function(e){a("2l1/")},"data-v-474c6614",null).exports,Bt=a("rlpl"),Vt={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",productList:[],supplier:"",buyType:"",productName:"",opeUser:"",opeTime:"",function:""},optionList:{buyTypeList:{},functionList:{},productLists:[],userList:[]},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],isAddShow:!1,addOrderInfo:{user_info:{},spu_info:[]},saveActiveLink:{},isCheckLink:!1,checkProductInfo:{},countList:{},priceList:{},submitCreateData:{},isTransferShow:!1}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","samplePurchaseInfo"])),methods:d()({},Object(h.b)(["GetSamplePurchaseInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,getDevImg:function(e){return JSON.parse(e)},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_purchase));var a=d()({spu:this.queryData.productSPU,category_id:this.queryData.productList,supplier_code:this.queryData.supplierName,sample_type:this.queryData.buyType,title_cn:this.queryData.productName,function:this.queryData.function,opera_user:this.queryData.opeUser,opera_time_start:this.queryData.opeTime[0],opera_time_end:this.queryData.opeTime[1],is_get_base:1},t);this.GetSamplePurchaseInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",productList:[],supplier:"",buyType:"",productName:"",opeUser:"",opeTime:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleOperationFn:function(e,t){var a=this;this.saveCheckInfo.length?this.$confirm("确认"+t,"提示",{type:"warning"}).then(function(){var t={};if(1===e){var i=[];a.saveCheckInfo.forEach(function(e){i.push({po:e.sku_list[0].po,spu:e.spu,order_id:e.sku_list[0].order_id})}),t={status:e,spu_po_arr:o()(i)}}else{var s=[],n=[];a.saveCheckInfo.forEach(function(e){s.push(e.spu),n.push(e.sku_list[0].order_number)}),t={status:e,spu:o()(s),order_id:o()(n)}}Object(Bt.c)(t).then(function(e){var t=e.data;a.handleOperationCallBack(t)})}):this.$message.warning("请勾选数据！")},handleCountPrice:function(e,t){this.priceList[e]=this.countList[e]*t},handleCreateOrder:function(){var e=this;if(this.saveCheckInfo.length){var t=[];this.saveCheckInfo.forEach(function(e){t.push(e.spu)}),Object(Bt.a)({spu:t.join(",")}).then(function(t){var a=t.data;a.status?(e.addOrderInfo=a.data,e.isAddShow=!0,a.data.spu_info.forEach(function(t,a){t.sku_list.forEach(function(t,i){e.$set(e.countList,a+"-"+i,t.count),e.$set(e.priceList,a+"-"+i,t.sum_price)})})):e.$message.error(a.errorMess||"操作失败")})}else this.$message.warning("请勾选数据！")},handleCheckProduct:function(e,t,a,i,s,n){var o=this,r="";n?(r={offerId:a.alibaba_atr.data.productID,specId:i.specId,supplierName:s,sku:a.sku,spu:a.spu,link:a.link},this.isCheckLink=!0):this.isCheckLink=!1,a.alibaba_atr.data.sku.forEach(function(t,a){delete o.checkProductInfo[e+"-"+a]}),this.$set(this.checkProductInfo,e+"-"+t,r),this.$set(this.saveActiveLink,e,i.skuImageUrl_min)},handleCancelSubmitOrder:function(){this.saveActiveLink={},this.checkProductInfo={}},handleSubmitCreateOrder:function(){var e=this,t=[];this.saveCheckInfo.forEach(function(e){t.push(e.spu)});var a=[],i=!0,s=!1,n=void 0;try{for(var r,l=U()(qe()(this.checkProductInfo));!(i=(r=l.next()).done);i=!0){var c=r.value,u=Te()(c,2),p=u[0],h=u[1],_=p.replace(/-[0-9]+$/,"");a.push(d()({},h,{count:this.countList[_]}))}}catch(e){s=!0,n=e}finally{try{!i&&l.return&&l.return()}finally{if(s)throw n}}var m=0;if(this.addOrderInfo.spu_info.forEach(function(e){m+=e.sku_list.length}),m===a.length){var f={spu:t.join(","),fullName:this.addOrderInfo.user_info.consignee,address:this.addOrderInfo.user_info.receipt_info,mobile:this.addOrderInfo.user_info.phone,checkInfo:o()(a)};Object(Bt.d)(f).then(function(t){var a=t.data;e.submitCreateData=a.data})}else this.$message.warning("请选择商品规格！")},handleTransferShow:function(){this.saveCheckInfo.length?this.isTransferShow=!0:this.$message.warning("请勾选数据！")},handleConfirmTransfer:function(e){var t=this,a=e.check,i=[];this.saveCheckInfo.forEach(function(e){i.push(e.spu)});var s={spu:i.join(","),distr_user:a};Object(Bt.e)(s).then(function(e){var a=e.data;t.handleOperationCallBack(a)})},handleOperationCallBack:function(e){e.status?(this.isAddShow&&(this.isAddShow=!1),this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_purchase",value:o()(this.queryData)}),this.optionList.buyTypeList=e.drop_down_box.buy_list,this.optionList.functionList=e.drop_down_box.function,this.optionList.productLists=e.drop_down_box.category_list.data;var t={};e.group_user.forEach(function(e){t[e.user_staff_id]=e.user_name}),this.optionList.userList=t,this.tableData=e.data.data_list.value,this.tableKey=[].concat(z()(e.data.data_list.key)),this.tableKey.unshift("序号"),this.tableProps=["index","spu","sku_list","dev_imgs","title_cn","category_path","sample_datum","log_time","remarks"],this.tableWidth=["60","120","350","70","","150","250","220",""],this.pageData.currentList=1*e.data.paging_data.limit,this.pageData.currentPage=1*e.data.paging_data.offset,this.pageData.currentTotal=1*e.data.paging_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.samplePurchaseInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.sample_purchase),this.handleQueryInfoCallBack(this.samplePurchaseInfo))}catch(e){console.log(e)}}},Wt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productLists,props:{label:"category_name",value:"id",children:"child_id"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier,callback:function(t){e.$set(e.queryData,"supplier",t)},expression:"queryData.supplier"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"购买类型",template:"select",options:e.optionList.buyTypeList},model:{value:e.queryData.buyType,callback:function(t){e.$set(e.queryData,"buyType",t)},expression:"queryData.buyType"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能",template:"select",options:e.optionList.functionList},model:{value:e.queryData.function,callback:function(t){e.$set(e.queryData,"function",t)},expression:"queryData.function"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.opeUser,callback:function(t){e.$set(e.queryData,"opeUser",t)},expression:"queryData.opeUser"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.opeTime,callback:function(t){e.$set(e.queryData,"opeTime",t)},expression:"queryData.opeTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleCreateOrder}},[a("i",{staticClass:"icon-shengchengdingdan icon-plain"}),e._v("生成订单\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperationFn(1,"取消买样")}}},[a("i",{staticClass:"icon-quxiaomaiyang icon-main"}),e._v("取消买样\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperationFn(2,"刷新金额")}}},[a("i",{staticClass:"icon-quxiaomaiyang icon-main"}),e._v("刷新金额\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperationFn(3,"推送付款")}}},[a("i",{staticClass:"icon-quxiaomaiyang icon-main"}),e._v("推送付款\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleTransferShow}},[a("i",{staticClass:"icon-renwuzhipai icon-warn"}),e._v("任务指派\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"supplier_code",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.supplier_code))]),e._v(" "),a("div",{staticClass:"ui-table--supplier_code--flag"},[a("span",[e._v("试卖")])])])]}},{key:"sku_list",fn:function(t){return[a("div",e._l(t.row.sku_list,function(t){return a("p",[e._v(e._s(t.sku+" "+t.attribute_value_cn+"\n                    "+t.reference_price))])}))]}},{key:"dev_imgs",fn:function(t){return[""!==t.row.dev_imgs?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+e.getDevImg(t.row.dev_imgs)+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(e.getDevImg(t.row.dev_imgs))}}})])])]):e._e()]}},{key:"sample_datum",fn:function(t){return[a("div",[a("p",[a("span",[e._v("购买类型：")]),e._v(" "),a("span",[e._v(e._s(t.row.aaa))])]),e._v(" "),a("p",[a("span",[e._v("供应商编码：")]),e._v(" "),a("span",[e._v(e._s(t.row.supplier_code))])]),e._v(" "),a("p",[a("span",[e._v("供应商名称：")]),e._v(" "),a("span",[e._v(e._s(t.row.supplier_name))])]),e._v(" "),a("p",[a("span",[e._v("采样链接：")]),e._v(" "),a("span",[e._v(e._s(t.row.aaa))])]),e._v(" "),a("p",[a("span",[e._v("联系人/电话：")]),e._v(" "),a("span",[e._v(e._s(t.row.phone))])])])]}},{key:"log_time",fn:function(t){return[a("div",e._l(t.row.log_time,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"payment_info",fn:function(t){return[a("div",[a("p",[a("i",{staticClass:"icon-quanxianguanli"}),e._v(e._s(t.row.pay_method+"("+t.row.settle_method+")"))]),e._v(" "),a("p",[a("i",{staticClass:"icon-quanxianguanli"}),e._v(e._s(t.row.receive_account))]),e._v(" "),a("p",[a("i",{staticClass:"icon-quanxianguanli"}),e._v(e._s(t.row.shop_name))])])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{"custom-class":"ui-com_edit",title:"生成订单",width:"1000px",top:"5vh",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelSubmitOrder}},[a("div",{staticClass:"ui-create_order"},[a("div",{staticClass:"ui-top_info"},[a("ul",[a("li",[a("span",[e._v("收货人：")]),e._v(" "),a("span",[e._v(e._s(e.addOrderInfo.user_info.consignee))])]),e._v(" "),a("li",[a("span",[e._v("收货信息：")]),e._v(" "),a("span",[e._v(e._s(e.addOrderInfo.user_info.receipt_info))])]),e._v(" "),a("li",[a("span",[e._v("联系电话：")]),e._v(" "),a("span",[e._v(e._s(e.addOrderInfo.user_info.phone))])])])]),e._v(" "),a("div",{staticClass:"ui-table_title"},[a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th",[e._v("单价（元）")]),e._v(" "),a("th",[e._v("数量")]),e._v(" "),a("th",[e._v("金额（元）")])])])])]),e._v(" "),e._l(e.addOrderInfo.spu_info,function(t,i){return a("div",{key:i,staticClass:"ui-table_content"},[a("div",{staticClass:"ui-table_content--title"},[a("span",[e._v("供应商名称："+e._s(t.supplier_name))])]),e._v(" "),a("table",[a("tbody",e._l(t.sku_list,function(s,n){return a("tr",[a("td",[a("div",{staticClass:"ui-table_content--item ui-media clearFix"},[a("div",{staticClass:"ui-media--img"},[a("img",{attrs:{src:s.link,alt:""}})]),e._v(" "),a("div",{staticClass:"ui-media--content"},[a("p",[e._v(e._s(s.title_cn))]),e._v(" "),a("span",[e._v(e._s(s.attribute_value_cn))]),e._v(" "),a("div",{staticClass:"ui-media--content--icon",style:{backgroundImage:"url("+(s.sku_image_url||e.saveActiveLink[i+"-"+n])+")"}},[a("transition",{attrs:{mode:"in-out",name:"slide-fade"}},[a("ul",{staticClass:"ui-media--content--down clearFix"},e._l(s.alibaba_atr.data.sku,function(o,r){return a("li",{staticClass:"ui-not_copy",class:e.checkProductInfo[i+"-"+n+"-"+r]&&"ui-active",on:{click:function(a){e.handleCheckProduct(i+"-"+n,r,s,o,t.supplier_name,!e.checkProductInfo[i+"-"+n+"-"+r])}}},[a("img",{attrs:{src:o.skuImageUrl_min,alt:""}}),e._v(" "),a("span",[e._v(e._s(o.sku_atr[1].attribute_value))])])}))])],1)])])]),e._v(" "),a("td",[a("div",{staticClass:"ui-table_content--item"},[a("span",[e._v(e._s(s.unit_price))])])]),e._v(" "),a("td",[a("div",{staticClass:"ui-table_content--item"},[t.order_number?a("span",[e._v(e._s(s.count))]):e._e(),e._v(" "),t.order_number?e._e():a("el-input",{attrs:{size:"small"},on:{blur:function(t){e.handleCountPrice(i+"-"+n,s.unit_price)}},model:{value:e.countList[i+"-"+n],callback:function(t){e.$set(e.countList,i+"-"+n,t)},expression:"countList[supInx + '-' +index]"}})],1)]),e._v(" "),a("td",[a("div",{staticClass:"ui-table_content--item"},[a("span",[e._v(e._s(e.priceList[i+"-"+n]))])])])])}))]),e._v(" "),a("div",{staticClass:"ui-table_content--row_count"},[a("div",[a("span",[e._v("运费共计："+e._s(e.submitCreateData[t.supplier_name]?e.submitCreateData[t.supplier_name].shippingFee:t.freight_price_total))]),e._v(" "),a("span",[e._v("优惠金额："+e._s(e.submitCreateData[t.supplier_name]?e.submitCreateData[t.supplier_name].discount:t.discounts_price))]),e._v(" "),a("span",[e._v("PO号："+e._s(e.submitCreateData[t.supplier_name]?e.submitCreateData[t.supplier_name].po:t.po))])]),e._v(" "),a("div",[a("span",[e._v("总额："+e._s(e.submitCreateData[t.supplier_name]?e.submitCreateData[t.supplier_name].totalAmount:t.price_total))]),e._v(" "),a("span",[e._v("商品金额："+e._s(e.submitCreateData[t.supplier_name]?e.submitCreateData[t.supplier_name].sumProductPayment:t.goods_price))]),e._v(" "),a("span",[e._v("订单号："+e._s(e.submitCreateData[t.supplier_name]?e.submitCreateData[t.supplier_name].order_id:t.order_number))])])])])}),e._v(" "),a("div",{staticClass:"ui-table_footer clearFix"},[a("p",[e._v("共计商品："+e._s(e.addOrderInfo.user_info.sum_count)+"件")]),e._v(" "),a("p",[e._v("合计总额："),a("span",{staticClass:"ui-total_amt"},[e._v(e._s(e.addOrderInfo.user_info.sum_total)+"元")])])])],2),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelSubmitOrder}},[e._v("取消")]),e._v(" "),"{}"===e.submitCreateData||e.addOrderInfo.spu_info[0]&&!e.addOrderInfo.spu_info[0].order_number?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSubmitCreateOrder}},[e._v("\n                提交\n            ")]):e._e()],1)]),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isTransferShow,formLabel:"指派给",title:"任务指派",type:"select",option:e.optionList.userList},on:{"update:visible":function(t){e.isTransferShow=t},confirm:e.handleConfirmTransfer}})],1)},staticRenderFns:[]};var Gt=a("VU/8")(Vt,Wt,!1,function(e){a("xjYG")},"data-v-0bf4b35c",null).exports,Kt={props:{show:{type:Boolean,default:!1},detail:{type:Object,default:{}}},name:"LogisticsInfo",methods:{handleClose:function(){this.$emit("update:show",!1)}}},Ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.show,title:"物流信息",width:"1000px",top:"10vh"},on:{close:e.handleClose}},[a("div",{staticClass:"ui-logistics"},[a("div",{staticClass:"ui-logistics--top clearFix"},[a("div",{staticClass:"ui-logistics--content"},[a("ul",[a("li",[a("span",[e._v("物流编号："+e._s(e.detail.track_number))])]),e._v(" "),a("li",[a("span",[e._v("物流公司："+e._s(e.detail.carrier_name))])]),e._v(" "),a("li",[a("span",[e._v("运单号码："+e._s(e.detail.receive_no))])]),e._v(" "),a("li",[a("span",[e._v("发货时间："+e._s(e.detail.delivered_time))])])])]),e._v(" "),a("div",{staticClass:"ui-logistics--detail"},[a("ul",e._l(e.detail.logistics_info,function(t){return a("li",[a("span",[e._v(e._s(t.acceptTime))]),e._v(" "),a("span",[e._v(e._s(t.remark))])])}))])]),e._v(" "),a("div",{staticClass:"ui-logistics--bottom"},[a("div",{staticClass:"ui-bottom--title"},[a("span",[e._v("物流含如下物品")])]),e._v(" "),a("ul",e._l(e.detail.sku_list,function(t){return a("li",{staticClass:"clearFix"},[a("div",{staticClass:"ui-bottom--item clearFix"},[a("div",{staticClass:"ui-media__img"},[a("img",{attrs:{src:JSON.parse(t.link)[0],alt:""}})]),e._v(" "),a("div",{staticClass:"ui-media--info"},[a("p",{directives:[{name:"ellipsis",rawName:"v-ellipsis",value:2,expression:"2"}]},[e._v("素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描素描")]),e._v(" "),a("span",[e._v(e._s(t.attribute_value_cn))])])]),e._v(" "),a("div",{staticClass:"ui-bottom--item"},[a("span",[e._v("单位重量："+e._s(t.weight)+"/件")])]),e._v(" "),a("div",{staticClass:"ui-bottom--item"},[a("span",[e._v("数量："+e._s(t.purchase_qty)+"件")])])])}))])])])},staticRenderFns:[]};var Jt=a("VU/8")(Kt,Ht,!1,function(e){a("HUbo")},"data-v-7c16f068",null).exports,Zt=a("DOQD"),Yt={components:{LogisticsInfo:Jt},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",purchaseNo:"",productList:[],supplier:"",orderState:"",productName:"",aliOrder:"",opeUser:"",opeTime:"",function:""},optionList:{productLists:[],orderStateList:{},functionList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[],isShowLogisticsInfo:!1,logisticsInfo:{}}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","sampleTrackManageInfo"])),methods:d()({},Object(h.b)(["GetSampleTrackManageInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,confirmDownSample:Zt.c,cancelBuySample:Zt.b,backSampleInfo:Zt.a,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_track_manage));var a=d()({spu:this.queryData.productSPU,po:this.queryData.purchaseNo,order_number:this.queryData.aliOrder,category_id:this.queryData.productList,supplier_code:this.queryData.supplier,sample_type:this.queryData.orderState,title_cn:this.queryData.productName,opera_user:this.queryData.opeUser,opera_time_start:this.queryData.opeTime[0],opera_time_end:this.queryData.opeTime[1],function:this.queryData.function},t);this.GetSampleTrackManageInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",purchaseNo:"",productList:[],supplier:"",orderState:"",productName:"",aliOrder:"",opeUser:"",opeTime:"",function:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleShowLogisticsInfo:function(e){var t=this;Object(Zt.d)({po:e.po}).then(function(e){var a=e.data;t.logisticsInfo=a.data.data,t.isShowLogisticsInfo=!0})},handleOperateFn:function(e,t,a){var i=this,s=[];if(t)s.push({po:t.po,spu:t.spu,return_track_number:t.track_number});else{if(!this.saveCheckInfo.length)return void this.$message.warning("请勾选数据！");this.saveCheckInfo.forEach(function(e){s.push({po:e.po,spu:e.spu,return_track_number:e.track_number})})}this.$confirm("确认"+a+"？","提示",{type:"warning"}).then(function(){var t="";switch(e){case 1:t="confirmDownSample";break;case 2:t="cancelBuySample";break;case 3:t="backSampleInfo"}i[t]({spu_po_arr:o()(s)}).then(function(e){var t=e.data;i.handleOperationCallBack(t)})})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_track_manage",value:o()(this.queryData)}),this.optionList.productLists=e.drop_down_box.category_list.data,this.optionList.orderStateList=e.drop_down_box.sample_order_type,this.optionList.functionList=e.drop_down_box.function,this.tableData=e.data.data_list.value,this.tableKey=[].concat(z()(e.data.data_list.key)),this.tableKey.unshift("序号"),this.tableProps=["index","spu","sku_list","link","title_cn","category_path","product_datum","order_info","logistics_info","ope_log","track_time","purchase_status"],this.tableWidth=["60","100","300","70","250","150","300","160","200","220","220","80"],this.pageData.currentList=1*e.data.paging_data.limit,this.pageData.currentPage=1*e.data.paging_data.offset,this.pageData.currentTotal=1*e.data.paging_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.sampleTrackManageInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.sample_track_manage),this.handleQueryInfoCallBack(this.sampleTrackManageInfo))}catch(e){console.log(e)}}},Xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"采购单号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.purchaseNo,callback:function(t){e.$set(e.queryData,"purchaseNo",t)},expression:"queryData.purchaseNo"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productLists,props:{label:"category_name",value:"id"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier,callback:function(t){e.$set(e.queryData,"supplier",t)},expression:"queryData.supplier"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"订单状态",template:"select",options:e.optionList.orderStateList},model:{value:e.queryData.orderState,callback:function(t){e.$set(e.queryData,"orderState",t)},expression:"queryData.orderState"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"阿里订单号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.aliOrder,callback:function(t){e.$set(e.queryData,"aliOrder",t)},expression:"queryData.aliOrder"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能",template:"select",options:e.optionList.functionList},model:{value:e.queryData.function,callback:function(t){e.$set(e.queryData,"function",t)},expression:"queryData.function"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.opeUser,callback:function(t){e.$set(e.queryData,"opeUser",t)},expression:"queryData.opeUser"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.opeTime,callback:function(t){e.$set(e.queryData,"opeTime",t)},expression:"queryData.opeTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperateFn(1,"","确认到样")}}},[a("i",{staticClass:"icon-querendaoyang icon-main"}),e._v("确认到样\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperateFn(2,"","取消买样")}}},[a("i",{staticClass:"icon-quxiaomaiyang icon-main"}),e._v("取消买样\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleOperateFn(3,"","退回样品")}}},[a("i",{staticClass:"icon-quxiaomaiyang icon-main"}),e._v("退回样品\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"sku_list",fn:function(t){return[a("div",e._l(t.row.sku_list,function(t){return a("p",[e._v(e._s(t.sku+" "+(t.attribute_value_cn||"")+"\n                    "+t.purchase_price))])}))]}},{key:"spu",fn:function(t){return[a("div",[a("p",[e._v(e._s(t.row.spu))]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-querendaoyang icon-main",on:{click:function(a){a.stopPropagation(),e.handleOperateFn(1,t.row,"确认到样")}}}),e._v(" "),a("i",{staticClass:"icon-quxiaomaiyang icon-main",on:{click:function(a){a.stopPropagation(),e.handleOperateFn(2,t.row,"取消买样")}}})])])]}},{key:"link",fn:function(t){return[""!==t.row.link&&t.row.link?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.link+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.link)}}})])])]):e._e()]}},{key:"product_datum",fn:function(t){return[a("div",[a("p",[a("span",[e._v("购买类型：")]),e._v(e._s(t.row.sample_type))]),e._v(" "),a("p",[a("span",[e._v("供应商编码：")]),e._v(e._s(t.row.supplier_code))]),e._v(" "),a("p",[a("span",[e._v("供应商名称：")]),e._v(e._s(t.row.supplier_name))]),e._v(" "),a("p",[a("span",[e._v("采样链接：")]),e._v(e._s(t.row.link))]),e._v(" "),a("p",[a("span",[e._v("联系人/电话：")]),e._v(e._s(t.row.phone))])])]}},{key:"order_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("PO：")]),e._v(e._s(t.row.po))]),e._v(" "),a("p",[a("span",[e._v("订单号：")]),e._v(e._s(t.row.supplier_code))])])]}},{key:"logistics_info",fn:function(t){return[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.handleShowLogisticsInfo(t.row)}}},[a("p",[a("span",[e._v("承运快递：")]),e._v(e._s(t.row.carrier_name))]),e._v(" "),a("p",[a("span",[e._v("快递单号：")]),e._v(e._s(t.row.track_number))]),e._v(" "),a("p",[a("span",[e._v("最新物流：")]),e._v(e._s(t.row.new_ship_info))])])]}},{key:"ope_log",fn:function(t){return[a("div",[a("p",[a("span",[e._v("开发人：")]),e._v(e._s(t.row.devp_user+" "+(t.row.dv_create_time||"")))]),e._v(" "),a("p",[a("span",[e._v("创建人：")]),e._v(e._s(t.row.create_user+" "+t.row.create_time))])])]}},{key:"track_time",fn:function(t){return[a("div",[a("p",[a("span",[e._v("创建时效：")]),e._v(e._s(t.row.create_time_slot))]),e._v(" "),a("p",[a("span",[e._v("付款时效：")]),e._v(e._s(t.row.pay_time_slot))]),e._v(" "),a("p",[a("span",[e._v("寄出时效：")]),e._v(e._s(t.row.send_time_slot))]),e._v(" "),a("p",[a("span",[e._v("到货时效：")]),e._v(e._s(t.row.advice_time_slot))]),e._v(" "),a("p",[a("span",[e._v("跟单时效：")]),e._v(e._s(t.row.documentary_time_slot))])])]}},{key:"purchase_status",fn:function(t){return["待付款"==t.row.purchase_status||"待发货"==t.row.purchase_status||"待收货"==t.row.purchase_status||"待退样"==t.row.purchase_status?a("div",[a("span",{staticClass:"ui-state_circle state_orange"}),e._v(e._s(t.row.purchase_status)+"\n            ")]):e._e(),e._v(" "),"已收货"==t.row.purchase_status?a("div",[a("span",{staticClass:"ui-state_circle state_blue"}),e._v(e._s(t.row.purchase_status)+"\n            ")]):e._e()]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("LogisticsInfo",{attrs:{show:e.isShowLogisticsInfo,detail:e.logisticsInfo},on:{"update:show":function(t){e.isShowLogisticsInfo=t}}})],1)},staticRenderFns:[]};var ea=a("VU/8")(Yt,Xt,!1,function(e){a("5+7i")},"data-v-e1701182",null).exports,ta={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",purchaseNo:"",productList:[],supplier:"",orderState:"",productName:"",aliOrder:"",opeUser:"",opeTime:"",function:""},optionList:{productLists:[],orderStateList:{},functionList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:[]}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","sampleTrackRecordInfo"])),methods:d()({},Object(h.b)(["GetSampleTrackRecordInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,getDevImg:function(e){return JSON.parse(e)},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_track_record));var a=d()({spu:this.queryData.productSPU,po:this.queryData.purchaseNo,order_number:this.queryData.aliOrder,category_id:this.queryData.productList,supplier_code:this.queryData.supplier,sample_type:this.queryData.orderState,title_cn:this.queryData.productName,opera_user:this.queryData.opeUser,opera_time_start:this.queryData.opeTime[0],opera_time_end:this.queryData.opeTime[1],function:this.queryData.function},t);this.GetSampleTrackRecordInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",purchaseNo:"",productList:[],supplier:"",orderState:"",productName:"",aliOrder:"",opeUser:"",opeTime:"",function:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList})):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_track_record",value:o()(this.queryData)}),this.optionList.productLists=e.drop_down_box.category_list.data,this.optionList.orderStateList=e.drop_down_box.sample_order_type,this.optionList.functionList=e.drop_down_box.function,this.tableData=e.data.data_list.value,this.tableKey=[].concat(z()(e.data.data_list.key)),this.tableKey.unshift("序号"),this.tableProps=["index","spu","wait_time","link","title_cn","category_path","supplier_name","order_info","logistics_info","ope_log","purchase_status","operation_status"],this.tableWidth=["60","100","210","70","300","150","250","160","200","220","80","100"],this.pageData.currentList=1*e.data.paging_data.limit,this.pageData.currentPage=1*e.data.paging_data.offset,this.pageData.currentTotal=1*e.data.paging_data.total}}),created:function(){this.thisVm=this;try{console.log(this.sampleTrackRecordInfo),"{}"===o()(this.sampleTrackRecordInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.sample_track_record),this.handleQueryInfoCallBack(this.sampleTrackRecordInfo))}catch(e){console.log(e)}}},aa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"采购单号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.purchaseNo,callback:function(t){e.$set(e.queryData,"purchaseNo",t)},expression:"queryData.purchaseNo"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productLists,props:{label:"category_name",value:"id"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier,callback:function(t){e.$set(e.queryData,"supplier",t)},expression:"queryData.supplier"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"订单状态",template:"select",options:e.optionList.orderStateList},model:{value:e.queryData.orderState,callback:function(t){e.$set(e.queryData,"orderState",t)},expression:"queryData.orderState"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"阿里订单号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.aliOrder,callback:function(t){e.$set(e.queryData,"aliOrder",t)},expression:"queryData.aliOrder"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能",template:"select",options:e.optionList.functionList},model:{value:e.queryData.function,callback:function(t){e.$set(e.queryData,"function",t)},expression:"queryData.function"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.opeUser,callback:function(t){e.$set(e.queryData,"opeUser",t)},expression:"queryData.opeUser"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.opeTime,callback:function(t){e.$set(e.queryData,"opeTime",t)},expression:"queryData.opeTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"link",fn:function(t){return[""!==t.row.dev_imgs?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+e.getDevImg(t.row.dev_imgs)+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(e.getDevImg(t.row.dev_imgs))}}})])])]):e._e()]}},{key:"product_datum",fn:function(e){}},{key:"order_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("PO：")]),e._v(e._s(t.row.po))]),e._v(" "),a("p",[a("span",[e._v("订单号：")]),e._v(e._s(t.row.supplier_code))])])]}},{key:"logistics_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("承运快递：")]),e._v(e._s(t.row.carrier_name))]),e._v(" "),a("p",[a("span",[e._v("快递单号：")]),e._v(e._s(t.row.track_number))]),e._v(" "),a("p",[a("span",[e._v("最新物流：")]),e._v(e._s(t.row.new_ship_info))])])]}},{key:"ope_log",fn:function(t){return[a("div",[a("p",[a("span",[e._v("开发人：")]),e._v(e._s(t.row.devp_user+" "+(t.row.dv_create_time||"")))]),e._v(" "),a("p",[a("span",[e._v("创建人：")]),e._v(e._s(t.row.create_user+" "+t.row.create_time))])])]}},{key:"wait_time",fn:function(t){return[a("div",[a("p",[a("span",[e._v("创建时效：")]),e._v(e._s(t.row.create_time_slot))]),e._v(" "),a("p",[a("span",[e._v("付款时效：")]),e._v(e._s(t.row.pay_time_slot))]),e._v(" "),a("p",[a("span",[e._v("到货时效：")]),e._v(e._s(t.row.advice_time_slot))])])]}},{key:"purchase_status",fn:function(t){return["1"==t.row.purchase_spu_status||"2"==t.row.purchase_spu_status||"3"==t.row.purchase_spu_status||"4"==t.row.purchase_spu_status?a("div",[a("span",{staticClass:"ui-state_circle state_orange"}),e._v(e._s(t.row.purchase_status)+"\n            ")]):e._e(),e._v(" "),"5"==t.row.purchase_spu_status?a("div",[a("span",{staticClass:"ui-state_circle state_blue"}),e._v(e._s(t.row.purchase_status)+"\n            ")]):e._e()]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)},staticRenderFns:[]};var ia=a("VU/8")(ta,aa,!1,function(e){a("PjE9")},"data-v-62187380",null).exports,sa={name:"FirstGroupEdit",props:{title:{type:String,default:"编辑一级小组"},show:{type:Boolean,default:!1},optionList:{type:Object,default:function(){return{}}},defaultVal:{type:Object,default:function(){return{}}}},data:function(){return{labelWidth:"70px",firstEdit:{oldGroupName:"",oldManage:"",groupName:"",manage:""},firstRule:{groupName:f.a.RULE_CONFIG.requiredBlur,oldGroupName:f.a.RULE_CONFIG.requiredBlur,manage:f.a.RULE_CONFIG.requiredChange,oldManage:f.a.RULE_CONFIG.requiredChange}}},methods:{handleCancel:function(){this.$refs.firstEdit.resetFields(),this.$emit("update:show",!1)},handleConfirm:function(){var e=this;this.$refs.firstEdit.validate(function(t){if(t){var a={manage:e.firstEdit.manage,groupName:e.firstEdit.groupName,id:e.firstEdit.oldGroupName};e.$emit("confirm",a)}})}}},na={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,top:"10vh",width:"400px","custom-class":"ui-com_edit",visible:e.show},on:{close:e.handleCancel}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,rules:e.firstRule,size:"small"}},[a("span",{staticClass:"ui-title"},[e._v("修改前")]),e._v(" "),a("el-form-item",{attrs:{label:"一级小组","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.firstEdit.oldGroupName,callback:function(t){e.$set(e.firstEdit,"oldGroupName",t)},expression:"firstEdit.oldGroupName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"小组经理","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:""},model:{value:e.firstEdit.oldManage,callback:function(t){e.$set(e.firstEdit,"oldManage",t)},expression:"firstEdit.oldManage"}},e._l(e.optionList.groupManagerList,function(e){return a("el-option",{key:e.userNumber,attrs:{label:e.userName,value:e.userNumber}})}))],1),e._v(" "),a("span",{staticClass:"ui-title"},[e._v("修改后")]),e._v(" "),a("el-form-item",{attrs:{prop:"groupName",label:"一级小组","label-width":e.labelWidth}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理","label-width":e.labelWidth}},[a("el-select",{model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.groupManagerList,function(e){return a("el-option",{key:e.userNumber,attrs:{label:e.userName,value:e.userNumber}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirm}},[e._v("确认")])],1)],1)},staticRenderFns:[]};var oa={components:{FirstGroupEdit:a("VU/8")(sa,na,!1,function(e){a("PC9D")},"data-v-212e5528",null).exports},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,groupType:"6",queryData:{groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:"",firstGroup:""},optionList:{userList:[],canClassifyList:[],areaList:[],whetherList:[],devTypeList:[],groupTopList:[],searchUserList:[]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isFirstAddShow:!1,isEditFirstShow:!1,firstEdit:{manage:"",groupName:"",id:""},isReview:!1,isAddShow:!1,isEditShow:!1,labelWidth:"70px",editData:{groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},saveCheckId:"",editRule:{groupName:f.a.RULE_CONFIG.requiredBlur,groupManager:f.a.RULE_CONFIG.requiredChange,groupHeadman:f.a.RULE_CONFIG.requiredChange,groupUser:f.a.RULE_CONFIG.requiredChange},isProofTrue:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","sampleGroupInfo"])),methods:d()({},Object(h.b)(["GetSampleGroupInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_group_manage));var a=d()({devp_type:this.queryData.devType,category_id:this.queryData.classify[this.queryData.classify.length-1],group_name:this.queryData.groupName,top_level_pid:this.queryData.firstGroup,user_manager_id:this.queryData.groupManager,user_director_id:this.queryData.groupDirector},t);this.GetSampleGroupInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleToggleFirst:function(e){this.queryData.firstGroup=e.top_level_pid,this.handleQueryInfo({limit:this.pageData.currentList})},handleResetQueryInfo:function(){this.queryData={groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleDeleteInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.id,group_type:t.groupType};Object(et.c)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleDeleteFirstInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.top_level_pid,group_type:t.groupType};Object(et.b)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAddFirstInfo:function(){this.isFirstAddShow=!0},handleSaveAddFirstInfo:function(){var e=this,t={user_manager_id:this.firstEdit.manage,group_name:this.firstEdit.groupName,group_type:this.groupType};this.isEditFirstShow?(t.group_id=this.firstEdit.id,Object(et.d)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleEditFirst:function(e){this.firstEdit.manage=e.user_manager_id,this.firstEdit.groupName=e.group_name,this.firstEdit.id=e.top_level_pid,this.isEditFirstShow=!0,this.isFirstAddShow=!0},handleCancelAddFirstInfo:function(){this.firstEdit={manage:"",groupName:"",id:""},this.$refs.firstEdit.resetFields(),this.isFirstAddShow=!1,this.isEditFirstShow=!1},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){"readonly"===t&&(this.isReview=!0),this.handlePlayUpEditInfo(e),this.isAddShow=!0},handlePlayUpEditInfo:function(e){this.isEditShow=!0,this.saveCheckId=e.id,this.editData.canClassify=e.group_category.map(function(e){return e.map(function(e){return e.toString()})}),this.editData.groupName=e.group_name,this.editData.parentGroup=e.top_level_pid,this.editData.groupManagerId=e.user_manager_id,this.editData.groupManager=this.optionList.userList[e.user_manager_id],this.editData.groupDirector=e.user_director_id,this.editData.groupHeadman=e.user_groupman_id,this.editData.groupUser=ie()(e.group_user_info),this.editData.area=1*e.region,this.editData.devType=1*e.devp_type,this.editData.isDiy=1*e.is_customized,this.editData.isOss=1*e.is_overseas},handleCancelEdit:function(){this.editData={groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isReview=!1},handleDelClassify:function(){1!==this.editData.canClassify.length&&this.editData.canClassify.pop()},handleAddClassify:function(){this.editData.canClassify.push([])},handleProofClassify:function(e,t){for(var a=e[e.length-1],i=0;i<this.editData.canClassify.length;i++){var s=this.editData.canClassify[i];if(t!==i&&s.indexOf(a)>-1)return this.$message.warning("适用分类选择有误！"),!0}},handleOpenProofClassify:function(e){},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){for(var a=0;a<e.editData.canClassify.length;a++)if(e.handleProofClassify(e.editData.canClassify[a],a))return;var i=[];e.editData.groupUser.forEach(function(e){i.push({user_staff_id:e})});var s={group_name:e.editData.groupName,top_level_pid:e.editData.parentGroup,user_groupman_id:e.editData.groupHeadman,user_director_id:e.editData.groupDirector,user_manager_id:e.editData.groupManagerId,group_user_info:o()(i),devp_type:e.editData.devType||0,region:e.editData.area||0,group_type:e.groupType||0,is_customized:e.editData.isDiy||0,is_overseas:e.editData.isOss||0,group_category:o()(e.editData.canClassify)};e.isEditShow?(s.group_id=e.saveCheckId,Object(et.f)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.g)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&this.handleCancelEdit(),this.isFirstAddShow&&this.handleCancelAddFirstInfo()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_group_manage",value:o()(this.queryData)}),this.optionList.devTypeList=e.data_list.drop_down_data.devp_type_list,this.optionList.searchUserList=e.data_list.drop_down_data.user_data,this.optionList.canClassifyList=e.data_list.drop_down_data.category_list,this.optionList.groupTopList=e.data_list.top_group_list,this.optionList.areaList=e.data_list.drop_down_data.region_list,this.optionList.userList=e.data_list.drop_down_data.user_data,this.optionList.whetherList=e.data_list.drop_down_data.whether,this.tableData=e.data_list.value,this.tableKey=e.data_list.key,this.tableProps=["index","group_name","region","devp_type_cn","group_category_cn","group_user_info","group_user_number","operation"],this.pageData.currentList=1*e.page_data.limit,this.pageData.currentPage=1*e.page_data.offset,this.pageData.currentTotal=1*e.page_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.sampleGroupInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.sample_group_manage),this.handleQueryInfoCallBack(this.sampleGroupInfo))}catch(e){console.log(e)}},watch:{"editData.parentGroup":function(e){var t=this;this.optionList.groupTopList.forEach(function(a){a.top_level_pid===e&&(t.editData.groupManager=t.optionList.userList[a.user_manager_id],t.editData.groupManagerId=a.user_manager_id)})}}},ra={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"小组名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.groupName,callback:function(t){e.$set(e.queryData,"groupName",t)},expression:"queryData.groupName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组经理",options:e.optionList.searchUserList},model:{value:e.queryData.groupManager,callback:function(t){e.$set(e.queryData,"groupManager",t)},expression:"queryData.groupManager"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组主管",options:e.optionList.searchUserList},model:{value:e.queryData.groupDirector,callback:function(t){e.$set(e.queryData,"groupDirector",t)},expression:"queryData.groupDirector"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"cascader",props:{label:"category_name",value:"id"},label:"适用分类",options:e.optionList.canClassifyList},model:{value:e.queryData.classify,callback:function(t){e.$set(e.queryData,"classify",t)},expression:"queryData.classify"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"开发类型",options:e.optionList.devTypeList},model:{value:e.queryData.devType,callback:function(t){e.$set(e.queryData,"devType",t)},expression:"queryData.devType"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("div",{staticClass:"ui-shortcut",staticStyle:{"margin-top":"0"}},[e._m(0),e._v(" "),a("ul",{staticClass:"ui-shortcut--area clearFix"},[e._l(e.optionList.groupTopList,function(t){return a("li",{on:{click:function(a){e.handleToggleFirst(t)}}},[a("div",{staticClass:"ui-title"},[a("span",[e._v(e._s(t.group_name))])]),e._v(" "),a("div",{staticClass:"ui-label"},[a("span",[e._v("经理人 "+e._s(t.number))])]),e._v(" "),a("span",{staticClass:"icon-shanchu ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleDeleteFirstInfo(t)}}}),e._v(" "),a("span",{staticClass:"icon-bianji ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleEditFirst(t)}}})])}),e._v(" "),a("li",{staticClass:"ui-shortcut--area--ope",on:{click:e.handleClickAddFirstInfo}},[a("span",{staticClass:"icon-tianjia"})])],2)]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增小组\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],otherHeight:["ui-shortcut"],showSearch:e.showSearch},scopedSlots:e._u([{key:"group_category_cn",fn:function(t){return[a("div",e._l(t.row.group_category_cn,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"region",fn:function(t){return[a("span",[e._v(e._s(e.optionList.areaList[1*t.row.region]))])]}},{key:"group_user_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("组长：")]),a("span",[e._v(e._s(t.row.user_groupman_cn))])]),e._v(" "),a("p",[a("span",[e._v("主管：")]),a("span",[e._v(e._s(t.row.user_director_cn))])]),e._v(" "),a("p",[a("span",[e._v("经理：")]),a("span",[e._v(e._s(t.row.user_manager_cn))])])])]}},{key:"group_user_number",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(Object.values(t.row.group_user_info).join(",")))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.group_user_info&&Object.values(t.row.group_user_info).length))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,"readonly")}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("操作日志")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDeleteInfo(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditFirstShow?"编辑一级小组":"新增一级小组",top:"10vh",width:"400px",visible:e.isFirstAddShow},on:{"update:visible":function(t){e.isFirstAddShow=t},close:e.handleCancelAddFirstInfo}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"groupName",label:"一级小组"}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理"}},[a("el-select",{attrs:{filterable:""},model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelAddFirstInfo}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSaveAddFirstInfo}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isReview?"预览":e.isEditShow?"编辑":"新增",top:"10vh",width:"740px","custom-class":"ui-com_edit",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("div",{staticClass:"clearFix"},[a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("二级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupName",label:"小组名称","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:e.isReview},model:{value:e.editData.groupName,callback:function(t){e.$set(e.editData,"groupName",t)},expression:"editData.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"devType",label:"开发类型","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("一级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"parentGroup",label:"一级小组","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.parentGroup,callback:function(t){e.$set(e.editData,"parentGroup",t)},expression:"editData.parentGroup"}},e._l(e.optionList.groupTopList,function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.top_level_pid}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupManager",label:"小组经理","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.groupManager,callback:function(t){e.$set(e.editData,"groupManager",t)},expression:"editData.groupManager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupDirector",label:"小组主管","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupDirector,callback:function(t){e.$set(e.editData,"groupDirector",t)},expression:"editData.groupDirector"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupHeadman",label:"小组组长","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupHeadman,callback:function(t){e.$set(e.editData,"groupHeadman",t)},expression:"editData.groupHeadman"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("适用分类")])]),e._v(" "),a("div",{staticClass:"ui-item ui-btn--layout"},[e._l(e.editData.canClassify,function(t,i){return a("el-form-item",{key:i,attrs:{prop:"canClassify"}},[a("el-cascader",{attrs:{disabled:e.isReview,"change-on-select":"",placeholder:"输入搜索",options:e.optionList.canClassifyList,props:{label:"category_name",value:"id",children:"children"},filterable:""},model:{value:e.editData.canClassify[i],callback:function(t){e.$set(e.editData.canClassify,i,t)},expression:"editData.canClassify[index]"}})],1)}),e._v(" "),a("div",{staticClass:"ui-item--area--ope"},[e.isReview?e._e():a("span",{staticClass:"icon-shanjian",on:{click:e.handleDelClassify}}),e._v(" "),e.isReview?e._e():a("span",{staticClass:"icon-zengjia",on:{click:e.handleAddClassify}})])],2)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("小组成员")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupUser"}},[a("el-select",{attrs:{multiple:"",filterable:"",disabled:e.isReview},model:{value:e.editData.groupUser,callback:function(t){e.$set(e.editData,"groupUser",t)},expression:"editData.groupUser"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[e.isReview?e._e():a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),e.isReview?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-shortcut--title"},[t("span",[this._v("一级小组")])])}]};var la=a("VU/8")(oa,ra,!1,function(e){a("K0+W")},"data-v-110a4f8a",null).exports;function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample/sample_scan/display_codes",t)}var ua={name:"SampleScan",data:function(){return{thisVm:{},dialogTableVisible:!1,queryData:{user_id:"",department:2,handle_type:1,list_type:"1"},moduleTypeList:[{label:"台车&箱子",value:"1"},{label:"台车&SPU",value:"2"},{label:"SPU",value:"3"}],tableKey:["编号","商品台车","商品箱号","商品目录","商品数量","送样人","送样时间","备注说明"],tableData:[],tableWidth:[],tableProps:[],saveCheckInfo:[],detailData:[],detailKey:[],detailWidth:[],detailProps:[],cacheList:{trolleyBoxData:[],trolleySpuData:[],spuData:[]}}},computed:d()({},Object(h.c)(["queryParamsInfo","sampleScanListInfo"])),methods:d()({},Object(h.b)(["SaveSampleScanListInfo","DeleteSampleScanListInfo"]),{showDetail:function(e){var t=this;e&&(this.dialogTableVisible=!0,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_quality_control/get_box_info",t)}(d()({box_id:e},this.queryData)).then(function(e){var a=e.data;t.detailData=a.data.value,t.detailProps=ie()(a.data.key),t.detailKey=ne()(a.data.key)}))},handleUserInfo:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_scan",value:o()(this.queryData)})},handleSelectAbout:function(e){var t=this;this.tableData.forEach(function(a,i){1===parseInt(t.queryData.list_type,10)&&e.data.pro_trolley.trolley_code?e.data.pro_trolley.trolley_code===a.pro_trolley.trolley_code&&e.data.num.num!==a.num.num&&e.refObj.toggleRowSelection(t.tableData[i]):e.data.trolley_num.trolley_code&&e.data.trolley_num.trolley_code===a.trolley_num.trolley_code&&e.data.num.num!==a.num.num&&e.refObj.toggleRowSelection(t.tableData[i])})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},selectId:function(){return[].concat(z()(this.saveCheckInfo))},handleDelScan:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.saveCheckInfo.length&&0===e.length)return this.$message.warning("请勾选数据！");e=e.length>0?e:this.saveCheckInfo;var t=[].concat(z()(this.tableData));e.forEach(function(e){var a=e.num;t=t.filter(function(e){return e.num!==a})}),this.handleQueryInfoCallBack(t)},handleSendScan:function(){var e=this;if(!this.saveCheckInfo.length)return this.$message.warning("请勾选数据！");var t=[].concat(z()(this.saveCheckInfo));this.$confirm("确认提交？","提示",{type:"warning"}).then(function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/sample/Sample_scan/submit_codes",t)})({handle_type:parseInt(e.queryData.list_type,10),submit_data:e.getSumbitData(e.saveCheckInfo)}).then(function(a){var i=a.data;return 1===i.status?(e.handleDelScan(t),e.$message.success(i.errorMess||"提交成功！")):e.$message.warning(i.errorMess||"提交失败！")})})},getSumbitData:function(e){var t=function(e,t){return t=Array.isArray(t)?[].concat(z()(t)):t.split(","),e.map(function(e){return d()({},t.reduce(function(t,a){return d()({},t,we()({},a,e[a]))},{}))})};switch(parseInt(this.queryData.list_type,10)){case 1:return t(e,"trolley_id,box_id");case 2:return t(e,"trolley_id,spu");case 3:return t(e,"spu");default:return null}},handleQueryInfo:function(){switch(this.queryData.list_type){case"1":this.handleQueryInfoCallBack(this.cacheList.trolleyBoxData);break;case"2":this.handleQueryInfoCallBack(this.cacheList.trolleySpuData);break;case"3":this.handleQueryInfoCallBack(this.cacheList.spuData)}},handleScanInfo:function(){var e=this;ca({handle_type:this.queryData.list_type,code:this.queryData.code}).then(function(t){var a=t.data;1===a.status?(e.queryData.code="",e.handleQueryInfoCallBack(a.list)):e.$message({message:a.errMsg,type:"warning"})})},handleQueryInfoCallBack:function(e){var t=this.queryData.list_type;if(Object(m.j)(e)){var a=[].concat(z()(e));for(var i in a){var s=parseInt(i,10)+1;a[i]=_t()({num:s},a[i])}this.tableData=a,this.tableProps=ie()(a[0])}else this.tableData=[];switch(t){case"1":this.tableKey=["编号","商品台车","商品箱号","商品目录","商品数量","送样人","送样时间","备注说明"],this.cacheList.trolleyBoxData=e,this.tableWidth[4]="90px",this.tableWidth[5]="200px",this.tableWidth[7]="300px";break;case"2":this.tableKey=["编号","商品台车","商品SPU","商品名称","商品目录","送样人","送样时间","关联SKU","样品数量","备注说明"],this.cacheList.trolleySpuData=e;break;case"3":this.tableKey=["编号","商品SPU","商品名称","商品目录","样品数量","送样时间","送样人","关联SKU","备注说明"],this.cacheList.spuData=e}this.tableWidth[0]="90px","1"!==t&&(this.tableWidth[5]="90px",this.tableWidth[6]="200px",this.tableWidth[9]="300px"),this.SaveSampleScanListInfo(this.cacheList)},handleToggleTableInfo:function(e){this.queryData.list_type=e,this.handleQueryInfo()}}),created:function(){Object(m.j)(this.sampleScanListInfo)?(this.cacheList=this.sampleScanListInfo,this.handleQueryInfo()):ca({handle_type:this.queryData.list_type,is_frist:1,code:""}).then(function(e){var t=e.data;console.log(t,"8888")});this.detailWidth[0]="90px",this.detailWidth[4]="90px",this.queryParamsInfo.sample_scan&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_scan))},beforeDestory:function(){}},da={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-scan_page ui-main-module"},[a("div",{staticClass:"ui-head"},[a("ul",{staticClass:"ui-head-ope_item"},[a("li",{staticClass:"ui-head-ope_item--layout"},[a("el-input",{attrs:{size:"small",autofocus:"",placeholder:"商品台车/精品SPU/试卖SPU"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleScanInfo(t):null}},model:{value:e.queryData.code,callback:function(t){e.$set(e.queryData,"code",t)},expression:"queryData.code"}})],1)])]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleDelScan}},[a("i",{staticClass:"icon-shanchusaoma icon-danger"}),e._v("删除扫码\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleSendScan}},[a("i",{staticClass:"icon-tijiaoshenhe icon-main"}),e._v("提交送样\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,otherHeight:["ui-fn-module","ui-head"]},on:{selectd:e.handleSelectAbout,checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"create_user",fn:function(t){return[a("p",[e._v("开发部："+e._s(t.row.create_user[0]))]),e._v(" "),a("p",[e._v("品控部："+e._s(t.row.create_user[1]))])]}},{key:"create_time",fn:function(t){return[a("p",[e._v("开发部："+e._s(t.row.create_time[0]))]),e._v(" "),a("p",[e._v("品控部："+e._s(t.row.create_time[1]))])]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.list_type===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("el-dialog",{attrs:{title:"查看台车明细",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.detailKey,tableProps:e.detailProps,tableData:e.detailData,tableWidth:e.detailWidth},scopedSlots:e._u([{key:"num",fn:function(t){return[e._v("\n                "+e._s(t.row.num.num)+"\n            ")]}},{key:"pro_spu",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_spu.spu)+"\n            ")]}},{key:"pro_name",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_name.product_name)+"\n            ")]}},{key:"pro_category",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_category.one_category_name)+"\n            ")]}},{key:"pro_amount",fn:function(t){return[e._v("\n                "+e._s(t.row.pro_amount.sku_count)+"\n            ")]}},{key:"bind_sku",fn:function(t){return[e._v("\n                "+e._s(t.row.bind_sku.sku)+"\n            ")]}}])})],1)],1)},staticRenderFns:[]};var pa=a("VU/8")(ua,da,!1,function(e){a("OOcQ")},"data-v-6716876e",null).exports;function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_quality_control/handle_task",t)}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/get_reject_type",t)}var ma={data:function(){return{showSearch:!0,queryData:{trolley_code:"",box_code:"",category_id:"",createTime:[],priority:"",paymentMode:"",spu:"",product_name:"",send_user:"",list_type:"1",productList:[]},optionList:{priorityList:{},sendUserList:{},moduleTypeList:[{label:"台车&箱子",value:"1"},{label:"台车&SPU",value:"2"},{label:"SPU",value:"3"}],workerList:{1001:"张三",1002:"李四"},productList:[]},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],isShowAssign:!1,isShowPriority:!1,isTabClick:!1}},computed:d()({},Object(h.c)(["queryParamsInfo","loginInfo"])),methods:{handleSelectAbout:function(e){var t=this;this.tableData.forEach(function(a,i){1===parseInt(t.queryData.list_type)&&e.data.pro_trolley.trolley_code?e.data.pro_trolley.trolley_code===a.pro_trolley.trolley_code&&e.data.num.num!==a.num.num&&e.refObj.toggleRowSelection(t.tableData[i]):e.data.trolley_num.trolley_code&&e.data.trolley_num.trolley_code===a.trolley_num.trolley_code&&e.data.num.num!==a.num.num&&e.refObj.toggleRowSelection(t.tableData[i])})},handleQueryInfo:function(){var e=this,t={department:2,trolley_code:this.queryData.trolley_code,box_code:this.queryData.box_code,category_id:this.queryData.productList.join("->"),start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1],priority:this.queryData.priority,spu:this.queryData.spu,product_name:this.queryData.product_name,send_user:this.queryData.send_user,list_type:this.queryData.list_type};console.log(t,"obj11"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_quality_control/check_pending_list",t)}(t).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={trolley_code:"",box_code:"",category_id:"",createTime:[],priority:"",paymentMode:"",spu:"",product_name:"",send_user:"",list_type:this.queryData.list_type},this.handleQueryInfo()},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleToggleTableInfo:function(e){this.queryData.list_type=e,this.isTabClick=!0,this.handleQueryInfo()},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_inspect_list",value:o()(this.queryData)}),console.log(e,"data"),this.optionList.priorityList=e.select_list.priority,this.optionList.sendUserList=e.select_list.send_user,this.optionList.workerList=e.select_list.qc_user,this.optionList.productList=[].concat(z()(e.select_list.category_list.data)),e.data.value?(this.tableData=e.data.value,console.log(this.tableData,99),this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key)):this.tableData=[]},checkedStatus:function(e){this.saveCheckInfo.length?this[e]=!0:this.$message.warning("请勾选数据！")},getIdByListType:function(){var e=this,t={box_id:[],spu:[]};return this.saveCheckInfo.forEach(function(a){1===parseInt(e.queryData.list_type)?t.box_id.push(a.pro_box.box_id):t.spu.push(a.pro_spu.spu)}),t.box_id=t.box_id.join(","),t.spu=t.spu.join(","),t},handleTaskCallBack:function(e){1===e.status?(this.$message.success("操作成功"),this.isTabClick=!0,this.handleQueryInfo()):this.$message.error(e.errorMess)},handleClickAssign:function(){this.checkedStatus("isShowAssign")},handleConfirmAssign:function(e){var t=this,a=this.getIdByListType();ha(d()({list_type:this.queryData.list_type,task_type:2,receiver:e.check,designate_user:this.loginInfo.uid},a)).then(function(e){var a=e.data;t.handleTaskCallBack(a)})},handleClickPriority:function(){this.checkedStatus("isShowPriority")},handleConfirmPriority:function(e){var t=this,a=this.getIdByListType(),i=d()({list_type:this.queryData.list_type,task_type:3,priority:e.check},a);console.log(i,111),ha(i).then(function(e){var a=e.data;console.log(a,55),t.handleTaskCallBack(a)})},handleClickTask:function(){var e=this;if(this.saveCheckInfo.length){var t=this.getIdByListType();this.$confirm("确认领取？","提示",{type:"warning"}).then(function(){ha(d()({list_type:e.queryData.list_type,task_type:1},t)).then(function(t){var a=t.data;e.handleTaskCallBack(a)})})}else this.$message.warning("请勾选数据！")}},created:function(){try{this.queryParamsInfo.sample_inspect_list&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_inspect_list)),this.handleQueryInfo()}catch(e){console.log(e)}this.tableWidth=["90px","90px"],this.tableWidth[7]="220px",this.tableWidth[10]="300px"}},fa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品台车"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.trolley_code,callback:function(t){e.$set(e.queryData,"trolley_code",t)},expression:"queryData.trolley_code"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品箱号"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入供应商代码"},model:{value:e.queryData.box_code,callback:function(t){e.$set(e.queryData,"box_code",t)},expression:"queryData.box_code"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"送样时间",template:"daterange"},model:{value:e.queryData.createTime,callback:function(t){e.$set(e.queryData,"createTime",t)},expression:"queryData.createTime"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"优先级"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.priority,callback:function(t){e.$set(e.queryData,"priority",t)},expression:"queryData.priority"}},e._l(e.optionList.priorityList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small",placeholder:"支持模糊查询"},model:{value:e.queryData.spu,callback:function(t){e.$set(e.queryData,"spu",t)},expression:"queryData.spu"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small",placeholder:"支持模糊查询"},model:{value:e.queryData.product_name,callback:function(t){e.$set(e.queryData,"product_name",t)},expression:"queryData.product_name"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"送样人"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.send_user,callback:function(t){e.$set(e.queryData,"send_user",t)},expression:"queryData.send_user"}},e._l(e.optionList.sendUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo()}}},[e._v("查询")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickTask}},[a("i",{staticClass:"icon-lingqurenwu icon-main"}),e._v("领取任务\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickPriority}},[a("i",{staticClass:"icon-youxianji icon-plain"}),e._v("优先级\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon-warn"}),e._v("指派任务\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,otherHeight:["ui-fn-module"],showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"num",fn:function(t){return[a("span",[e._v(e._s(t.row.num.num))])]}},{key:"priority",fn:function(t){return[a("span",[e._v(e._s(t.row.priority.priority))])]}},{key:"pro_trolley",fn:function(t){return[a("span",[e._v(e._s(t.row.pro_trolley.trolley_code))])]}},{key:"pro_box",fn:function(t){return[a("span",[e._v(e._s(t.row.pro_box.box_code))])]}},{key:"pro_category",fn:function(t){return[a("span",[e._v("一级目录")])]}},{key:"pro_amount",fn:function(t){return[a("p",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.showDetail(t.row.pro_box.box_id)}}},[e._v("\n                "+e._s(t.row.pro_amount.sku_count))])]}},{key:"send_sample_time",fn:function(t){return[a("p",[e._v("开发部："+e._s(t.row.send_sample_time.modify_time))]),e._v(" "),a("p",[e._v("品控部："+e._s(t.row.send_sample_time.handle_time))])]}},{key:"send_sample_user",fn:function(t){return[a("p",[e._v("开发部："+e._s(t.row.send_sample_user.modify_user))]),e._v(" "),a("p",[e._v("品控部："+e._s(t.row.send_sample_user.handle_user))])]}},{key:"remark",fn:function(t){return[t.row.remark.remark_user?a("p",[e._v("用户名："+e._s(t.row.remark.remark_user)+"\n                备注信息："+e._s(t.row.remark.remark))]):e._e(),e._v(" "),t.row.remark.qc_remark?a("p",[e._v("用户名："+e._s(t.row.remark.qc_remark_user)+"\n                备注信息："+e._s(t.row.remark.qc_remark))]):e._e()]}},{key:"trolley_num",fn:function(t){return[a("span",[e._v(e._s(t.row.trolley_num.trolley_code))])]}},{key:"pro_spu",fn:function(t){return[a("span",[e._v(e._s(t.row.pro_spu.spu))])]}},{key:"pro_name",fn:function(t){return[a("span",[e._v(e._s(t.row.pro_name.category_name))])]}},{key:"bind_sku",fn:function(t){return[a("span",[e._v(e._s(t.row.bind_sku.sku))])]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.list_type===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAssign,title:"指派任务",type:"select",formLabel:"指派任务",option:e.optionList.workerList},on:{"update:visible":function(t){e.isShowAssign=t},confirm:e.handleConfirmAssign}}),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowPriority,title:"优先级",type:"select",formLabel:"优先级",option:e.optionList.priorityList},on:{"update:visible":function(t){e.isShowPriority=t},confirm:e.handleConfirmPriority}})],1)},staticRenderFns:[]};var va=a("VU/8")(ma,fa,!1,function(e){a("1b8j")},"data-v-7dc599bd",null).exports,ga=a("Xxa5"),ya=a.n(ga),ba=a("exGp"),ka=a.n(ba);var Da={name:"SKUPage",props:["row","sku"],data:function(){return{testCheck:[],editShowArea:["1","2","3","4","5","6"],tableKey:["商品SKU","商品名称","产品目录","样品类型","供应商资料"],tableProps:["sku","good_name","category_path","sample_type","good_info"],optionList:{packTypeList:{},brandAttrList:{},attrCheckList:{},countryList:{},infringementType:{},platformList:{},exceptionList:[],testList:[]},editData:{sku_basic_info:{},sku_test_list:{test_list:[]},sellingPoint:["","",""],exceptionRecord:[],rejectData:[],packType:"",packWeight:"",packLength:"",sampleWeight:"",sampleRemarks:"",packList:"",brandAttr:"",productBrand:"",productModel:"",isHaveLogo:"",materialQuality:"",productUse:"",workPrinciple:"",isTort:"",isCheckPrice:"",isEmpower:"",isDisSales:"",checkPriceInfo:[[{},{},{}]],tortInfo:[[{},{}]],disSalesInfo:[[{},{}]],empowerInfo:{},publishAttr:[],orderAttr:[],orderAttrFile:{},basisAttr:[],specialAttr:[],batteryAttr:[],batteryInfo:[],isBanAttr:[],banInfo:"",modelAttr:[],overseas:[],certificateType:[],certificateTypeInfo:"",instructions:[],instructionsInfo:""},editRule:{},showAttrHideKey:{batteryAttr:["内置电池","配套电池","纯电池"],isBanAttr:["管制刀具"],certificateType:["其它"],instructions:["其它"],orderAttr:["海外直发"]},saveFileData:{appendixDatum:[],devImage:[]},saveUrlFile:{devImage:[],appendixDatum:[]},lookImageUrl:"",isShowLookImage:!1,isIndeterminate:!1,checkAllSku:!1,checkSku:[],syncLabelCheck:{devImageSync:[],productPackSync:[],productReportSync:[],sampleAbnormalSync:[]},syncCheck:[],syncIsNoAllCheck:[],syncCheckArea:[["sku_pack_request_info.shipment_pack_type","sku_pack_request_info.buffer_pack_type"],["sku_qc_report_info.qc_grade","sku_qc_report_info.qc_sample_scheme","sku_qc_report_info.qc_detail_list","sku_qc_report_info.qc_remark"],["exceptionRecord"]],showChild:!1,testChildList:[],generateTestList:[],exceptionDefault:{}}},computed:{tableData:function(){return"{}"===o()(this.row)?[]:[d()({},this.row,{sku:this.sku})]},skuList:function(){var e=[];return this.$parent.row&&this.$parent.row.sku&&(e=this.$parent.row.sku.split(",")),e},firstUrl:function(){return f.a.PRODUCTION_PATH}},created:function(){this.handleInitData()},methods:{querySearch:function(e,t){var a=this.optionList.testList;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return t.value.toLowerCase().indexOf(e.toLowerCase())>=0}},handleRecordDeleteInput:function(e){this.editData.exceptionRecord.splice(e,1)},handleRecordAddInput:function(e){this.editData.exceptionRecord.splice(e+1,0,_t()({},this.exceptionDefault))},recordTypeChange:function(e){var t=e.recordList.find(function(t){return e.recordType===t.id});e.description=t.value},addTestInfo:function(e){var t=this,a=e.value.split(/\d['、']/);0===a[0].length&&a.splice(0,1),a.forEach(function(e){t.editData.sku_qc_report_info.qc_detail_list.push({val:e})})},changeGrade:function(e){var t=this.editData.sku_qc_report_info.qc_grade_list.find(function(t){return t.grade==e});this.editData.sku_qc_report_info.qc_sample_scheme=t.sampling_scheme},changeShipmentPack:function(){var e=this,t=this.editData.sku_pack_request_info;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/get_shipment_pack_info",t)})({buffer_pack_type:t.buffer_pack_type,pur_weight_pack:t.sample_pack_weight,size:t.sample_pack_size,shipment_pack_type:t.shipment_pack_type}).then(function(t){var a=t.data;e.editData.sku_pack_request_info=_t()(e.editData.sku_pack_request_info,a.data)})},changeBufferPack:function(){var e=this,t=this.editData.sku_pack_request_info;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/get_buffer_pack_info",t)})({buffer_pack_type:t.buffer_pack_type,pur_weight_pack:t.sample_pack_weight,size:t.sample_pack_size}).then(function(t){var a=t.data;e.editData.sku_pack_request_info=_t()(e.editData.sku_pack_request_info,a.data)})},handleSaveFileList:function(e,t){t.image=e.url,t.file=e.raw},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleDeleteFile:function(e,t){this.saveFileData[t].splice(e,1),this.saveUrlFile[t].splice(e,1)},handleAddInput:function(e,t){e.splice(t,0,{val:""})},handleDeleteInput:function(e,t){e.splice(t,1)},autoAddActiveClass:function(e,t){return e[t]},autoShowHideAttrKey:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{label:"attribute_value_cn",value:"id"};if(!e)return!1;if(Array.isArray(e)){var s=!0,n=!1,o=void 0;try{for(var r,l=U()(e);!(s=(r=l.next()).done);s=!0){var c=r.value;try{if(this.editData[t].indexOf(c[i.value])>-1){var u=this.showAttrHideKey[t].indexOf(c[i.label]);if(u>-1&&u===a)return!0}}catch(e){}}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return!1}},handleSyncCheckLabel:function(e,t,a){this.$set(this.syncLabelCheck[e],t,!this.syncLabelCheck[e][t]),this.handleSyncCheckChange(a,e)},handleSyncCheckChange:function(e,t){var a=!0,i=!0;if(this.saveFileData[t.replace("Sync","")])for(var s=0;s<this.saveFileData[t.replace("Sync","")].length;s++)this.syncLabelCheck[t][s]?i=!1:a=!1;else for(var n=0;n<this.syncCheckArea[e].length;n++)this.syncLabelCheck[t][n]?i=!1:a=!1;a?(this.syncCheck[e]=!0,this.syncIsNoAllCheck[e]=!1):i?(this.syncCheck[e]=!1,this.syncIsNoAllCheck[e]=!1):this.syncIsNoAllCheck[e]=!0},handleSyncCheckAllChange:function(e,t){if(this.saveFileData[t.replace("Sync","")])if(this.syncCheck[e]){for(var a=0;a<this.saveFileData[t.replace("Sync","")].length;a++)this.syncLabelCheck[t][a]=!0;this.syncIsNoAllCheck[e]=!1}else{for(var i=0;i<this.saveFileData[t.replace("Sync","")].length;i++)this.syncLabelCheck[t][i]=!1;this.syncIsNoAllCheck[e]=!1}else if(this.syncCheck[e]){for(var s=0;s<this.syncCheckArea[e].length;s++)this.syncLabelCheck[t][s]=!0;this.syncIsNoAllCheck[e]=!1}else{for(var n=0;n<this.syncCheckArea[e].length;n++)this.syncLabelCheck[t][n]=!1;this.syncIsNoAllCheck[e]=!1}},handleSaveOrSubmitInfo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.editData,i=[];this.editData.sku_qc_report_info.qc_detail_list&&this.editData.sku_qc_report_info.qc_detail_list.forEach(function(e){i.push(e.val)});var s=[];this.editData.exceptionRecord&&this.editData.exceptionRecord.forEach(function(e){s.push({record_type:e.recordType,abnormity_description:e.description,solution:e.solution,image:e.file})});var n={sku:this.sku,spu:this.row.spu[0],qc_detail_list:i,sku_exception_record:s};n="3"===e?_t()(n,{buffer_pack_type:a["sku_pack_request_info.buffer_pack_type"],shipment_pack_type:a["sku_pack_request_info.shipment_pack_type"],qc_grade:a["sku_qc_report_info.qc_grade"],qc_sample_scheme:a["sku_qc_report_info.qc_sample_scheme"],qc_remark:a["sku_qc_report_info.qc_remark"]}):_t()(n,{sample_pack_type:a.sku_pack_request_info.sample_pack_type,sample_pack_weight:a.sku_pack_request_info.sample_pack_weight,sample_pack_size:a.sku_pack_request_info.sample_pack_size,buffer_pack_type:a.sku_pack_request_info.buffer_pack_type,buffer_pack_model:a.sku_pack_request_info.buffer_pack_model,buffer_pack_request:a.sku_pack_request_info.buffer_pack_request,shipment_pack_type:a.sku_pack_request_info.shipment_pack_type,shipment_pack_model:a.sku_pack_request_info.shipment_pack_model,shipment_pack_request:a.sku_pack_request_info.shipment_pack_request,add_pack_price:a.sku_pack_request_info.add_pack_price,estimate_shipment_weight:a.sku_pack_request_info.estimate_shipment_weight,estimate_shipment_size:a.sku_pack_request_info.estimate_shipment_size,qc_grade:a.sku_qc_report_info.qc_grade,qc_sample_scheme:a.sku_qc_report_info.qc_sample_scheme,qc_remark:a.sku_qc_report_info.qc_remark});var o=new FormData,r=function(e){(n[e]||0===n[e])&&(Array.isArray(n[e])?n[e].forEach(function(t,a){if("string"==typeof t)o.append(e+"["+a+"]",t);else{var i=ie()(t),s=ne()(t);i.forEach(function(t,i){o.append(e+"["+a+"]["+t+"]",s[i])})}}):o.append(e,n[e]||""))};for(var l in n)r(l);switch(e){case"3":if(this.checkSku.length<=0)return this.$message.warning("请选中同步的sku!");this.checkSku.forEach(function(e,t){o.append("sync_sku["+t+"]",e)}),function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/sync",e)}(o).then(function(e){e.data});break;case"1":(function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/save",e)})(o).then(function(e){var a=e.data;a.status?t.$message.success("操作成功"):t.$message.error(a.errorMess)});break;case"2":(function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/check",e)})(o).then(function(e){var a=e.data;t.handleOperationCallBack(a)});break;case"4":var c=!0,u=!1,d=void 0;try{for(var p,h=U()(n.sku_exception_record);!(c=(p=h.next()).done);c=!0){var _=p.value;if(!_.record_type)return void this.$message.warning("退样类型不能为空！");if(!_.abnormity_description)return void this.$message.warning("产品异常描述不能为空！")}}catch(e){u=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw d}}(function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/reject",e)})(o).then(function(e){var a=e.data;a.status?(t.$message.success("操作成功"),t.$emit("reject",t.sku)):t.$message.error(a.errorMess)})}},handleRelevanceSkuChange:function(e){var t=e.length;this.checkAllSku=t===this.skuList.length,this.isIndeterminate=t>0&&t<this.skuList.length},handleCheckAllChange:function(e){this.checkSku=e?this.skuList:[],this.isIndeterminate=!1},handleSyncSkuInfo:function(){var e=this,t=["productPackSync","productReportSync","sampleAbnormalSync","devImageSync"],a=[];if(this.syncIsNoAllCheck.forEach(function(i,s){(i||e.syncCheck[s])&&e.syncLabelCheck[t[s]].forEach(function(t,i){t&&a.push(e.syncCheckArea[s][i])})}),a.length<=0)return this.$message.warning("请选择同步的内容!");var i=d()({},{appendixDatum:[],devImage:[]});a.forEach(function(t){var a=t.split(".");a.length>1?i[t]=e.editData[a[0]][a[1]]:i[t]=e.editData[a[0]]}),this.handleSaveOrSubmitInfo("3",i)},handleInitData:function(){var e=this,t=this.$parent.editPageData[this.sku];this.editData=_t()(this.editData,t),this.editData.sku_test_list.test_list.forEach(function(t){var a=t.value.split(/\d['、']/);0===a[0].length&&a.splice(0,1),a.forEach(function(t){e.optionList.testList.push({value:t})})});var a=this.editData.sku_qc_report_info.qc_detail_list;this.editData.sku_qc_report_info.qc_detail_list=[],a.forEach(function(t){e.editData.sku_qc_report_info.qc_detail_list.push({val:t})}),this.optionList.attrCheckList=t.sku_attr_info.attribute,this.optionList.exceptionList=t.exception_list,this.exceptionDefault={recordList:this.optionList.exceptionList,recordType:"",description:"",solution:"",image:""},0===this.editData.sku_exception_record.length?this.editData.exceptionRecord.push(_t()({},this.exceptionDefault)):this.editData.sku_exception_record.forEach(function(t){var a={recordList:e.optionList.exceptionList,recordType:t.record_type,description:t.abnormity_description,solution:t.solution,image:"undefined"!==t.image?t.image:""};if(t.image&&"undefined"!==t.image){var i=/\/[0-9A-Za-z._-]+$/.exec(t.image)||["未知图片.jpeg"];Object(m.i)(e.firstUrl+"/"+t.image,i[0].replace("/",""),function(e){a.file=e})}e.editData.exceptionRecord.push(a)});var i=function(a,i){t.sku_attr_info.sku_attr_select[i]&&(e.editData[a]=t.sku_attr_info.sku_attr_select[i].split(","))};i("publishAttr","publish"),i("orderAttr","order_attribute"),i("basisAttr","basic"),i("specialAttr","special_attr"),i("batteryAttr","battery_attr"),i("isBanAttr","prohibited"),i("modelAttr","shape_attribute"),i("overseas","overseas_attribute"),i("certificateType","certificate_type"),i("instructions","instructions"),t.attach_info&&t.attach_info.forEach(function(t,a){var i=/\/[0-9A-Za-z._-]+$/.exec(t)||["未知图片.jpeg"];Object(m.i)(e.firstUrl+"/"+t,i[0].replace("/",""),function(i){e.saveUrlFile.appendixDatum.splice(a,1,i),e.saveFileData.appendixDatum.push({url:t})})}),t.attach_info&&t.attach_info.forEach(function(t,a){var i=/\/[0-9A-Za-z._-]+$/.exec(t)||["未知图片.jpeg"];Object(m.i)(e.firstUrl+"/"+t,i[0].replace("/",""),function(i){e.saveUrlFile.devImage.splice(a,1,i),e.saveFileData.devImage.push({url:t})})})},handleOperationCallBack:function(e){e.status?(this.$emit("submit",this.sku),this.$message.success("操作成功")):this.$message.error(e.errorMess)}},watch:{sku:function(e){this.handleInitData()}}},wa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"ui-content_area clearFix"},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"mini"}},[a("div",{staticClass:"ui-content_area--left"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("div",{staticClass:"ui-content_area--item"},[a("el-collapse-item",{attrs:{title:"| 商品基础资料",name:"1"}},[a("ComTableInfo",{attrs:{isSetHeight:!1,tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,tableWidth:[""]},scopedSlots:e._u([{key:"good_name",fn:function(t){return[a("div",e._l(t.row.good_name,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}}])}),e._v(" "),a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",{staticClass:"ui-layout"},[a("span",[e._v("样品备注")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.buy_sample_note,callback:function(t){e.$set(e.editData.sku_basic_info,"buy_sample_note",t)},expression:"editData.sku_basic_info.buy_sample_note"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("商品描述")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.goods_desc,callback:function(t){e.$set(e.editData.sku_basic_info,"goods_desc",t)},expression:"editData.sku_basic_info.goods_desc"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("商品参数")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.goods_params,callback:function(t){e.$set(e.editData.sku_basic_info,"goods_params",t)},expression:"editData.sku_basic_info.goods_params"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("注意事项")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.notice_remark,callback:function(t){e.$set(e.editData.sku_basic_info,"notice_remark",t)},expression:"editData.sku_basic_info.notice_remark"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("包装清单")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.pack_list,callback:function(t){e.$set(e.editData.sku_basic_info,"pack_list",t)},expression:"editData.sku_basic_info.pack_list"}})],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[4]||e.syncCheck[4])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品属性资料",name:"5"}},[a("ul",{staticClass:"ui-content_area--list"},[e.optionList.attrCheckList["刊登属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("刊登属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.publishAttr,callback:function(t){e.$set(e.editData,"publishAttr",t)},expression:"editData.publishAttr"}},e._l(e.optionList.attrCheckList["刊登属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["订单属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("订单属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.orderAttr,callback:function(t){e.$set(e.editData,"orderAttr",t)},expression:"editData.orderAttr"}},e._l(e.optionList.attrCheckList["订单属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["订单属性"],"orderAttr",0)?a("div",[a("ComUpload",{attrs:{url:"url","btn-type":"text","btn-size":"mini",label:"点击此处上传调研报告","auto-upload":!1,file:e.editData.orderAttrFile},on:{"update:file":function(t){e.$set(e.editData,"orderAttrFile",t)}}})],1):e._e()],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["基础属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("基础属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.basisAttr,callback:function(t){e.$set(e.editData,"basisAttr",t)},expression:"editData.basisAttr"}},e._l(e.optionList.attrCheckList["基础属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["特殊属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("特殊属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.specialAttr,callback:function(t){e.$set(e.editData,"specialAttr",t)},expression:"editData.specialAttr"}},e._l(e.optionList.attrCheckList["特殊属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),e.optionList.attrCheckList["特殊属性"]?e._e():a("span",[e._v("加载中...")])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["电池属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("电池属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.batteryAttr,callback:function(t){e.$set(e.editData,"batteryAttr",t)},expression:"editData.batteryAttr"}},e._l(e.optionList.attrCheckList["电池属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",disabled:"",placeholder:"请输入电池类型"},model:{value:e.editData.sku_attr_info.sku_attr_select.battery_type,callback:function(t){e.$set(e.editData.sku_attr_info.sku_attr_select,"battery_type",t)},expression:"editData.sku_attr_info.sku_attr_select.battery_type"}})],1):e._e(),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"20%"}},[a("el-input",{attrs:{size:"mini",disabled:"",placeholder:"电池型号"},model:{value:e.editData.sku_attr_info.sku_attr_select.battery_model,callback:function(t){e.$set(e.editData.sku_attr_info.sku_attr_select,"battery_model",t)},expression:"editData.sku_attr_info.sku_attr_select.battery_model"}})],1):e._e(),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"20%"}},[a("el-input",{attrs:{size:"mini",disabled:"",placeholder:"标称容量(mAh)"},model:{value:e.editData.sku_attr_info.sku_attr_select.battery_ml,callback:function(t){e.$set(e.editData.sku_attr_info.sku_attr_select,"battery_ml",t)},expression:"editData.sku_attr_info.sku_attr_select.battery_ml"}})],1):e._e()]),e._v(" "),e.optionList.attrCheckList["电池属性"]?e._e():a("span",[e._v("加载中...")])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["违禁属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("违禁属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.isBanAttr,callback:function(t){e.$set(e.editData,"isBanAttr",t)},expression:"editData.isBanAttr"}},e._l(e.optionList.attrCheckList["违禁属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["违禁属性"],"isBanAttr",0)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入刀刃长度"},model:{value:e.editData.banInfo,callback:function(t){e.$set(e.editData,"banInfo",t)},expression:"editData.banInfo"}})],1):e._e()])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["形态属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("形态属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.modelAttr,callback:function(t){e.$set(e.editData,"modelAttr",t)},expression:"editData.modelAttr"}},e._l(e.optionList.attrCheckList["形态属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["海外属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("海外属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.overseas,callback:function(t){e.$set(e.editData,"overseas",t)},expression:"editData.overseas"}},e._l(e.optionList.attrCheckList["海外属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["证书类型"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("证书类型")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.certificateType,callback:function(t){e.$set(e.editData,"certificateType",t)},expression:"editData.certificateType"}},e._l(e.optionList.attrCheckList["证书类型"],function(t,i){return a("el-checkbox",{key:i,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["证书类型"],"certificateType",0)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.editData.certificateTypeInfo,callback:function(t){e.$set(e.editData,"certificateTypeInfo",t)},expression:"editData.certificateTypeInfo"}})],1):e._e()])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["说明书"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("说明书")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.instructions,callback:function(t){e.$set(e.editData,"instructions",t)},expression:"editData.instructions"}},e._l(e.optionList.attrCheckList["说明书"],function(t,i){return a("el-checkbox",{key:i,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["说明书"],"instructions",0)?a("div",{staticClass:"ui-check__input clearFix"},[a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.editData.instructionsInfo,callback:function(t){e.$set(e.editData,"instructionsInfo",t)},expression:"editData.instructionsInfo"}})],1)]):e._e()],1)]):e._e()])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[2]||e.syncCheck[2])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品附件资料",name:"3"}},[a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.saveFileData.appendixDatum,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})])])])}))])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--btn"})])],1),e._v(" "),a("div",{staticClass:"ui-content_area--right"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[3]||e.syncCheck[3])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品开发图片",name:"4"}},[a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.saveFileData.devImage,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-checkbox ui-file__checkbox"}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})])])])}))])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[0]||e.syncCheck[0])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品包装要求",name:"6"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{attrs:{indeterminate:e.syncIsNoAllCheck[0]},on:{change:function(t){e.handleSyncCheckAllChange(0,"productPackSync")}},model:{value:e.syncCheck[0],callback:function(t){e.$set(e.syncCheck,0,t)},expression:"syncCheck[0]"}})],1),e._v(" "),a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("来样包装类型")]),e._v(" "),a("el-select",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.sample_pack_type,callback:function(t){e.$set(e.editData.sku_pack_request_info,"sample_pack_type",t)},expression:"editData.sku_pack_request_info.sample_pack_type"}},e._l(e.editData.sku_pack_request_info.sample_pack_type_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type_name}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("来样包装重量")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.sample_pack_weight,callback:function(t){e.$set(e.editData.sku_pack_request_info,"sample_pack_weight",t)},expression:"editData.sku_pack_request_info.sample_pack_weight "}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("g")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("来样包装尺寸")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.sample_pack_size,callback:function(t){e.$set(e.editData.sku_pack_request_info,"sample_pack_size",t)},expression:"editData.sku_pack_request_info.sample_pack_size "}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("cm")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{class:e.syncLabelCheck.productPackSync[1]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productPackSync",1,0)}},slot:"label"},[e._v("缓冲包装类型")]),e._v(" "),a("el-select",{on:{change:e.changeBufferPack},model:{value:e.editData.sku_pack_request_info.buffer_pack_type,callback:function(t){e.$set(e.editData.sku_pack_request_info,"buffer_pack_type",t)},expression:"editData.sku_pack_request_info.buffer_pack_type"}},e._l(e.editData.sku_pack_request_info.buffer_pack_type_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type_name}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("缓冲包装型号")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.buffer_pack_model,callback:function(t){e.$set(e.editData.sku_pack_request_info,"buffer_pack_model",t)},expression:"editData.sku_pack_request_info.buffer_pack_model"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("缓冲包装要求")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.buffer_pack_request,callback:function(t){e.$set(e.editData.sku_pack_request_info,"buffer_pack_request",t)},expression:"editData.sku_pack_request_info.buffer_pack_request"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{class:e.syncLabelCheck.productPackSync[0]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productPackSync",0,0)}},slot:"label"},[e._v("发货包装类型")]),e._v(" "),a("el-select",{on:{change:e.changeShipmentPack},model:{value:e.editData.sku_pack_request_info.shipment_pack_type,callback:function(t){e.$set(e.editData.sku_pack_request_info,"shipment_pack_type",t)},expression:"editData.sku_pack_request_info.shipment_pack_type"}},e._l(e.editData.sku_pack_request_info.shipment_pack_type_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type_name}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("发货包装型号")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.shipment_pack_model,callback:function(t){e.$set(e.editData.sku_pack_request_info,"shipment_pack_model",t)},expression:"editData.sku_pack_request_info.shipment_pack_model"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("内填充物要求")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.shipment_pack_request,callback:function(t){e.$set(e.editData.sku_pack_request_info,"shipment_pack_request",t)},expression:"editData.sku_pack_request_info.shipment_pack_request"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("增加包材价格")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.add_pack_price,callback:function(t){e.$set(e.editData.sku_pack_request_info,"add_pack_price",t)},expression:"editData.sku_pack_request_info.add_pack_price"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("¥")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("预估发货重量")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.estimate_shipment_weight,callback:function(t){e.$set(e.editData.sku_pack_request_info,"estimate_shipment_weight",t)},expression:"editData.sku_pack_request_info.estimate_shipment_weight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("g")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("预估发货尺寸")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.estimate_shipment_size,callback:function(t){e.$set(e.editData.sku_pack_request_info,"estimate_shipment_size",t)},expression:"editData.sku_pack_request_info.estimate_shipment_size"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("g")])])],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[1]||e.syncCheck[1])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品质检报告",name:"1"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{attrs:{indeterminate:e.syncIsNoAllCheck[1]},on:{change:function(t){e.handleSyncCheckAllChange(1,"productReportSync")}},model:{value:e.syncCheck[1],callback:function(t){e.$set(e.syncCheck,1,t)},expression:"syncCheck[1]"}})],1),e._v(" "),a("ul",{staticClass:"clearFix"},[a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[0]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productReportSync",0,1)}},slot:"label"},[e._v("质检等级")]),e._v(" "),a("el-form-item",[a("el-select",{on:{change:function(t){e.changeGrade(e.editData.sku_qc_report_info.qc_grade)}},model:{value:e.editData.sku_qc_report_info.qc_grade,callback:function(t){e.$set(e.editData.sku_qc_report_info,"qc_grade",t)},expression:"editData.sku_qc_report_info.qc_grade"}},e._l(e.editData.sku_qc_report_info.qc_grade_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.grade,label:e.grade}})}))],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[1]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productReportSync",1,1)}},slot:"label"},[e._v("抽样方案")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",rows:2,resize:"none"},model:{value:e.editData.sku_qc_report_info.qc_sample_scheme,callback:function(t){e.$set(e.editData.sku_qc_report_info,"qc_sample_scheme",t)},expression:"editData.sku_qc_report_info.qc_sample_scheme"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[2]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productReportSync",2,1)}},slot:"label"},[e._v("检测清单")]),e._v(" "),a("el-form-item",[a("div",{staticClass:"test-list"},[a("ul",{staticClass:"parent-ul"},e._l(e.editData.sku_test_list.test_list,function(t,i){return a("li",{key:i,on:{click:function(a){e.addTestInfo(t)}}},[a("span",[e._v(e._s(t.name))])])}))])]),e._v(" "),a("el-form-item",{staticClass:"ui-ope_area clearFix"},e._l(e.editData.sku_qc_report_info.qc_detail_list,function(t,i){return a("div",{key:i,staticClass:"ui-ope_area--item"},[a("div",{staticStyle:{position:"absolute"}},[e._v(e._s(i+1))]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}}),e._v(" "),a("div",{staticClass:"ui-ope_area--btn"},[a("span",{staticClass:"icon-shanchu",on:{click:function(t){e.handleDeleteInput(e.editData.sku_qc_report_info.qc_detail_list,i)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(t){e.handleAddInput(e.editData.sku_qc_report_info.qc_detail_list,i+1)}}})])],1)}))],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[3]&&"ui-active",attrs:{slot:"label"},on:{click:function(t){e.handleSyncCheckLabel("productReportSync",3,1)}},slot:"label"},[e._v("质量备注")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:2,resize:"none"},model:{value:e.editData.sku_qc_report_info.qc_remark,callback:function(t){e.$set(e.editData.sku_qc_report_info,"qc_remark",t)},expression:"editData.sku_qc_report_info.qc_remark"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[2]||e.syncCheck[2])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 样品异常记录",name:"2"}},[a("div",{staticClass:"ui-checkbox"},[a("el-checkbox",{attrs:{indeterminate:e.syncIsNoAllCheck[2]},on:{change:function(t){e.handleSyncCheckAllChange(2,"sampleAbnormalSync")}},model:{value:e.syncCheck[2],callback:function(t){e.$set(e.syncCheck,2,t)},expression:"syncCheck[2]"}})],1),e._v(" "),a("ul",{staticClass:"clearFix"},[a("li",{staticClass:"ui-layout"},[a("el-table",{attrs:{data:e.editData.exceptionRecord}},[a("el-table-column",{attrs:{label:"退样类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){e.recordTypeChange(t.row)}},model:{value:t.row.recordType,callback:function(a){e.$set(t.row,"recordType",a)},expression:"scope.row.recordType"}},e._l(t.row.recordList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产品异常描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.row.description,callback:function(a){e.$set(t.row,"description",a)},expression:"scope.row.description"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"开发解决方案"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.row.solution,callback:function(a){e.$set(t.row,"solution",a)},expression:"scope.row.solution"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"不良图片",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"upload-img-list"},[""!==t.row.image?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.image+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(e){t.row.image=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.image)}}})])]):e._e(),e._v(" "),""==t.row.image?a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(a,i){e.handleSaveFileList(a,t.row)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1):e._e()])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ui-ope_area--btn"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.editData.exceptionRecord.length>1,expression:"editData.exceptionRecord.length>1"}],staticClass:"icon-shanchu",on:{click:function(a){e.handleRecordDeleteInput(t.$index)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(a){e.handleRecordAddInput(t.$index)}}})])]}}])})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--btn"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.handleSaveOrSubmitInfo("1")}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleSaveOrSubmitInfo("2")}}},[e._v("审核")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.handleSaveOrSubmitInfo("4")}}},[e._v("驳回")])],1)])],1)]),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1),e._v(" "),a("div",{staticClass:"ui-right"},[a("ul",{staticClass:"ui-right--item"},[a("li",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllSku,callback:function(t){e.checkAllSku=t},expression:"checkAllSku"}},[e._v("\n                    All\n                ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSyncSkuInfo}},[e._v("同步")])],1),e._v(" "),a("li",[a("el-checkbox-group",{on:{change:e.handleRelevanceSkuChange},model:{value:e.checkSku,callback:function(t){e.checkSku=t},expression:"checkSku"}},e._l(e.skuList,function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}))],1)])])])},staticRenderFns:[]};var Ca={name:"EditPage",components:{SKUPage:a("VU/8")(Da,wa,!1,function(e){a("17Ni")},"data-v-2496429e",null).exports},props:{show:!1,row:{type:Object,default:function(){return{}}}},data:function(){return{sku:"",activePage:-1,submitSkuList:[],rejectSkuList:[],editPageData:{}}},computed:{operationList:function(){var e=[];try{this.row.sku.split(",").forEach(function(t){e.push({value:t,label:t})})}catch(e){console.log(this.row)}return[].concat(e)}},methods:{handleClosePage:function(){this.$emit("update:show",!1)},handleToggleEditArea:function(e,t){this.sku=t.value,this.handleGetRepairInfo({sku:t.value,spu:this.row.spu[0]},t.value,e)},handleGetRepairInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,a=arguments[1],i=arguments[2];(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/spu_edit_list",t)})(d()({is_reject:this.row.reject_type},e)).then(function(e){var s=e.data;t.$set(t.editPageData,a,s.data),console.log(t.editPageData,563),t.activePage=i})},handleSaveSkuSubmitState:function(e){-1===this.submitSkuList.indexOf(e)&&(this.submitSkuList.push(e),this.operationList.length===this.submitSkuList.length+this.rejectSkuList.length&&this.handleClosePage())},handleSaveSkuRejectState:function(e){-1===this.rejectSkuList.indexOf(e)&&(this.rejectSkuList.push(e),this.operationList.length===this.submitSkuList.length+this.rejectSkuList.length&&this.handleClosePage())}},watch:{show:function(e){e?this.handleGetRepairInfo({sku:this.row.sku.split(",")[0],spu:this.row.spu[0]},this.row.sku.split(",")[0],0):this.activePage=-1}}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ui-dialog_page",on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleClosePage(t):null}}},[a("div",{staticClass:"ui-head"},[a("span",[e._v("品控审核弹窗")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClosePage}})]),e._v(" "),a("div",{staticClass:"ui-left_nav"},[a("ul",e._l(e.operationList,function(t,i){return a("li",{key:i,class:{"ui-active":e.activePage===i?"ui-active":e.submitSkuList.indexOf(t.label)>-1,"ui-reject":e.rejectSkuList.indexOf(t.label)>-1},on:{click:function(a){e.handleToggleEditArea(i,t)}}},[a("span",[e._v(e._s(t.label))])])}))]),e._v(" "),e._l(e.operationList,function(t,i){return e.activePage===i?a("SKUPage",{key:i,attrs:{row:e.row,sku:t.label},on:{submit:e.handleSaveSkuSubmitState,reject:e.handleSaveSkuRejectState}}):e._e()})],2)])},staticRenderFns:[]};var Ia={components:{EditPage:a("VU/8")(Ca,La,!1,function(e){a("Dscj")},"data-v-c0ffa05e",null).exports},data:function(){return{filterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[],timeType:"",timeRange:[1,20],timeMax:30},optionList:{attrList:{},classifyList:{},productListList:[],functionInfoList:{},statusList:{},devTypeList:{},sampleTypeList:{},skuEditConfirmList:{1:"是",0:"否"},currencyList:{},timeTypeList:{day:"天",hours:"时",minutes:"分"}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isEditShow:!1,saveEditRow:{},skuEditObj:{key:["商品SKU","商品名称","采样价","最小起订单","建议售价","是否买样","是否定制","操作"],tempProps:["productSku","","","","","isBuy","isDiy","operation"],value:[]},disBuyType:[2,4],skuOptionDis:[0,3,4],previewImgUrl:"",isShowPreviewImg:!1,isShowAssign:!1,isShowReject:!1,rejectData:[],rejectList:[],rejectDefault:{},isShowLookImage:!1,lookImageUrl:""}},computed:d()({},Object(h.c)(["queryParamsInfo","sampleAuditListInfo"])),methods:d()({makeLog:m.k,autoAddTableInx:m.a},Object(h.b)(["GetSampleAuditListInfo"]),{handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleTimeRange:function(e){switch(e){case"day":this.queryData.timeMax=30;break;case"hours":this.queryData.timeMax=24;break;case"minutes":this.queryData.timeMax=60}},checkedStatus:function(e){return this.saveCheckInfo.length?(this[e]=!0,!0):(this.$message.warning("请勾选数据！"),!1)},handleClickAssign:function(){this.checkedStatus("isShowAssign")},selectId:function(){return this.saveCheckInfo.map(function(e){return e.spu[0]})},handleConfirmAssign:function(e){var t=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/quality/product/product_reassign",t)})({spu:this.selectId().join(","),create_user:c.a.getters.loginInfo.staff_code,distr_user:e.check}).then(function(e){1===e.data.status?(t.$message.success("操作成功"),t.handleQueryInfo()):t.$message.error("操作失败")})},handleClickReject:function(){this.checkedStatus("isShowReject")},handleSaveFileList:function(e,t){var a=this,i=new FormData;i.append("file",e.raw),At(i).then(function(e){var i=e.data;1==i.status?t.image=i.data.path:a.$message.error(i.errorMess)}),console.log(t.image,8899)},rejectTypeChange:function(e){var t=e.rejectList.find(function(t){return e.type===t.id});e.value=t.value,e.remark=t.remark},handleRejectInfo:function(){var e=this;return ka()(ya.a.mark(function t(){var a,i;return ya.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_a();case 2:a=t.sent,i=a.data.data.exception_list,e.rejectDefault={rejectList:[].concat(z()(i)),type:"",image:"",remark:"",value:""},e.rejectData.push(d()({},e.rejectDefault));case 6:case"end":return t.stop()}},t,e)}))()},handleConfirmReject:function(){var e=this,t=[];this.rejectData.forEach(function(e){t.push({record_type:e.type,abnormity_description:e.value,image:e.image})}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/sample_control/sample_check_report/batch_reject",t)}({spu:this.selectId(),spu_exception_record:t}).then(function(t){1===t.data.status?(e.$message.success("操作成功!"),e.isShowReject=!1,e.handleQueryInfo(),e.rejectData.length=0,e.rejectData.push(d()({},e.rejectDefault))):e.$message.error("操作失败! 请检查填写是否正确!")})},handleCancelReject:function(){this.isShowReject=!1,this.rejectData=[d()({},this.rejectDefault)]},handleDeleteInput:function(e){this.rejectData.splice(e,1)},handleAddInput:function(e){this.rejectData.splice(e+1,0,d()({},this.rejectDefault))},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_audit_list));var a="",i="";this.queryData.timeType&&(a=Object(m.f)(this.queryData.timeRange[0],this.queryData.timeType,"seconds"),i=Object(m.f)(this.queryData.timeRange[1],this.queryData.timeType,"seconds"));var s=d()({spu:this.queryData.productSPU,supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join("->"),goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function:this.queryData.functionInfo,user:this.queryData.workUser,opera_user:this.queryData.operateUser,opera_time_start:this.queryData.operateTime[0],opera_time_end:this.queryData.operateTime[1],status:this.queryData.auditState,use_time_start:a,use_time_end:i},t);this.GetSampleAuditListInfo(s).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",supplierCode:"",productList:[],workUser:"",functionInfo:"",auditState:"",operateUseTime:"",productName:"",supplierName:"",operateUser:"",operateTime:[],timeType:"",timeRange:[1,20],timeMax:30}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(e){},handlePreviewImage:function(e){this.previewImgUrl=e,this.isShowPreviewImg=!0},handleTreeCallBackChange:function(e){for(var t=0;t<e.length;t++)e[t].son_id&&e[t].son_id.length?this.handleTreeCallBackChange(e[t].son_id):delete e[t].son_id},handleClickEdit:function(e){this.saveEditRow=e,this.isEditShow=!0},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_audit_list",value:o()(this.queryData)}),this.tableData=e.data.value,this.tableData.map(function(e){return e.opera_log.reverse()}),this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.tableWidth=["60","150","90","200","150","250","100","180","150","150","90","100","90"],this.tableWidth[2]="120px",this.tableWidth[6]="230px",this.tableWidth[8]="230px",this.optionList.productListList=[].concat(z()(e.select_list.category)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.handleTreeCallBackChange(this.optionList.productListList),this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total},getDownlistMembers:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/get_group_user",t)})().then(function(t){var a=t.data;if(1!==a.status)return e.$message.error(data.errorMess||"请求失败，请刷新后重试！");if(Object(m.j)(a,"data,group_user_list")){var i=a.data.group_user_list.reduce(function(e,t){return d()({},e,we()({},t.user_number,t.user_name))},{});e.optionList=d()({},e.optionList,{workerList:i})}})}}),created:function(){this.thisVm=this,this.handleRejectInfo(),this.getDownlistMembers();try{"{}"===o()(this.sampleAuditListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.sample_audit_list),this.handleQueryInfoCallBack(this.sampleAuditListInfo))}catch(e){console.log(e)}}},Sa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.workUser,callback:function(t){e.$set(e.queryData,"workUser",t)},expression:"queryData.workUser"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业节点"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,size:"small"},on:{change:function(t){e.handleTimeRange(e.queryData.timeType)}},model:{value:e.queryData.timeType,callback:function(t){e.$set(e.queryData,"timeType",t)},expression:"queryData.timeType"}},e._l(e.optionList.timeTypeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),e.queryData.timeType?a("el-slider",{attrs:{range:"",min:1,max:e.queryData.timeMax},model:{value:e.queryData.timeRange,callback:function(t){e.$set(e.queryData,"timeRange",t)},expression:"queryData.timeRange"}}):e._e()],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small",disabled:!e.queryData.functionInfo},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选\n                    "),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选\n                    "),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickReject}},[a("i",{staticClass:"icon-bohui icon-danger"}),e._v("驳回\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon-warn"}),e._v("重新指派\n        ")])],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,otherHeight:["ui-main-tab"],showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"index",fn:function(t){return[a("div",[a("span",{class:"1"===t.row.reject_type?"el-icon-warning":"el-icon-success"}),e._v(" "),a("p",[e._v(e._s(e.autoAddTableInx(t.$index)))])])]}},{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[a("el-popover",{attrs:{placement:"right",trigger:"hover"}},[a("ul",{staticClass:"ui-sku_open"},e._l(t.row.sku.split(","),function(i,s){return a("li",{on:{click:function(a){e.handleClickEdit(t.row,i,s)}}},[e._v("\n                                "+e._s(i)+e._s(t.row.sku_name.split(",")[s])+"\n                            ")])})),e._v(" "),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.spu[1]))])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-bianji",on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})])])]}},{key:"photo_path",fn:function(t){return[""!==t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"good_name",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(t.row.good_name[0]))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.good_name[1]))])])])]}},{key:"category_path",fn:function(t){return[a("div",e._l(t.row.category_path,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"product_staus",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"opera_log",fn:function(t){return[e._l(t.row.opera_log,function(i,s){return t.row.opera_log.length<3?a("div",{key:s},[e._v("\n                "+e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.opera_log,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.opera_log,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t)+"\n                    ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}},{key:"opera_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t,i){return a("p",{key:i},[a("span",[e._v(e._s(t))])])}))]}},{key:"remarks",fn:function(t){return[e._l(t.row.remarks.reject_remark,function(t,i){return a("div",{key:i},[a("p",[e._v("驳回人:"+e._s(t.create_name))]),e._v(" "),a("p",[e._v("原因:"+e._s(t.reject_content))]),e._v(" "),a("p",[e._v("时间:"+e._s(t.create_time))])])}),e._v(" "),""!==t.row.remarks.image_remark?a("div",{staticStyle:{width:"100px",height:"100px"},style:{background:"url("+t.row.remarks.image_remark+") no-repeat 0/catain"}}):e._e()]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("EditPage",{attrs:{show:e.isEditShow,row:e.saveEditRow},on:{"update:show":function(t){e.isEditShow=t}}}),e._v(" "),a("LookImage",{attrs:{src:e.previewImgUrl,show:e.isShowPreviewImg},on:{"update:show":function(t){e.isShowPreviewImg=t}}}),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"驳回",visible:e.isShowReject,width:"60%"},on:{"update:visible":function(t){e.isShowReject=t}}},[a("el-table",{attrs:{data:e.rejectData}},[a("el-table-column",{attrs:{label:"退样类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){e.rejectTypeChange(t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(t.row.rejectList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产品异常描述",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否退样",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.remark)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"不良图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"upload-img-list"},[""!==t.row.image?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.image+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(e){t.row.image=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.image)}}})])]):e._e(),e._v(" "),""==t.row.image?a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(a){e.handleSaveFileList(a,t.row)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1):e._e()])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ui-ope_area--btn"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.rejectData.length>1,expression:"rejectData.length>1"}],staticClass:"icon-shanchu",on:{click:function(a){e.handleDeleteInput(t.$index)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(a){e.handleAddInput(t.$index)}}})])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleCancelReject}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmReject}},[e._v("确 定")])],1)],1),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAssign,title:"指派任务",type:"select",formLabel:"指派任务",option:e.optionList.workerList},on:{"update:visible":function(t){e.isShowAssign=t},confirm:e.handleConfirmAssign}}),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)},staticRenderFns:[]};var xa=a("VU/8")(Ia,Sa,!1,function(e){a("BNQO")},"data-v-5e552032",null).exports,qa=(a("rOP+"),{data:function(){return{isShowLookImage:!1,lookImageUrl:"",filterShow:!1,thisVm:{},showSearch:!0,queryData:{productSPU:"",supplierCode:"",productList:[],rejectType:"",priceMin:"",priceMax:"",timeMin:"",timeMax:"",productName:"",supplierName:"",functionInfo:"",operateUser:"",auditTime:"",billStatus:""},optionList:{productList:[],functionInfoList:{},statusList:{},rejectTypeList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0}}},computed:d()({},Object(h.c)(["queryParamsInfo","sampleAbnormalRecordInfo"])),methods:d()({makeLog:m.k},Object(h.b)(["GetSampleAbnormalRecordInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=[e]},handleExportListInfo:function(e){"_all"===e?this.handleQueryInfo({is_csv:!0,limit:0},!0):this.handleQueryInfo({is_csv:!0},!0)},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.sample_abnormal_record));var a=d()({spu:this.queryData.productSPU,supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join(","),reject_cfg_type:this.queryData.rejectType,purchase_price_min:this.queryData.priceMin,purchase_price_max:this.queryData.priceMax,handle_time_min:this.queryData.timeMin,handle_time_max:this.queryData.timeMax,goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function:this.queryData.functionInfo,opera_user:this.queryData.operateUser,opera_time_start:this.queryData.auditTime[0],opera_time_end:this.queryData.auditTime[1],bill_status:this.queryData.billStatus},t);this.GetSampleAbnormalRecordInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:[],state:""}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){e?document.querySelector("body").style.overflow="hidden":this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleQueryInfoCallBack:function(e){if(1!==e.status)return this.$message.error("网络错误，请刷新重试！");this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"sample_abnormal_record",value:o()(this.queryData)}),this.tableData=e.data.value,this.tableData.map(function(e){return e.operation_record.reverse()}),this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.tableWidth=["60","220","70","250","250","250","100","200","200","200","70","100","100"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.sampleAbnormalRecordInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.sample_abnormal_record),this.handleQueryInfoCallBack(this.sampleAbnormalRecordInfo))}catch(e){console.log(e)}}}),Aa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode",t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"退样类型"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.queryData.rejectType,callback:function(t){e.$set(e.queryData,"rejectType",t)},expression:"queryData.rejectType"}},e._l(e.optionList.rejectTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"采样价"}},[a("el-input",{staticStyle:{width:"46.5%"},attrs:{size:"small"},model:{value:e.queryData.priceMin,callback:function(t){e.$set(e.queryData,"priceMin",t)},expression:"queryData.priceMin"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{staticStyle:{width:"46.5%"},attrs:{size:"small"},model:{value:e.queryData.priceMax,callback:function(t){e.$set(e.queryData,"priceMax",t)},expression:"queryData.priceMax"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"处理时效"}},[a("el-input",{staticStyle:{width:"46.5%"},attrs:{size:"small"},model:{value:e.queryData.timeMin,callback:function(t){e.$set(e.queryData,"timeMin",t)},expression:"queryData.timeMin"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{staticStyle:{width:"46.5%"},attrs:{size:"small"},model:{value:e.queryData.timeMax,callback:function(t){e.$set(e.queryData,"timeMax",t)},expression:"queryData.timeMax"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName",t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"审核时间",template:"daterange"},model:{value:e.queryData.auditTime,callback:function(t){e.$set(e.queryData,"auditTime",t)},expression:"queryData.auditTime"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"单据状态"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.billStatus,callback:function(t){e.$set(e.queryData,"billStatus",t)},expression:"queryData.billStatus"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleExportListInfo("_this")}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出当前页\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleExportListInfo("_all")}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出全部\n        ")])],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"spu",fn:function(t){return e._l(t.row.spu,function(t,i){return a("div",{key:i},[e._v(e._s(t))])})}},{key:"photo_path",fn:function(t){return[""!==t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"category_path",fn:function(t){return e._l(t.row.category_path,function(t,i){return a("div",{key:i},[e._v(e._s(t))])})}},{key:"good_name",fn:function(t){return[a("div",[e._v(e._s(t.row.good_name[0]))])]}},{key:"good_info",fn:function(t){return e._l(t.row.good_info,function(t,i){return a("div",{key:i},[e._v(e._s(t))])})}},{key:"bad_pic",fn:function(t){return[""!==t.row.bad_pic?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.bad_pic+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.bad_pic)}}})])])]):e._e()]}},{key:"operation_record",fn:function(t){return[e._l(t.row.operation_record,function(i,s){return t.row.operation_record.length<3?a("div",{key:s},[e._v(e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.operation_record.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.operation_record,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.operation_record,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t)+"\n                    ")]):e._e()}),e._v(" "),t.row.operation_record.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)},staticRenderFns:[]};var Ta=a("VU/8")(qa,Aa,!1,function(e){a("cI6y")},"data-v-3e77956b",null).exports,Pa=a("lvoU");var Ea={name:"SKUPage",props:["row","sku"],data:function(){return{testCheck:[],editShowArea:["1","2","3","4","5","6"],tableKey:["商品SKU","商品名称","产品目录","样品类型","供应商资料"],tableProps:["sku","good_name","category_path","sample_type","good_info"],optionList:{packTypeList:{},brandAttrList:{},attrCheckList:{},countryList:{},infringementType:{},platformList:{},exceptionList:[],testList:[]},editData:{sku_basic_info:{},sku_test_list:{test_list:[]},sellingPoint:["","",""],exceptionRecord:[],rejectData:[],packType:"",packWeight:"",packLength:"",sampleWeight:"",sampleRemarks:"",packList:"",brandAttr:"",productBrand:"",productModel:"",isHaveLogo:"",materialQuality:"",productUse:"",workPrinciple:"",isTort:"",isCheckPrice:"",isEmpower:"",isDisSales:"",checkPriceInfo:[[{},{},{}]],tortInfo:[[{},{}]],disSalesInfo:[[{},{}]],empowerInfo:{},publishAttr:[],orderAttr:[],orderAttrFile:{},basisAttr:[],specialAttr:[],batteryAttr:[],batteryInfo:[],isBanAttr:[],banInfo:"",modelAttr:[],overseas:[],certificateType:[],certificateTypeInfo:"",instructions:[],instructionsInfo:""},editRule:{},showAttrHideKey:{batteryAttr:["内置电池","配套电池","纯电池"],isBanAttr:["管制刀具"],certificateType:["其它"],instructions:["其它"],orderAttr:["海外直发"]},saveFileData:{appendixDatum:[],devImage:[]},saveUrlFile:{devImage:[],appendixDatum:[]},lookImageUrl:"",isShowLookImage:!1,isIndeterminate:!1,checkAllSku:!1,checkSku:[],syncLabelCheck:{devImageSync:[],productPackSync:[],productReportSync:[],sampleAbnormalSync:[]},syncCheck:[],syncIsNoAllCheck:[],syncCheckArea:[["sku_pack_request_info.shipment_pack_type","sku_pack_request_info.buffer_pack_type"],["sku_qc_report_info.qc_grade","sku_qc_report_info.qc_sample_scheme","sku_qc_report_info.qc_detail_list","sku_qc_report_info.qc_remark"],["exceptionRecord"]],showChild:!1,testChildList:[],generateTestList:[],exceptionDefault:{}}},computed:{tableData:function(){return"{}"===o()(this.row)?[]:[d()({},this.row,{sku:this.sku})]},skuList:function(){var e=[];return this.$parent.row&&this.$parent.row.sku&&(e=this.$parent.row.sku.split(",")),e},firstUrl:function(){return f.a.PRODUCTION_PATH}},created:function(){this.handleInitData()},methods:{querySearch:function(e,t){var a=this.optionList.testList;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return t.value.toLowerCase().indexOf(e.toLowerCase())>=0}},handleRecordDeleteInput:function(e){this.editData.exceptionRecord.splice(e,1)},handleRecordAddInput:function(e){this.editData.exceptionRecord.splice(e+1,0,_t()({},this.exceptionDefault))},recordTypeChange:function(e){var t=e.recordList.find(function(t){return e.recordType===t.id});e.description=t.value},addTestInfo:function(e){var t=this,a=e.value.split(/\d['、']/);0===a[0].length&&a.splice(0,1),a.forEach(function(e){t.editData.sku_qc_report_info.qc_detail_list.push({val:e})})},changeGrade:function(e){var t=this.editData.sku_qc_report_info.qc_grade_list.find(function(t){return t.grade==e});this.editData.sku_qc_report_info.qc_sample_scheme=t.sampling_scheme},changeShipmentPack:function(){var e=this,t=this.editData.sku_pack_request_info;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/get_shipment_pack_info",t)})({buffer_pack_type:t.buffer_pack_type,pur_weight_pack:t.sample_pack_weight,size:t.sample_pack_size,shipment_pack_type:t.shipment_pack_type}).then(function(t){var a=t.data;e.editData.sku_pack_request_info=_t()(e.editData.sku_pack_request_info,a.data)})},changeBufferPack:function(){var e=this,t=this.editData.sku_pack_request_info;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_report/get_buffer_pack_info",t)})({buffer_pack_type:t.buffer_pack_type,pur_weight_pack:t.sample_pack_weight,size:t.sample_pack_size}).then(function(t){var a=t.data;e.editData.sku_pack_request_info=_t()(e.editData.sku_pack_request_info,a.data)})},handleSaveFileList:function(e,t){console.log(e,111),t.image=e.url,t.file=e.raw,console.log(t,222)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleDeleteFile:function(e,t){this.saveFileData[t].splice(e,1),this.saveUrlFile[t].splice(e,1)},handleAddInput:function(e,t){e.splice(t,0,{val:""})},handleDeleteInput:function(e,t){e.splice(t,1)},autoAddActiveClass:function(e,t){return e[t]},autoShowHideAttrKey:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{label:"attribute_value_cn",value:"id"};if(!e)return!1;if(Array.isArray(e)){var s=!0,n=!1,o=void 0;try{for(var r,l=U()(e);!(s=(r=l.next()).done);s=!0){var c=r.value;try{if(this.editData[t].indexOf(c[i.value])>-1){var u=this.showAttrHideKey[t].indexOf(c[i.label]);if(u>-1&&u===a)return!0}}catch(e){}}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return!1}},handleSyncCheckLabel:function(e,t,a){this.$set(this.syncLabelCheck[e],t,!this.syncLabelCheck[e][t]),this.handleSyncCheckChange(a,e)},handleSyncCheckChange:function(e,t){var a=!0,i=!0;if(this.saveFileData[t.replace("Sync","")])for(var s=0;s<this.saveFileData[t.replace("Sync","")].length;s++)this.syncLabelCheck[t][s]?i=!1:a=!1;else for(var n=0;n<this.syncCheckArea[e].length;n++)this.syncLabelCheck[t][n]?i=!1:a=!1;a?(this.syncCheck[e]=!0,this.syncIsNoAllCheck[e]=!1):i?(this.syncCheck[e]=!1,this.syncIsNoAllCheck[e]=!1):this.syncIsNoAllCheck[e]=!0},handleSyncCheckAllChange:function(e,t){if(console.log(this.syncLabelCheck[t],45),this.saveFileData[t.replace("Sync","")])if(this.syncCheck[e]){for(var a=0;a<this.saveFileData[t.replace("Sync","")].length;a++)this.syncLabelCheck[t][a]=!0;this.syncIsNoAllCheck[e]=!1}else{for(var i=0;i<this.saveFileData[t.replace("Sync","")].length;i++)this.syncLabelCheck[t][i]=!1;this.syncIsNoAllCheck[e]=!1}else if(this.syncCheck[e]){for(var s=0;s<this.syncCheckArea[e].length;s++)this.syncLabelCheck[t][s]=!0;this.syncIsNoAllCheck[e]=!1}else{for(var n=0;n<this.syncCheckArea[e].length;n++)this.syncLabelCheck[t][n]=!1;this.syncIsNoAllCheck[e]=!1}},handleSaveOrSubmitInfo:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.editData,i=[];this.editData.sku_qc_report_info.qc_detail_list&&this.editData.sku_qc_report_info.qc_detail_list.forEach(function(e){i.push(e.val)}),console.log(i,156);var s=[];this.editData.exceptionRecord&&this.editData.exceptionRecord.forEach(function(e){s.push({record_type:e.recordType,abnormity_description:e.description,solution:e.solution,image:e.file})});var n={spu:"10101800005",sku:"1010180000512",qc_detail_list:i,sku_exception_record:s};n="3"===e?_t()(n,{buffer_pack_type:a["sku_pack_request_info.buffer_pack_type"],shipment_pack_type:a["sku_pack_request_info.shipment_pack_type"],qc_grade:a["sku_qc_report_info.qc_grade"],qc_sample_scheme:a["sku_qc_report_info.qc_sample_scheme"],qc_remark:a["sku_qc_report_info.qc_remark"]}):_t()(n,{sample_pack_type:a.sku_pack_request_info.sample_pack_type,sample_pack_weight:a.sku_pack_request_info.sample_pack_weight,sample_pack_size:a.sku_pack_request_info.sample_pack_size,buffer_pack_type:a.sku_pack_request_info.buffer_pack_type,buffer_pack_model:a.sku_pack_request_info.buffer_pack_model,buffer_pack_request:a.sku_pack_request_info.buffer_pack_request,shipment_pack_type:a.sku_pack_request_info.shipment_pack_type,shipment_pack_model:a.sku_pack_request_info.shipment_pack_model,shipment_pack_request:a.sku_pack_request_info.shipment_pack_request,add_pack_price:a.sku_pack_request_info.add_pack_price,estimate_shipment_weight:a.sku_pack_request_info.estimate_shipment_weight,estimate_shipment_size:a.sku_pack_request_info.estimate_shipment_size,qc_grade:a.sku_qc_report_info.qc_grade,qc_sample_scheme:a.sku_qc_report_info.qc_sample_scheme,qc_remark:a.sku_qc_report_info.qc_remark}),console.log(n,"obj");var o=new FormData,r=function(e){(n[e]||0===n[e])&&(Array.isArray(n[e])?n[e].forEach(function(t,a){if("string"==typeof t)o.append(e+"["+a+"]",t);else{var i=ie()(t),s=ne()(t);i.forEach(function(t,i){o.append(e+"["+a+"]["+t+"]",s[i])})}}):o.append(e,n[e]||""))};for(var l in n)r(l);switch(e){case"3":this.checkSku.forEach(function(e,t){o.append("sync_sku["+t+"]",e)}),function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/sync",e)}(o).then(function(e){e.data});break;case"1":(function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/save",e)})(o).then(function(e){var a=e.data;console.log(a,"save"),a.status?t.$message.success("操作成功"):t.$message.error(a.errorMess)});break;case"2":(function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/check",e)})(o).then(function(e){var a=e.data;console.log(a,"audit"),t.handleOperationCallBack(a)});break;case"4":var c=!0,u=!1,d=void 0;try{for(var p,h=U()(n.sku_exception_record);!(c=(p=h.next()).done);c=!0){var _=p.value;if(!_.record_type)return void this.$message.warning("退样类型不能为空！");if(!_.abnormity_description)return void this.$message.warning("产品异常描述不能为空！")}}catch(e){u=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw d}}(function(e){var t=!0,a=!1,i=void 0;try{for(var s,n=U()(qe()(f.a.ajaxData));!(t=(s=n.next()).done);t=!0){var o=s.value,r=Te()(o,2),l=r[0],c=r[1];e.append(l,c)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}return q.a.fileAjax("/sample_control/sample_check_report/reject",e)})(o).then(function(e){var a=e.data;console.log(a,"reject"),a.status?t.$message.success("操作成功"):t.$message.error(a.errorMess)})}},handleRelevanceSkuChange:function(e){var t=e.length;this.checkAllSku=t===this.skuList.length,this.isIndeterminate=t>0&&t<this.skuList.length},handleCheckAllChange:function(e){this.checkSku=e?this.skuList:[],this.isIndeterminate=!1},handleSyncSkuInfo:function(){var e=this,t=["productPackSync","productReportSync","sampleAbnormalSync","devImageSync"],a=[];this.syncIsNoAllCheck.forEach(function(i,s){(i||e.syncCheck[s])&&e.syncLabelCheck[t[s]].forEach(function(t,i){t&&a.push(e.syncCheckArea[s][i])})});var i=d()({},{appendixDatum:[],devImage:[]});a.forEach(function(t){var a=t.split(".");a.length>1?i[t]=e.editData[a[0]][a[1]]:i[t]=e.editData[a[0]]}),this.handleSaveOrSubmitInfo("3",i)},handleInitData:function(){var e=this;console.log(this.$parent.editPageData,888);var t=this.$parent.editPageData;console.log(this.sku,"sku"),this.editData=_t()(this.editData,t),console.log(this.editData,999),this.editData.sku_test_list.test_list.forEach(function(t){var a=t.value.split(/\d['、']/);0===a[0].length&&a.splice(0,1),a.forEach(function(t){e.optionList.testList.push({value:t})})}),console.log(this.editData.sku_qc_report_info,1212);var a=this.editData.sku_qc_report_info.qc_detail_list;this.editData.sku_qc_report_info.qc_detail_list=[],a.forEach(function(t){e.editData.sku_qc_report_info.qc_detail_list.push({val:t})}),this.optionList.attrCheckList=t.sku_attr_info.attribute,this.optionList.exceptionList=t.exception_list,this.exceptionDefault={recordList:this.optionList.exceptionList,recordType:"",description:"",solution:"",image:""},0===this.editData.sku_exception_record.length?this.editData.exceptionRecord.push(_t()({},this.exceptionDefault)):this.editData.sku_exception_record.forEach(function(t){var a=e.optionList.exceptionList.find(function(e){return e.id===t.record_type}),i={recordList:e.optionList.exceptionList,recordType:a&&a.name,description:t.abnormity_description,solution:t.solution,image:"undefined"!==t.image?t.image:""};if(console.log(i,112233),t.image&&"undefined"!==t.image){var s=/\/[0-9A-Za-z._-]+$/.exec(t.image)||["未知图片.jpeg"];Object(m.i)(e.firstUrl+"/"+t.image,s[0].replace("/",""),function(e){i.file=e})}e.editData.exceptionRecord.push(i)});var i=function(a,i){t.sku_attr_info.sku_attr_select[i]&&(e.editData[a]=t.sku_attr_info.sku_attr_select[i].split(","))};i("publishAttr","publish"),i("orderAttr","order_attribute"),i("basisAttr","basic"),i("specialAttr","special_attr"),i("batteryAttr","battery_attr"),i("isBanAttr","prohibited"),i("modelAttr","shape_attribute"),i("overseas","overseas_attribute"),i("certificateType","certificate_type"),i("instructions","instructions"),t.attach_info&&t.attach_info.forEach(function(t,a){var i=/\/[0-9A-Za-z._-]+$/.exec(t)||["未知图片.jpeg"];Object(m.i)(e.firstUrl+"/"+t,i[0].replace("/",""),function(i){e.saveUrlFile.appendixDatum.splice(a,1,i),e.saveFileData.appendixDatum.push({url:t})})}),t.attach_info&&t.attach_info.forEach(function(t,a){var i=/\/[0-9A-Za-z._-]+$/.exec(t)||["未知图片.jpeg"];Object(m.i)(e.firstUrl+"/"+t,i[0].replace("/",""),function(i){e.saveUrlFile.devImage.splice(a,1,i),e.saveFileData.devImage.push({url:t})})})},handleOperationCallBack:function(e){e.status?(this.$emit("submit",this.sku),this.$message.success("操作成功")):this.$message.error(e.errorMess)}},watch:{sku:function(e){this.handleInitData()}}},Oa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"ui-content_area clearFix"},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"mini"}},[a("div",{staticClass:"ui-content_area--left"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("div",{staticClass:"ui-content_area--item"},[a("el-collapse-item",{attrs:{title:"| 商品基础资料",name:"1"}},[a("ComTableInfo",{attrs:{isSetHeight:!1,tableKey:e.tableKey,tableData:e.tableData,tableProps:e.tableProps,tableWidth:[""]},scopedSlots:e._u([{key:"sample_type",fn:function(t){return[a("div",e._l(t.row.sample_type,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}},{key:"good_info",fn:function(t){return[a("div",e._l(t.row.good_info,function(t){return a("p",[a("span",[e._v(e._s(t))])])}))]}}])}),e._v(" "),a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",{staticClass:"ui-layout"},[a("span",[e._v("样品备注")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.buy_sample_note,callback:function(t){e.$set(e.editData.sku_basic_info,"buy_sample_note",t)},expression:"editData.sku_basic_info.buy_sample_note"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("商品描述")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.goods_desc,callback:function(t){e.$set(e.editData.sku_basic_info,"goods_desc",t)},expression:"editData.sku_basic_info.goods_desc"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("商品参数")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.goods_params,callback:function(t){e.$set(e.editData.sku_basic_info,"goods_params",t)},expression:"editData.sku_basic_info.goods_params"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("注意事项")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.notice_remark,callback:function(t){e.$set(e.editData.sku_basic_info,"notice_remark",t)},expression:"editData.sku_basic_info.notice_remark"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",[e._v("包装清单")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",autosize:"",resize:"none"},model:{value:e.editData.sku_basic_info.pack_list,callback:function(t){e.$set(e.editData.sku_basic_info,"pack_list",t)},expression:"editData.sku_basic_info.pack_list"}})],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[4]||e.syncCheck[4])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品属性资料",name:"5"}},[a("ul",{staticClass:"ui-content_area--list"},[e.optionList.attrCheckList["刊登属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("刊登属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.publishAttr,callback:function(t){e.$set(e.editData,"publishAttr",t)},expression:"editData.publishAttr"}},e._l(e.optionList.attrCheckList["刊登属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["订单属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("订单属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.orderAttr,callback:function(t){e.$set(e.editData,"orderAttr",t)},expression:"editData.orderAttr"}},e._l(e.optionList.attrCheckList["订单属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["订单属性"],"orderAttr",0)?a("div",[a("ComUpload",{attrs:{url:"url","btn-type":"text","btn-size":"mini",label:"点击此处上传调研报告","auto-upload":!1,file:e.editData.orderAttrFile},on:{"update:file":function(t){e.$set(e.editData,"orderAttrFile",t)}}})],1):e._e()],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["基础属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("基础属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.basisAttr,callback:function(t){e.$set(e.editData,"basisAttr",t)},expression:"editData.basisAttr"}},e._l(e.optionList.attrCheckList["基础属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["特殊属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("特殊属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.specialAttr,callback:function(t){e.$set(e.editData,"specialAttr",t)},expression:"editData.specialAttr"}},e._l(e.optionList.attrCheckList["特殊属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),e.optionList.attrCheckList["特殊属性"]?e._e():a("span",[e._v("加载中...")])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["电池属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("电池属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.batteryAttr,callback:function(t){e.$set(e.editData,"batteryAttr",t)},expression:"editData.batteryAttr"}},e._l(e.optionList.attrCheckList["电池属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",disabled:"",placeholder:"请输入电池类型"},model:{value:e.editData.sku_attr_info.sku_attr_select.battery_type,callback:function(t){e.$set(e.editData.sku_attr_info.sku_attr_select,"battery_type",t)},expression:"editData.sku_attr_info.sku_attr_select.battery_type"}})],1):e._e(),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"20%"}},[a("el-input",{attrs:{size:"mini",disabled:"",placeholder:"电池型号"},model:{value:e.editData.sku_attr_info.sku_attr_select.battery_model,callback:function(t){e.$set(e.editData.sku_attr_info.sku_attr_select,"battery_model",t)},expression:"editData.sku_attr_info.sku_attr_select.battery_model"}})],1):e._e(),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",0)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",1)||e.autoShowHideAttrKey(e.optionList.attrCheckList["电池属性"],"batteryAttr",2)?a("div",{staticStyle:{width:"20%"}},[a("el-input",{attrs:{size:"mini",disabled:"",placeholder:"标称容量(mAh)"},model:{value:e.editData.sku_attr_info.sku_attr_select.battery_ml,callback:function(t){e.$set(e.editData.sku_attr_info.sku_attr_select,"battery_ml",t)},expression:"editData.sku_attr_info.sku_attr_select.battery_ml"}})],1):e._e()]),e._v(" "),e.optionList.attrCheckList["电池属性"]?e._e():a("span",[e._v("加载中...")])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["违禁属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("违禁属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.isBanAttr,callback:function(t){e.$set(e.editData,"isBanAttr",t)},expression:"editData.isBanAttr"}},e._l(e.optionList.attrCheckList["违禁属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["违禁属性"],"isBanAttr",0)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入刀刃长度"},model:{value:e.editData.banInfo,callback:function(t){e.$set(e.editData,"banInfo",t)},expression:"editData.banInfo"}})],1):e._e()])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["形态属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("形态属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.modelAttr,callback:function(t){e.$set(e.editData,"modelAttr",t)},expression:"editData.modelAttr"}},e._l(e.optionList.attrCheckList["形态属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["海外属性"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("海外属性")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.overseas,callback:function(t){e.$set(e.editData,"overseas",t)},expression:"editData.overseas"}},e._l(e.optionList.attrCheckList["海外属性"],function(t){return a("el-checkbox",{key:t.id,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])}))],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["证书类型"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("证书类型")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.certificateType,callback:function(t){e.$set(e.editData,"certificateType",t)},expression:"editData.certificateType"}},e._l(e.optionList.attrCheckList["证书类型"],function(t,i){return a("el-checkbox",{key:i,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),a("div",{staticClass:"ui-check__input clearFix"},[e.autoShowHideAttrKey(e.optionList.attrCheckList["证书类型"],"certificateType",0)?a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.editData.certificateTypeInfo,callback:function(t){e.$set(e.editData,"certificateTypeInfo",t)},expression:"editData.certificateTypeInfo"}})],1):e._e()])],1)]):e._e(),e._v(" "),e.optionList.attrCheckList["说明书"]?a("li",[a("span",{staticClass:"ui-label",attrs:{slot:"label"},slot:"label"},[e._v("说明书")]),e._v(" "),a("div",{staticClass:"ui-value"},[a("el-checkbox-group",{model:{value:e.editData.instructions,callback:function(t){e.$set(e.editData,"instructions",t)},expression:"editData.instructions"}},e._l(e.optionList.attrCheckList["说明书"],function(t,i){return a("el-checkbox",{key:i,attrs:{disabled:"",label:t.id}},[e._v("\n                                                "+e._s(t.attribute_value_cn)+"\n                                            ")])})),e._v(" "),e.autoShowHideAttrKey(e.optionList.attrCheckList["说明书"],"instructions",0)?a("div",{staticClass:"ui-check__input clearFix"},[a("div",{staticStyle:{width:"40%"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.editData.instructionsInfo,callback:function(t){e.$set(e.editData,"instructionsInfo",t)},expression:"editData.instructionsInfo"}})],1)]):e._e()],1)]):e._e()])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[2]||e.syncCheck[2])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品附件资料",name:"3"}},[a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.saveFileData.appendixDatum,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})])])])}))])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--btn"})])],1),e._v(" "),a("div",{staticClass:"ui-content_area--right"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[3]||e.syncCheck[3])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品开发图片",name:"4"}},[a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.saveFileData.devImage,function(t,i){return a("li",{key:i},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-checkbox ui-file__checkbox"}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.url)}}})])])])}))])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[0]||e.syncCheck[0])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品包装要求",name:"6"}},[a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("来样包装类型")]),e._v(" "),a("el-select",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.sample_pack_type,callback:function(t){e.$set(e.editData.sku_pack_request_info,"sample_pack_type",t)},expression:"editData.sku_pack_request_info.sample_pack_type"}},e._l(e.editData.sku_pack_request_info.sample_pack_type_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type_name}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("来样包装重量")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.sample_pack_weight,callback:function(t){e.$set(e.editData.sku_pack_request_info,"sample_pack_weight",t)},expression:"editData.sku_pack_request_info.sample_pack_weight "}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("g")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("来样包装尺寸")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.sample_pack_size,callback:function(t){e.$set(e.editData.sku_pack_request_info,"sample_pack_size",t)},expression:"editData.sku_pack_request_info.sample_pack_size "}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("cm")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{class:e.syncLabelCheck.productPackSync[1]&&"ui-active",attrs:{slot:"label"},slot:"label"},[e._v("缓冲包装类型")]),e._v(" "),a("el-select",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.buffer_pack_type,callback:function(t){e.$set(e.editData.sku_pack_request_info,"buffer_pack_type",t)},expression:"editData.sku_pack_request_info.buffer_pack_type"}},e._l(e.editData.sku_pack_request_info.buffer_pack_type_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type_name}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("缓冲包装型号")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.buffer_pack_model,callback:function(t){e.$set(e.editData.sku_pack_request_info,"buffer_pack_model",t)},expression:"editData.sku_pack_request_info.buffer_pack_model"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("缓冲包装要求")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.buffer_pack_request,callback:function(t){e.$set(e.editData.sku_pack_request_info,"buffer_pack_request",t)},expression:"editData.sku_pack_request_info.buffer_pack_request"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{class:e.syncLabelCheck.productPackSync[0]&&"ui-active",attrs:{slot:"label"},slot:"label"},[e._v("发货包装类型")]),e._v(" "),a("el-select",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.shipment_pack_type,callback:function(t){e.$set(e.editData.sku_pack_request_info,"shipment_pack_type",t)},expression:"editData.sku_pack_request_info.shipment_pack_type"}},e._l(e.editData.sku_pack_request_info.shipment_pack_type_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type_name}})}))],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("发货包装型号")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.shipment_pack_model,callback:function(t){e.$set(e.editData.sku_pack_request_info,"shipment_pack_model",t)},expression:"editData.sku_pack_request_info.shipment_pack_model"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("内填充物要求")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.shipment_pack_request,callback:function(t){e.$set(e.editData.sku_pack_request_info,"shipment_pack_request",t)},expression:"editData.sku_pack_request_info.shipment_pack_request"}})],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("增加包材价格")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.add_pack_price,callback:function(t){e.$set(e.editData.sku_pack_request_info,"add_pack_price",t)},expression:"editData.sku_pack_request_info.add_pack_price"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("¥")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("预估发货重量")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.estimate_shipment_weight,callback:function(t){e.$set(e.editData.sku_pack_request_info,"estimate_shipment_weight",t)},expression:"editData.sku_pack_request_info.estimate_shipment_weight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("g")])])],1)],1),e._v(" "),a("li",[a("el-form-item",{attrs:{"label-width":"100px"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("预估发货尺寸")]),e._v(" "),a("el-input",{attrs:{disabled:""},model:{value:e.editData.sku_pack_request_info.estimate_shipment_size,callback:function(t){e.$set(e.editData.sku_pack_request_info,"estimate_shipment_size",t)},expression:"editData.sku_pack_request_info.estimate_shipment_size"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("g")])])],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[1]||e.syncCheck[1])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 商品质检报告",name:"1"}},[a("ul",{staticClass:"clearFix"},[a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[0]&&"ui-active",attrs:{slot:"label"},slot:"label"},[e._v("质检等级")]),e._v(" "),a("el-form-item",[a("el-select",{attrs:{disabled:""},on:{change:function(t){e.changeGrade(e.editData.sku_qc_report_info.qc_grade)}},model:{value:e.editData.sku_qc_report_info.qc_grade,callback:function(t){e.$set(e.editData.sku_qc_report_info,"qc_grade",t)},expression:"editData.sku_qc_report_info.qc_grade"}},e._l(e.editData.sku_qc_report_info.qc_grade_list,function(e,t){return a("el-option",{key:t,attrs:{value:e.grade,label:e.grade}})}))],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[1]&&"ui-active",attrs:{slot:"label"},slot:"label"},[e._v("抽样方案")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",disabled:"",rows:2,resize:"none"},model:{value:e.editData.sku_qc_report_info.qc_sample_scheme,callback:function(t){e.$set(e.editData.sku_qc_report_info,"qc_sample_scheme",t)},expression:"editData.sku_qc_report_info.qc_sample_scheme"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[2]&&"ui-active",attrs:{slot:"label"},slot:"label"},[e._v("检测清单")]),e._v(" "),a("el-form-item",[a("div",{staticClass:"test-list"},[a("ul",{staticClass:"parent-ul"},e._l(e.editData.sku_test_list.test_list,function(t,i){return a("li",{key:i},[a("span",[e._v(e._s(t.name))])])}))])]),e._v(" "),a("el-form-item",{staticClass:"ui-ope_area clearFix"},e._l(e.editData.sku_qc_report_info.qc_detail_list,function(t,i){return a("div",{key:i,staticClass:"ui-ope_area--item"},[a("div",{staticStyle:{position:"absolute"}},[e._v(e._s(i+1))]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{disabled:"","fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1)}))],1),e._v(" "),a("li",{staticClass:"ui-layout"},[a("span",{class:e.syncLabelCheck.productReportSync[3]&&"ui-active",attrs:{slot:"label"},slot:"label"},[e._v("质量备注")]),e._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:2,disabled:"",resize:"none"},model:{value:e.editData.sku_qc_report_info.qc_remark,callback:function(t){e.$set(e.editData.sku_qc_report_info,"qc_remark",t)},expression:"editData.sku_qc_report_info.qc_remark"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-content_area--item",class:(e.syncIsNoAllCheck[2]||e.syncCheck[2])&&"ui-sync_check"},[a("el-collapse-item",{attrs:{title:"| 样品异常记录",name:"2"}},[a("ul",{staticClass:"clearFix"},[a("li",{staticClass:"ui-layout"},[a("el-table",{attrs:{data:e.editData.exceptionRecord}},[a("el-table-column",{attrs:{label:"退样类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.recordType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产品异常描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.description))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"开发解决方案"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.solution))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"不良图片",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"upload-img-list"},[""!==t.row.image?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.image+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.image)}}})])]):e._e()])]}}])})],1)],1)])])],1)])],1)]),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)])},staticRenderFns:[]};var Ua={name:"EditPage",components:{SKUPage:a("VU/8")(Ea,Oa,!1,function(e){a("/Jji")},"data-v-23c2c2ad",null).exports},props:{show:!1,row:{type:Object,default:function(){return{}}}},data:function(){return{sku:"",activePage:-1,submitSkuList:[],editPageData:{}}},computed:{operationList:function(){var e=[];try{this.editPageData.sku_list.forEach(function(t){e.push({value:t,label:t})})}catch(e){console.log(this.editPageData.sku_list)}return[].concat(e)}},methods:{handleClosePage:function(){this.$emit("update:show",!1)},handleToggleEditArea:function(e,t){this.sku=t.value,this.handleGetRepairInfo({sku:t.value,spu:this.row.spu[0]},e)},handleGetRepairInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],i=d()({},t);console.log(i,455),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample_control/sample_check_record/spu_check_log",t)}(i).then(function(t){var i=t.data;e.$set(e,"editPageData",i.data),console.log(e.editPageData,563),e.activePage=a})},handleSaveSkuSubmitState:function(e){-1===this.submitSkuList.indexOf(e)&&(this.submitSkuList.push(e),this.operationList.length-1===this.submitSkuList.length&&this.handleClosePage())}},watch:{show:function(e){e?this.handleGetRepairInfo({spu:this.row.spu[0]},0):this.activePage=-1}}},Ra={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ui-dialog_page",on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleClosePage(t):null}}},[a("div",{staticClass:"ui-head"},[a("span",[e._v("品控审核弹窗")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClosePage}})]),e._v(" "),a("div",{staticClass:"ui-left_nav"},[a("ul",e._l(e.operationList,function(t,i){return a("li",{key:i,class:{"ui-active":e.activePage===i?"ui-active":e.submitSkuList.indexOf(t.label)>-1},on:{click:function(a){e.handleToggleEditArea(i,t)}}},[a("span",[e._v(e._s(t.label))])])}))]),e._v(" "),e._l(e.operationList,function(t,i){return e.activePage===i?a("SKUPage",{key:i,attrs:{row:e.row,sku:t.label},on:{submit:e.handleSaveSkuSubmitState}}):e._e()})],2)])},staticRenderFns:[]};var za={components:{EditPage:a("VU/8")(Ua,Ra,!1,function(e){a("cEki")},"data-v-e9d0e4ce",null).exports},data:function(){return{filterShow:!1,thisVm:{},showSearch:!0,queryData:{productSPU:"",productName:"",supplierCode:"",supplierName:"",productList:[],sampleType:"",isBuySample:"",isCustom:"",auditState:"",functionInfo:"",settlementType:"",timeRange:["",""],timeMax:10,operateUser:"",priceMin:"",priceMax:"",auditTime:[],gradeType:""},optionList:{productList:[],sampleTypeList:[],buySampleList:[],customList:[],statusList:{},functionInfoList:{},settlementTypeList:{},operateUserList:{},gradeList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},lookImageUrl:"",isShowLookImage:!1,saveEditRow:{},isEditShow:!1}},computed:d()({},Object(h.c)(["queryParamsInfo","auditRecordInfo"])),methods:d()({},Object(h.b)(["GetAuditRecordInfo"]),{getOperateUser:function(){var e=this;Object(Pa.b)({function:this.queryData.functionInfo}).then(function(t){var a=t.data;a.status&&(e.optionList.operateUserList=a.data.user_operate)})},handleTimeRange:function(e){switch(e){case"1":this.queryData.timeMax=60;break;case"2":this.queryData.timeMax=24;break;case"3":this.queryData.timeMax=30}this.queryData.timeRange=[1,24]},handleClickEdit:function(e){this.saveEditRow=e,this.isEditShow=!0},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.audit_record));var a=d()({spu:this.queryData.productSPU,supplier_code:this.queryData.supplierCode,spu_category:this.queryData.productList.join("->"),sample_type:this.queryData.sampleType,is_buy_sample:this.queryData.isBuySample,is_customized:this.queryData.isCustom,status:this.queryData.auditState?13:4,function_time:this.queryData.functionInfo,used_time:this.queryData.settlementType,used_time_min:this.queryData.timeRange[0],used_time_max:this.queryData.timeRange[1],sample_price_min:this.queryData.priceMin,sample_price_max:this.queryData.priceMax,goods_name:this.queryData.productName,supplier_name:this.queryData.supplierName,function_operate:this.queryData.functionInfo,user_operate:this.queryData.operateUser,function_check:this.queryData.functionInfo,check_begin:this.queryData.auditTime[0],check_end:this.queryData.auditTime[1],grade_qc:this.queryData.gradeType},t);this.GetAuditRecordInfo(a).then(function(t){var a=t.data;2!==a.status&&(console.log(a,"data"),e.handleQueryInfoCallBack(a))}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",productName:"",supplierCode:"",supplierName:"",productList:[],sampleType:"",isBuySample:"",isCustom:"",auditState:"",functionInfo:"",settlementType:"",timeRange:["",""],timeMax:10,operateUser:"",priceMin:"",priceMax:"",auditTime:[],gradeType:""}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){e?document.querySelector("body").style.overflow="hidden":this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleToggleTableInfo:function(e){this.queryData.moduleType=e},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"audit_record",value:o()(this.queryData)}),this.optionList.productList=[].concat(z()(e.select_list.catagory_tree)),this.optionList.sampleTypeList=e.select_list.sample_type,this.optionList.buySampleList=e.select_list.is_buy_sample,this.optionList.customList=e.select_list.is_customized,this.optionList.statusList=e.select_list.status,this.optionList.functionInfoList=e.select_list.function_list,this.optionList.settlementTypeList=e.select_list.time_type,this.optionList.gradeList=e.select_list.grade_qc,this.tableData=e.data.value,this.tableData.map(function(e){return e.operation_record.reverse()}),this.tableWidth=["","","","70px","220px","220px"],this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total},checkedStatus:function(e){this.saveCheckInfo.length?this[e]=!0:this.$message.warning("请勾选数据！")},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e}}),created:function(){this.thisVm=this;try{"{}"===o()(this.auditRecordInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.audit_record),this.handleQueryInfoCallBack(this.auditRecordInfo))}catch(e){console.log(e)}}},ja={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU","string"==typeof t?t.trim():t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierCode,callback:function(t){e.$set(e.queryData,"supplierCode","string"==typeof t?t.trim():t)},expression:"queryData.supplierCode"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核结果"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核时间",template:"daterange"},model:{value:e.queryData.auditTime,callback:function(t){e.$set(e.queryData,"auditTime",t)},expression:"queryData.auditTime"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productName,callback:function(t){e.$set(e.queryData,"productName","string"==typeof t?t.trim():t)},expression:"queryData.productName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName","string"==typeof t?t.trim():t)},expression:"queryData.supplierName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业节点"}},[a("el-select",{attrs:{size:"small"},on:{change:e.getOperateUser},model:{value:e.queryData.functionInfo,callback:function(t){e.$set(e.queryData,"functionInfo",t)},expression:"queryData.functionInfo"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-select",{attrs:{disabled:!e.queryData.functionInfo,placeholder:"请选择",size:"small"},model:{value:e.queryData.operateUser,callback:function(t){e.$set(e.queryData,"operateUser",t)},expression:"queryData.operateUser"}},e._l(e.optionList.operateUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"样品类型"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.sampleType,callback:function(t){e.$set(e.queryData,"sampleType",t)},expression:"queryData.sampleType"}},e._l(e.optionList.sampleTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"是否买样"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.isBuySample,callback:function(t){e.$set(e.queryData,"isBuySample",t)},expression:"queryData.isBuySample"}},e._l(e.optionList.buySampleList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"是否定制"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.isCustom,callback:function(t){e.$set(e.queryData,"isCustom",t)},expression:"queryData.isCustom"}},e._l(e.optionList.customList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"采样价"}},[a("el-input",{staticStyle:{width:"46.5%"},attrs:{size:"small"},model:{value:e.queryData.priceMin,callback:function(t){e.$set(e.queryData,"priceMin","string"==typeof t?t.trim():t)},expression:"queryData.priceMin"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{staticStyle:{width:"46.5%"},attrs:{size:"small"},model:{value:e.queryData.priceMax,callback:function(t){e.$set(e.queryData,"priceMax","string"==typeof t?t.trim():t)},expression:"queryData.priceMax"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"质检等级"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.gradeType,callback:function(t){e.$set(e.queryData,"gradeType",t)},expression:"queryData.gradeType"}},e._l(e.optionList.gradeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:function(t){e.handleTimeRange(e.queryData.settlementType)}},model:{value:e.queryData.settlementType,callback:function(t){e.$set(e.queryData,"settlementType",t)},expression:"queryData.settlementType"}},e._l(e.optionList.settlementTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),e._v(" "),a("el-slider",{directives:[{name:"show",rawName:"v-show",value:e.queryData.settlementType,expression:"queryData.settlementType"}],attrs:{range:"",max:e.queryData.timeMax},model:{value:e.queryData.timeRange,callback:function(t){e.$set(e.queryData,"timeRange",t)},expression:"queryData.timeRange"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:e.handleResetQueryInfo}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"icon-chaxun",type:"primary"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleQueryInfo({excelType:1})}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出当前页\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.handleQueryInfo({excelType:2})}}},[a("i",{staticClass:"icon-daochu icon-main"}),e._v("导出所有\n        ")])],1),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[e._v(e._s(t.row.spu[1]))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_type,expression:"scope.row.devp_type"}],staticClass:"ui-table--supplier_code--flag"},[a("span",[e._v(e._s(t.row.devp_type))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{class:"icon-bianji"+("1"===t.row.status_code||"4"===t.row.status_code?"":" ui-disable"),on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})])])]}},{key:"photo_path",fn:function(t){return[""!==t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"good_name",fn:function(t){return e._l(t.row.good_name,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"category_path",fn:function(t){return e._l(t.row.category_path,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"sample_type",fn:function(t){return e._l(t.row.sample_type,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"good_info",fn:function(t){return e._l(t.row.good_info,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"spu_check_status",fn:function(t){return e._l(t.row.spu_check_status,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"operation_record",fn:function(t){return[e._l(t.row.operation_record,function(i,s){return t.row.operation_record.length<3?a("div",{key:s},[e._v(e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.operation_record.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.operation_record,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.operation_record,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t)+"\n                    ")]):e._e()}),e._v(" "),t.row.operation_record.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}},{key:"operation_used_time",fn:function(t){return e._l(t.row.operation_used_time,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("EditPage",{attrs:{show:e.isEditShow,row:e.saveEditRow},on:{"update:show":function(t){e.isEditShow=t}}})],1)},staticRenderFns:[]};var Fa=a("VU/8")(za,ja,!1,function(e){a("l+UF")},"data-v-fedac4ee",null).exports,Na={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    工作报表\n")])},staticRenderFns:[]};var $a=a("VU/8")({name:"WorkReport"},Na,!1,function(e){a("eMqU")},"data-v-1638cfb8",null).exports,Ma={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("样品审核报表")])},staticRenderFns:[]};var Qa=a("VU/8")({name:"SampleAuditReport"},Ma,!1,function(e){a("JPA0")},"data-v-db479028",null).exports;function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({search_type:1},f.a.ajaxData,e);return q.a.getAjax("/sample_config/qc_config/parent_type",t)}var Va={name:"BasicDataMaintain",data:function(){return{checkOption:{sub:[],type_name:""},checkList:[{id:"",type_name:"",sub:[]}]}},computed:d()({},Object(h.c)(["queryParamsInfo"])),methods:{goEditPage:function(e){this.$router.push("/test_list_maintain?queryParams="+e)},handleJumpToGroup:function(){Object(m.h)(this,{pageUrl:"/quality_control_group",pageMain:"/basic_data_maintain",pageName:"品控小组维护"},"_new")}},created:function(){var e=this;this.queryParamsInfo.basic_data_router&&this.$router.push(this.queryParamsInfo.basic_data_router),Ba().then(function(t){var a=t.data;e.checkList=a.data.list,e.checkOption=e.checkList.find(function(e){return e.sub.length>0})})}},Wa={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"content"},[i("div",{staticClass:"operation-box check-list"},[e._m(0),e._v(" "),e.checkList.length>1&&e.checkList[0].id?i("div",{staticClass:"btn-list"},[i("div",{staticClass:"list-top"},[i("div",{staticClass:"level-one",on:{click:function(t){e.goEditPage(e.checkOption.id)}}},[i("p",{staticClass:"title"},[e._v(e._s(e.checkOption.type_name[0]))]),e._v(" "),"string"!=typeof e.checkOption.type_name?i("p",{staticClass:"msg"},[e._v("\n                            ● "+e._s(e.checkOption.type_name[1]))]):e._e()]),e._v(" "),i("div",{staticClass:"list-bottom"},e._l(e.checkList,function(t,a){return!t.sub.length>0&&a<5?i("div",{key:a,staticClass:"level-one item",on:{click:function(a){e.goEditPage(t.id)}}},[i("p",{staticClass:"title"},[e._v(e._s("string"==typeof t.type_name?t.type_name:t.type_name[0]))]),e._v(" "),"string"!=typeof t.type_name?i("p",{staticClass:"msg"},[e._v("● "+e._s(t.type_name[1]))]):e._e()]):e._e()}))])]):e._e(),e._v(" "),e.checkList.length<2&&!e.checkList[0].id?i("div",{staticClass:"btn-list"},[i("div",{staticClass:"list-top"},[i("div",{staticClass:"level-one",on:{click:function(t){e.goEditPage(0)}}},[i("p",{staticClass:"title"},[e._v("添加清单")])])])]):e._e()]),e._v(" "),i("div",{staticClass:"operation-box member-maintain"},[e._m(1),e._v(" "),i("div",{staticClass:"icon-list"},[i("img",{attrs:{src:a("yb9K")},on:{click:e.handleJumpToGroup}}),e._v(" "),i("span",{staticClass:"line-dashed"}),e._v(" "),i("img",{attrs:{src:a("spQY")},on:{click:e.handleJumpToGroup}})])])]),e._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"operation-box quality-standard"},[e._m(2),e._v(" "),i("div",{staticClass:"quality-box"},[i("div",{staticClass:"btn-list"},[i("div",{staticClass:"option-box delivery-pack",on:{click:function(t){e.$router.push("/delivery_pack?queryParams=1,3")}}},[i("div",{staticClass:"op-title"},[e._v("发货包装")]),e._v(" "),e._m(3)]),e._v(" "),i("div",{staticClass:"option-box quality-grade",on:{click:function(t){e.$router.push("/delivery_pack?queryParams=6,5")}}},[i("div",{staticClass:"op-title"},[e._v("质检等级")]),e._v(" "),e._m(4)])]),e._v(" "),i("div",{staticClass:"btn-list"},[i("div",{staticClass:"option-box cushion-pack",on:{click:function(t){e.$router.push("/delivery_pack?queryParams=2,3")}}},[i("div",{staticClass:"op-title"},[e._v("缓冲包装")]),e._v(" "),e._m(5)]),e._v(" "),i("div",{staticClass:"option-box joint",on:{click:function(t){e.$router.push("/delivery_pack?queryParams=4,3")}}},[i("div",{staticClass:"op-title"},[e._v("转接头")]),e._v(" "),e._m(6)])]),e._v(" "),i("div",{staticClass:"btn-list"},[i("div",{staticClass:"option-box sample-type",on:{click:function(t){e.$router.push("/delivery_pack?queryParams=5,2")}}},[i("div",{staticClass:"op-title"},[e._v("退样类型")]),e._v(" "),e._m(7)])]),e._v(" "),i("div",{staticClass:"btn-list"},[i("div",{staticClass:"option-box material-package",on:{click:function(t){e.$router.push("/delivery_pack?queryParams=3,3")}}},[i("div",{staticClass:"op-title"},[e._v("来料包装")]),e._v(" "),e._m(8)])])])]),e._v(" "),e._m(9)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-title"},[t("p",[this._v("检查清单")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-title"},[t("p",[this._v("成员维护")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-title"},[t("p",[this._v("质检标准")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"op-item"},[t("li",[t("p",[this._v("纸箱(共13种)")])]),this._v(" "),t("li",[t("p",[this._v("普通快递袋（共8种）")])]),this._v(" "),t("li",[t("p",[this._v("气泡快递袋（共5种）")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"op-item"},[a("li",[a("p",[e._v("S")])]),e._v(" "),a("li",[a("p",[e._v("A")])]),e._v(" "),a("li",[a("p",[e._v("B")])]),e._v(" "),a("li",[a("p",[e._v("C")])]),e._v(" "),a("li",[a("p",[e._v("D")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"op-item"},[t("li",[t("p",[this._v("葫芦膜")])]),this._v(" "),t("li",[t("p",[this._v("气泡膜")])]),this._v(" "),t("li",[t("p",[this._v("卷心棒")])]),this._v(" "),t("li",[t("p",[this._v("珍珠棉")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"op-item"},[a("li",[a("p",[e._v("美规（250V10A）")])]),e._v(" "),a("li",[a("p",[e._v("澳规（250V10A）")])]),e._v(" "),a("li",[a("p",[e._v("美转欧（250V10A）")])]),e._v(" "),a("li",[a("p",[e._v("英规（250V10A）")])]),e._v(" "),a("li",[a("p",[e._v("欧规（250V10A）")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"op-item"},[a("li",[a("p",[e._v("资料错误")])]),e._v(" "),a("li",[a("p",[e._v("属性错误")])]),e._v(" "),a("li",[a("p",[e._v("无说明书")])]),e._v(" "),a("li",[a("p",[e._v("开发图不良")])]),e._v(" "),a("li",[a("p",[e._v("质量不良")])]),e._v(" "),a("li",[a("p",[e._v("样品错误")])]),e._v(" "),a("li",[a("p",[e._v("配件不良")])]),e._v(" "),a("li",[a("p",[e._v("产品重复")])]),e._v(" "),a("li",[a("p",[e._v("包装不良")])]),e._v(" "),a("li",[a("p",[e._v("物流不良")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"op-item"},[a("li",[a("p",[e._v("无包装")])]),e._v(" "),a("li",[a("p",[e._v("吸塑")])]),e._v(" "),a("li",[a("p",[e._v("白盒")])]),e._v(" "),a("li",[a("p",[e._v("彩盒")])]),e._v(" "),a("li",[a("p",[e._v("瓶装")])]),e._v(" "),a("li",[a("p",[e._v("布袋")])]),e._v(" "),a("li",[a("p",[e._v("铁盒")])]),e._v(" "),a("li",[a("p",[e._v("pe袋")])]),e._v(" "),a("li",[a("p",[e._v("热缩膜")])]),e._v(" "),a("li",[a("p",[e._v("静电袋")])]),e._v(" "),a("li",[a("p",[e._v("塑料盒")])]),e._v(" "),a("li",[a("p",[e._v("气泡袋")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"operation-box more-box"},[t("img",{attrs:{src:a("Tnly")}}),this._v(" "),t("p",{staticClass:"prompt-text"},[this._v("功能正在开发中，敬请期待...")])])}]};var Ga=a("VU/8")(Va,Wa,!1,function(e){a("3c5H")},"data-v-e2932c74",null).exports,Ka={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:"",firstGroup:""},optionList:{userList:[],canClassifyList:[],areaList:[],whetherList:[],devTypeList:[],groupTopList:[],searchUserList:[]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isFirstAddShow:!1,isEditFirstShow:!1,firstEdit:{manage:"",groupName:"",id:""},isReview:!1,isAddShow:!1,isEditShow:!1,labelWidth:"70px",editData:{groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},saveCheckId:"",editRule:{groupName:f.a.RULE_CONFIG.requiredBlur,groupManager:f.a.RULE_CONFIG.requiredChange,groupHeadman:f.a.RULE_CONFIG.requiredChange,groupUser:f.a.RULE_CONFIG.requiredChange},isProofTrue:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","qualityControlGroupInfo"])),methods:d()({},Object(h.b)(["GetQualityControlGroupInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.quality_group));var a=d()({devp_type:this.queryData.devType,category_id:this.queryData.classify[this.queryData.classify.length-1],group_name:this.queryData.groupName,top_level_pid:this.queryData.firstGroup,user_manager_id:this.queryData.groupManager,user_director_id:this.queryData.groupDirector},t);this.GetQualityControlGroupInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleToggleFirst:function(e){this.queryData.firstGroup=e.top_level_pid,this.handleQueryInfo({limit:this.pageData.currentList})},handleResetQueryInfo:function(){this.queryData={groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleDeleteInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.id,group_type:"2"};Object(et.c)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleDeleteFirstInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.top_level_pid,group_type:"2"};Object(et.b)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAddFirstInfo:function(){this.isFirstAddShow=!0},handleSaveAddFirstInfo:function(){var e=this,t={user_manager_id:this.firstEdit.manage,group_name:this.firstEdit.groupName,group_type:"2"};this.isEditFirstShow?(t.group_id=this.firstEdit.id,Object(et.d)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleEditFirst:function(e){this.firstEdit.manage=e.user_manager_id,this.firstEdit.groupName=e.group_name,this.firstEdit.id=e.top_level_pid,this.isEditFirstShow=!0,this.isFirstAddShow=!0},handleCancelAddFirstInfo:function(){this.firstEdit={manage:"",groupName:"",id:""},this.$refs.firstEdit.resetFields(),this.isFirstAddShow=!1,this.isEditFirstShow=!1},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){"readonly"===t&&(this.isReview=!0),this.handlePlayUpEditInfo(e),this.isAddShow=!0},handlePlayUpOptionList:function(e){},handlePlayUpEditInfo:function(e){this.isEditShow=!0,this.saveCheckId=e.id,this.editData.canClassify=e.group_category.map(function(e){return e.map(function(e){return e.toString()})}),this.editData.groupName=e.group_name,this.editData.parentGroup=e.top_level_pid,this.editData.groupManager=this.optionList.userList[e.user_manager_id],this.editData.groupManagerId=e.user_manager_id,this.editData.groupDirector=e.user_director_id,this.editData.groupHeadman=e.user_groupman_id,this.editData.groupUser=ie()(e.group_user_info),this.editData.area=1*e.region,this.editData.devType=1*e.devp_type,this.editData.isDiy=1*e.is_customized,this.editData.isOss=1*e.is_overseas},handleCancelEdit:function(){this.editData={groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isReview=!1},handleDelClassify:function(){1!==this.editData.canClassify.length&&this.editData.canClassify.pop()},handleAddClassify:function(){this.editData.canClassify.push([])},handleProofClassify:function(e,t){for(var a=e[e.length-1],i=0;i<this.editData.canClassify.length;i++){var s=this.editData.canClassify[i];if(t!==i&&s.indexOf(a)>-1)return this.$message.warning("适用分类选择有误！"),!0}},handleOpenProofClassify:function(e){},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){for(var a=0;a<e.editData.canClassify.length;a++)if(e.handleProofClassify(e.editData.canClassify[a],a))return;var i=[];e.editData.groupUser.forEach(function(e){i.push({user_staff_id:e})});var s={group_name:e.editData.groupName,top_level_pid:e.editData.parentGroup,user_groupman_id:e.editData.groupHeadman,user_director_id:e.editData.groupDirector,user_manager_id:e.editData.groupManagerId,group_user_info:o()(i),devp_type:e.editData.devType||0,region:e.editData.area||0,group_type:"2",is_customized:e.editData.isDiy||0,is_overseas:e.editData.isOss||0,group_category:o()(e.editData.canClassify)};e.isEditShow?(s.group_id=e.saveCheckId,Object(et.f)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.g)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&this.handleCancelEdit(),this.isFirstAddShow&&this.handleCancelAddFirstInfo()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"quality_group",value:o()(this.queryData)}),this.optionList.devTypeList=e.data_list.drop_down_data.devp_type_list,this.optionList.searchUserList=e.data_list.drop_down_data.user_data,this.optionList.canClassifyList=e.data_list.drop_down_data.category_list,this.optionList.groupTopList=e.data_list.top_group_list,this.optionList.areaList=e.data_list.drop_down_data.region_list,this.optionList.userList=e.data_list.drop_down_data.user_data,this.optionList.whetherList=e.data_list.drop_down_data.whether,this.tableData=e.data_list.value,this.tableKey=e.data_list.key,this.tableProps=["index","group_name","region","devp_type_cn","group_category_cn","group_user_info","group_user_number","operation"],this.pageData.currentList=1*e.page_data.limit,this.pageData.currentPage=1*e.page_data.offset,this.pageData.currentTotal=1*e.page_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.qualityControlGroupInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.quality_group),this.handleQueryInfoCallBack(this.qualityControlGroupInfo))}catch(e){console.log(e)}},watch:{"editData.parentGroup":function(e){var t=this;this.optionList.groupTopList.forEach(function(a){a.top_level_pid===e&&(t.editData.groupManager=t.optionList.userList[a.user_manager_id],t.editData.groupManagerId=a.user_manager_id)})}}},Ha={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"小组名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.groupName,callback:function(t){e.$set(e.queryData,"groupName",t)},expression:"queryData.groupName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组经理",options:e.optionList.searchUserList},model:{value:e.queryData.groupManager,callback:function(t){e.$set(e.queryData,"groupManager",t)},expression:"queryData.groupManager"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组主管",options:e.optionList.searchUserList},model:{value:e.queryData.groupDirector,callback:function(t){e.$set(e.queryData,"groupDirector",t)},expression:"queryData.groupDirector"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"cascader",props:{label:"category_name",value:"id"},label:"适用分类",options:e.optionList.canClassifyList},model:{value:e.queryData.classify,callback:function(t){e.$set(e.queryData,"classify",t)},expression:"queryData.classify"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"开发类型",options:e.optionList.devTypeList},model:{value:e.queryData.devType,callback:function(t){e.$set(e.queryData,"devType",t)},expression:"queryData.devType"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"clearFix"}),e._v(" "),a("div",{staticClass:"ui-shortcut"},[e._m(0),e._v(" "),a("ul",{staticClass:"ui-shortcut--area clearFix"},[e._l(e.optionList.groupTopList,function(t){return a("li",{on:{click:function(a){e.handleToggleFirst(t)}}},[a("div",{staticClass:"ui-title"},[a("span",[e._v(e._s(t.group_name))])]),e._v(" "),a("div",{staticClass:"ui-label"},[a("span",[e._v("经理人 "+e._s(t.number))])]),e._v(" "),a("span",{staticClass:"icon-shanchu ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleDeleteFirstInfo(t)}}}),e._v(" "),a("span",{staticClass:"icon-bianji ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleEditFirst(t)}}})])}),e._v(" "),a("li",{staticClass:"ui-shortcut--area--ope",on:{click:e.handleClickAddFirstInfo}},[a("span",{staticClass:"icon-tianjia"})])],2)]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增小组")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],otherHeight:["ui-shortcut"],showSearch:e.showSearch},scopedSlots:e._u([{key:"group_category_cn",fn:function(t){return[a("div",e._l(t.row.group_category_cn,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"region",fn:function(t){return[a("span",[e._v(e._s(e.optionList.areaList[1*t.row.region]))])]}},{key:"group_user_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("组长：")]),a("span",[e._v(e._s(t.row.user_groupman_cn))])]),e._v(" "),a("p",[a("span",[e._v("主管：")]),a("span",[e._v(e._s(t.row.user_director_cn))])]),e._v(" "),a("p",[a("span",[e._v("经理：")]),a("span",[e._v(e._s(t.row.user_manager_cn))])])])]}},{key:"group_user_number",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(Object.values(t.row.group_user_info).join(",")))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.group_user_info&&Object.values(t.row.group_user_info).length))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,"readonly")}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDeleteInfo(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditFirstShow?"编辑一级小组":"新增一级小组",width:"400px",visible:e.isFirstAddShow},on:{"update:visible":function(t){e.isFirstAddShow=t},close:e.handleCancelAddFirstInfo}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,size:"small"}},[a("el-form-item",{attrs:{prop:"groupName",label:"一级小组","label-width":e.labelWidth}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:""},model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelAddFirstInfo}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSaveAddFirstInfo}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.isReview?"预览":e.isEditShow?"编辑":"新增",top:"10vh",width:"800px","custom-class":"ui-com_edit",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("div",{staticClass:"clearFix"},[a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("二级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupName",label:"小组名称","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:e.isReview},model:{value:e.editData.groupName,callback:function(t){e.$set(e.editData,"groupName",t)},expression:"editData.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"area",label:"所属地区","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.area,callback:function(t){e.$set(e.editData,"area",t)},expression:"editData.area"}},e._l(e.optionList.areaList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"devType",label:"开发类型","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("div",{staticClass:"ui-tow_layout"},[a("el-form-item",{attrs:{prop:"isDiy",label:"是否定制","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.isDiy,callback:function(t){e.$set(e.editData,"isDiy",t)},expression:"editData.isDiy"}},e._l(e.optionList.whetherList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"isOss",label:"是否海外","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.isOss,callback:function(t){e.$set(e.editData,"isOss",t)},expression:"editData.isOss"}},e._l(e.optionList.whetherList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("一级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"parentGroup",label:"一级小组","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.parentGroup,callback:function(t){e.$set(e.editData,"parentGroup",t)},expression:"editData.parentGroup"}},e._l(e.optionList.groupTopList,function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.top_level_pid}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupManager",label:"小组经理","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.groupManager,callback:function(t){e.$set(e.editData,"groupManager",t)},expression:"editData.groupManager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupDirector",label:"小组主管","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupDirector,callback:function(t){e.$set(e.editData,"groupDirector",t)},expression:"editData.groupDirector"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupHeadman",label:"小组组长","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupHeadman,callback:function(t){e.$set(e.editData,"groupHeadman",t)},expression:"editData.groupHeadman"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("适用分类")])]),e._v(" "),a("div",{staticClass:"ui-item ui-btn--layout"},[e._l(e.editData.canClassify,function(t,i){return a("el-form-item",{key:i,attrs:{prop:"canClassify"}},[a("el-cascader",{attrs:{disabled:e.isReview,"change-on-select":"",placeholder:"输入搜索",options:e.optionList.canClassifyList,props:{label:"category_name",value:"id",children:"children"},filterable:""},model:{value:e.editData.canClassify[i],callback:function(t){e.$set(e.editData.canClassify,i,t)},expression:"editData.canClassify[index]"}})],1)}),e._v(" "),a("div",{staticClass:"ui-item--area--ope"},[e.isReview?e._e():a("span",{staticClass:"icon-shanjian",on:{click:e.handleDelClassify}}),e._v(" "),e.isReview?e._e():a("span",{staticClass:"icon-zengjia",on:{click:e.handleAddClassify}})])],2)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("小组成员")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupUser"}},[a("el-select",{attrs:{multiple:"",filterable:"",disabled:e.isReview},model:{value:e.editData.groupUser,callback:function(t){e.$set(e.editData,"groupUser",t)},expression:"editData.groupUser"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[e.isReview?e._e():a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),e.isReview?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-shortcut--title"},[t("span",[this._v("一级小组")])])}]};var Ja=a("VU/8")(Ka,Ha,!1,function(e){a("XQZG")},"data-v-ddbda7c6",null).exports,Za=a("Pqwt"),Ya=a.n(Za);function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/sample_config/qc_config/del_config",t)}function ei(e){var t=this.moduleTypeList.find(function(t){return e==t.id});if(t){var a=t.title;return t.level&&t.level,a}return"-"}var ti={components:{TemplateDefault:a("gema").a},props:{queryParams:0},data:function(){return{showSearch:!0,tableData:[],tableKey:[],tableWidth:[],tableMinWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},saveFileList:[],dialogFormVisible:!1,editform:{},departmentOption:f.a.departmentInfo,dialogTableVisible:!1,logData:[],logKey:[],logProps:[],logWidth:["200px","120px","120px"],importUrl:"/sample_config/qc_config/import_config ",upData:{},moduleTypeList:[],moduleType:this.queryParams,dialogAddVisible:!1,addForm:{},isShowLookImage:!1,lookImageUrl:""}},computed:d()({},Object(h.c)(["loginInfo","pageEditState"]),{downloadUrl:function(){return"/sample_config/qc_config/download_template"}}),methods:{cancelAddInfo:function(){},saveAddInfo:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/sample_config/qc_config/add_config",t)})(d()({},this.addForm)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogAddVisible=!1,e.$message({message:"添加成功!",type:"success"}),e.addForm={},e.handleQueryInfo())})},addData:function(){this.dialogAddVisible=!0},handleSort:function(e){var t=this,a=this.selectId();if(a.length){var i,s={parent_id:this.moduleType,order:e,id:a.join(",")};(i=s,console.log(i),q.a.postAjax("/sample_config/qc_config/edit_order_by",i)).then(function(){t.handleQueryInfo()})}else this.$message.warning("请勾选数据！")},handleToggleTableInfo:function(e){this.moduleType=e,this.handleQueryInfo()},handleDownloadModule:function(){window.open(this.downloadUrl,"_self")},handleUploadSuccess:function(e){e&&this.getBasicCheckList()},viewLog:function(e){var t=this;this.dialogTableVisible=!0,qt({mod_type:4,id:e}).then(function(e){var a=e.data;1===a.status?(t.logData=a.data.value,t.logData.map(function(e){return e.remark=e.remark.split("|")}),t.logProps=ie()(a.data.key),t.logKey=ne()(a.data.key)):t.logData=[]})},saveEditInfo:function(){var e=this,t=d()({},this.editform);delete t.create_time,delete t.parent_id,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/sample_config/qc_config/edit_config",t)}(d()({},t)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogFormVisible=!1,e.$message({message:"修改成功!",type:"success"}),e.handleQueryInfo())})},editItem:function(e){this.dialogFormVisible=!0,this.editform=_t()({},e)},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.id)}),e},delData:function(){var e=this,t=this.selectId();t.length?this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){Xa({id:t.join(",")}).then(function(){e.$message({message:"删除成功!",type:"success"}),e.handleQueryInfo()})}):this.$message.warning("请勾选数据！")},delItem:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){Xa({id:e}).then(function(){t.$message({message:"删除成功!",type:"success"}),t.handleQueryInfo()})})},handleExportListInfo:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},e),a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");window.open("/sample_config/qc_config/export_config"+a,"_self")}({parent_id:this.moduleType,id:this.selectId().join(",")})},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({limit:20,offset:1},e);return q.a.getAjax("/sample_config/qc_config/config_list",t)})(d()({parent_id:this.moduleType},t)).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1})},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleQueryInfoCallBack:function(e){console.log("TCL: handleQueryInfoCallBack -> data",e);var t=this;if(e.data){this.tableData=e.data.value,this.tableData.map(function(e){var a=Ya()(ei,t,[e.parent_id]);return e.parent_id=a});var a=d()({},e.data.key);delete a.parent_id,this.tableProps=ie()(a),this.tableKey=ne()(a),this.tableMinWidth=this.tableProps.map(function(e){return"id"==e?"40":"rqstd"==e?"500":"type_name"==e?"100":"create_time"==e?"70":""}),this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}else this.tableData=[]},getBasicCheckList:function(){var e=this;this.moduleTypeList=[{title:"全部",id:0,level:""}],Ba().then(function(t){t.data.data.list.forEach(function(t){var a=t.type_name,i=t.id,s="";Array.isArray(a)&&(s="("+a[1]+")",a=a[0]),e.moduleTypeList.push({title:a,level:s,id:i})}),e.handleQueryInfo()})},goBack:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"basic_data_router",value:null}),this.$router.go(-1)}},created:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"basic_data_router",value:this.$route.fullPath}),this.moduleType=this.queryParams,this.getBasicCheckList(),this.upData={user_id:this.loginInfo.staff_code||"12534"}}},ai={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small",icon:"icon-shangsheng icon_blue"},on:{click:function(t){e.handleSort(-2)}}},[e._v("上升")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"icon-xiajiang icon_orange"},on:{click:function(t){e.handleSort(2)}}},[e._v("下降")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"icon-daochu icon_blue"},on:{click:e.handleExportListInfo}},[e._v("导出\n        ")]),e._v(" "),a("ComUpload",{staticClass:"ui-upload_btn",attrs:{label:"批量导入",btnType:"text",url:e.importUrl,upData:e.upData,multiple:!0},on:{success:e.handleUploadSuccess}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon-piliangdaoru icon_purple"})])],2),e._v(" "),a("el-button",{attrs:{size:"small",type:"text",icon:"icon-xiajiang icon-main"},on:{click:e.handleDownloadModule}},[e._v("下载模板\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"icon-xinzeng1 icon_blue"},on:{click:e.addData}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"icon-shanchu1 icon_pink"},on:{click:e.delData}},[e._v("删除")]),e._v(" "),a("el-button",{staticClass:"danger-border",attrs:{type:"text",size:"small",icon:"icon-fanhui icon_blue"},on:{click:e.goBack}},[e._v("返回\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,tableMinWidth:e.tableMinWidth,showSearch:e.showSearch,otherHeight:["ui-main-tab"]},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"rqstd",fn:function(e){}},{key:"operate",fn:function(t){return[a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delItem(t.row.id)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewLog(t.row.id)}}},[e._v("日志")])]}}])})]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.moduleType===t.id&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.id)}}},[e._v(e._s(t.title)+e._s(t.level)),a("i",{staticClass:"ui-tab_line"})])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"编辑",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editform,"label-width":"80px"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{key:i,attrs:{label:t}},["rqstd"!==e.tableProps[i]?a("el-input",{attrs:{size:"small",disabled:"id"===e.tableProps[i]||"parent_id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]},model:{value:e.editform[e.tableProps[i]],callback:function(t){e.$set(e.editform,e.tableProps[i],t)},expression:"editform[tableProps[index]]"}}):e._e(),e._v(" "),"rqstd"===e.tableProps[i]?a("el-input",{attrs:{type:"textarea",rows:5,resize:"none"},model:{value:e.editform.rqstd,callback:function(t){e.$set(e.editform,"rqstd",t)},expression:"editform.rqstd"}}):e._e()],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveEditInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-edit_layout_big",attrs:{width:"640px",top:"5vh",title:"新增",visible:e.dialogAddVisible,"before-close":e.cancelAddInfo},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{attrs:{model:e.addForm,"label-width":"100px"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!("id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]),expression:"!(tableProps[index]==='id'||tableProps[index]==='create_time'||tableProps[index]==='create_user')"}],key:i,attrs:{label:t}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:!("parent_id"===e.tableProps[i]),expression:"!(tableProps[index]==='parent_id')"}],attrs:{size:"small"},model:{value:e.addForm[e.tableProps[i]],callback:function(t){e.$set(e.addForm,e.tableProps[i],t)},expression:"addForm[tableProps[index]]"}}),e._v(" "),"parent_id"===e.tableProps[i]?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.parent_id,callback:function(t){e.$set(e.addForm,"parent_id",t)},expression:"addForm.parent_id"}},e._l(e.moduleTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.title+e.level,value:e.id}})})):e._e()],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveAddInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"查看日志",visible:e.dialogTableVisible,top:"5vh"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.logKey,tableProps:e.logProps,tableData:e.logData,tableWidth:e.logWidth},scopedSlots:e._u([{key:"remark",fn:function(t){return e._l(t.row.remark,function(t){return a("p",{key:t},[e._v("\n                    "+e._s(t)+"\n                ")])})}}])})],1)],1)},staticRenderFns:[]};var ii=a("VU/8")(ti,ai,!1,function(e){a("Ssq6")},"data-v-859da94e",null).exports;function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);switch(e.fid){case"5":return q.a.postAjax("/sample_config/return_config/del_config",t);case"6":return q.a.postAjax("/sample_config/quality_config/del_config",t);default:return q.a.postAjax("/sample_config/sample_config/del_config",t)}}var ni={props:{queryParams:{}},data:function(){return{showSearch:!0,tableData:[],tableKey:[],tableWidth:[],tableMinWidth:[],tableProps:[],packType:{},saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},saveFileList:[],dialogFormVisible:!1,editForm:{},dialogTableVisible:!1,logData:[],logKey:[],logProps:[],logWidth:["200px","120px","120px"],importUrl:"",upData:{},moduleTypeList:[{label:"发货包装",value:"1",log:"3"},{label:"缓冲包装",value:"2",log:"3"},{label:"退样类型",value:"5",log:"2"},{label:"来料包装",value:"3",log:"3"},{label:"质检等级",value:"6",log:"5"},{label:"转接头",value:"4",log:"3"}],params:{},departmentOption:f.a.departmentInfo,dialogAddVisible:!1,addForm:{},size:new Array(3),isShowLookImage:!1,lookImageUrl:""}},computed:d()({},Object(h.c)(["loginInfo","queryParamsInfo"]),{downloadUrl:function(){return"/sample_config/sample_config/download_template"}}),methods:{makeLog:m.k,handleImport:function(){switch(this.params.fid){case"5":this.importUrl="/sample_config/return_config/import_config";break;case"6":this.importUrl="/sample_config/quality_config/import_config";break;default:this.importUrl="/sample_config/sample_config/import_config"}this.upData={user_id:this.loginInfo.staff_code||"12534",fid:this.params.fid}},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleSaveFileList:function(e,t){var a=this,i=new FormData;i.append("file",e.raw),At(i).then(function(e){var i=e.data;1==i.status?a.$set(t,"pack_img",i.data.path):a.$message.error(i.errorMess)})},handleToggleTableInfo:function(e){this.params.fid=e.value,this.params.log=e.log,this.handleQueryInfo(),this.handleImport(),this.addForm={}},handleDownloadModule:function(){window.open(this.downloadUrl+"?fid="+this.params.fid,"_self")},handleUploadSuccess:function(e,t){e.errorMess?this.$message.error(e.errorMess||"操作失败"):this.handleQueryInfo()},viewLog:function(e){var t=this;this.dialogTableVisible=!0,qt({mod_type:this.params.log,id:e}).then(function(e){var a=e.data;1===a.status?(t.logData=a.data.value,t.logData.map(function(e){return e.remark=e.remark.split("|")}),t.logProps=ie()(a.data.key),t.logKey=ne()(a.data.key)):t.logData=[]})},cancelAddInfo:function(){this.dialogAddVisible=!1},cancelEditInfo:function(){this.dialogFormVisible=!1,this.editForm.fileList=[],this.size=[]},saveAddInfo:function(){var e=this,t=this.size.join("*");(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);switch(e.fid){case"5":return q.a.postAjax("/sample_config/return_config/add_config",t);case"6":return q.a.postAjax("/sample_config/quality_config/add_config",t);default:return q.a.postAjax("/sample_config/sample_config/add_config",t)}})(d()({fid:this.params.fid},this.addForm,{size:t})).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogAddVisible=!1,e.$message({message:"添加成功!",type:"success"}),e.addForm={},e.size=[],e.handleQueryInfo())})},saveEditInfo:function(){var e=this,t=d()({},this.editForm);for(var a in delete t.create_time,delete t.fileList,t.size=this.size.join("*"),this.packType)if(t.pack_type_id===this.packType[a]){t.pack_type_id=a;break}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);switch(e.fid){case"5":return q.a.postAjax("/sample_config/return_config/edit_config",t);case"6":return q.a.postAjax("/sample_config/quality_config/edit_config",t);default:return q.a.postAjax("/sample_config/sample_config/edit_config",t)}})(d()({fid:this.params.fid},t)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogFormVisible=!1,e.$message({message:"修改成功!",type:"success"}),e.handleQueryInfo())})},editItem:function(e){this.dialogFormVisible=!0,this.editForm=_t()({},e),this.size=this.editForm.size.split("*"),""!==this.editForm.pack_img&&(this.editForm.fileList=[{name:"",url:this.editForm.pack_img}])},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.id)}),e},addData:function(){this.dialogAddVisible=!0,console.log(this.editForm,8989)},delData:function(){var e=this,t=this.selectId();t.length?this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){si({id:t.join(","),modify_user:e.loginInfo.user_name,fid:e.params.fid}).then(function(){e.$message({message:"删除成功!",type:"success"}),e.handleQueryInfo()})}):this.$message.warning("请勾选数据！")},delItem:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){si({id:e,modify_user:t.loginInfo.user_name,fid:t.params.fid}).then(function(){t.$message({message:"删除成功!",type:"success"}),t.handleQueryInfo()})})},handleExportListInfo:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},e),a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");switch(e.fid){case"5":window.open("/sample_config/return_config/export_config"+a,"_self");break;case"6":window.open("/sample_config/quality_config/export_config"+a,"_self");break;default:window.open("/sample_config/sample_config/export_config"+a,"_self")}}({fid:this.params.fid,id:this.selectId().join(",")})},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(this.params);var a=d()({fid:this.params.fid},t);console.log(a,88),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({limit:20,offset:1},e);switch(e.fid){case"5":return q.a.getAjax("/sample_config/return_config/config_list",t);case"6":return q.a.getAjax("/sample_config/quality_config/config_list",t);default:return q.a.getAjax("/sample_config/sample_config/config_list",t)}}(a).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1})},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleQueryInfoCallBack:function(e){this.tableData=e.data.value,this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.tableMinWidth=this.tableProps.map(function(e){return"id"===e?"40":"pack_type_id"===e||"sku"===e||"material_type"===e?"70":"pack_img"===e?"100px":"create_time"===e||"size"===e?"90":"remark"===e||"introduce"===e||"define_rqstd"===e?"200":void 0}),this.packType=e.select_list.pack_type,this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total},goBack:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"basic_data_router",value:null}),this.$router.go(-1)}},created:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"basic_data_router",value:this.$route.fullPath});var e=this.queryParams.split(",");this.params={fid:e[0],log:e[1]},this.handleQueryInfo(),this.handleImport()}},oi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("div",{staticClass:"ui-fn-module"},[a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text",size:"small"},on:{click:e.handleExportListInfo}},[a("i",{staticClass:"icon-daochu icon_blue"}),e._v("导出\n        ")]),e._v(" "),a("ComUpload",{staticClass:"ui-upload_btn",attrs:{btnType:"text",label:"批量导入",url:e.importUrl,upData:e.upData,multiple:!0},on:{success:e.handleUploadSuccess},scopedSlots:e._u([{key:"icon",fn:function(e){return[a("i",{staticClass:"icon-piliangdaoru icon_purple"})]}}])}),e._v(" "),a("el-button",{staticClass:"load-text",attrs:{size:"small",type:"text",icon:"icon-xiajiang icon_blue"},on:{click:e.handleDownloadModule}},[e._v("下载模板\n        ")]),e._v(" "),a("el-button",{staticClass:"danger-border",attrs:{type:"text",size:"small",icon:"icon-xinzeng1 icon_blue"},on:{click:e.addData}},[e._v("\n            新增\n        ")]),e._v(" "),a("el-button",{staticClass:"danger-border",attrs:{type:"text",size:"small",icon:"icon-shanchu1 icon_pink"},on:{click:e.delData}},[e._v("\n            删除\n        ")]),e._v(" "),a("el-button",{staticClass:"danger-border",attrs:{type:"text",size:"small",icon:"icon-fanhui icon_blue"},on:{click:e.goBack}},[e._v("返回\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,tableMinWidth:e.tableMinWidth,showSearch:e.showSearch,oherHeight:["ui-main-tab"]},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"remark",fn:function(e){}},{key:"pack_img",fn:function(t){return[""!==t.row.pack_img?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.pack_img+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.pack_img)}}})])])]):e._e()]}},{key:"operate",fn:function(t){return[a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delItem(t.row.id)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewLog(t.row.id)}}},[e._v("日志")])]}}])})]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.params.fid==t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t)}}},[e._v(e._s(t.label)),a("i",{staticClass:"ui-tab_line"})])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{width:"500px",top:"5vh",title:"编辑",visible:e.dialogFormVisible,"before-close":e.cancelEditInfo},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editForm,"label-width":"100px"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{key:i,class:{clearBoth:"pack_img"===e.tableProps[i]},attrs:{label:t}},["pack_img"!==e.tableProps[i]&&"size"!==e.tableProps[i]?a("el-input",{staticStyle:{width:"96%"},attrs:{size:"big",disabled:"id"===e.tableProps[i]||"pack_type_id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]},model:{value:e.editForm[e.tableProps[i]],callback:function(t){e.$set(e.editForm,e.tableProps[i],t)},expression:"editForm[tableProps[index]]"}}):e._e(),e._v(" "),"size"===e.tableProps[i]?a("div",{staticClass:"size-item-wrap"},[a("el-input",{staticClass:"size-item",attrs:{size:"small"},model:{value:e.size[0],callback:function(t){e.$set(e.size,0,t)},expression:"size[0]"}}),e._v(" "),a("el-input",{staticClass:"size-item",attrs:{size:"small"},model:{value:e.size[1],callback:function(t){e.$set(e.size,1,t)},expression:"size[1]"}}),e._v(" "),a("el-input",{staticClass:"size-item",attrs:{size:"small"},model:{value:e.size[2],callback:function(t){e.$set(e.size,2,t)},expression:"size[2]"}})],1):e._e(),e._v(" "),"pack_img"===e.tableProps[i]?a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"upload-img-list"},[""!==e.editForm.pack_img?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+e.editForm.pack_img+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.editForm.pack_img=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleLookImage(e.editForm.pack_img)}}})])]):e._e(),e._v(" "),""==e.editForm.pack_img?a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(t){e.handleSaveFileList(t,e.editForm)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1):e._e()])]):e._e()],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveEditInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-edit_layout_big",attrs:{width:"800px",top:"5vh",title:"新增",visible:e.dialogAddVisible,"before-close":e.cancelAddInfo},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{attrs:{model:e.addForm,"label-width":"100px"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!("id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]),expression:"!(tableProps[index]==='id'||tableProps[index]==='create_time'||tableProps[index]==='create_user')"}],key:i,class:{clearBoth:"pack_img"===e.tableProps[i]},attrs:{label:t}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:"pack_img"!==e.tableProps[i]&&"pack_type_id"!==e.tableProps[i]&&"size"!==e.tableProps[i],expression:"tableProps[index]!=='pack_img'&&tableProps[index]!=='pack_type_id'&&tableProps[index]!=='size'"}],attrs:{size:"small"},model:{value:e.addForm[e.tableProps[i]],callback:function(t){e.$set(e.addForm,e.tableProps[i],t)},expression:"addForm[tableProps[index]]"}}),e._v(" "),"size"===e.tableProps[i]?a("div",{staticClass:"size-item-wrap"},[a("el-input",{staticClass:"size-item",attrs:{size:"small"},model:{value:e.size[0],callback:function(t){e.$set(e.size,0,t)},expression:"size[0]"}}),e._v(" "),a("el-input",{staticClass:"size-item",attrs:{size:"small"},model:{value:e.size[1],callback:function(t){e.$set(e.size,1,t)},expression:"size[1]"}}),e._v(" "),a("el-input",{staticClass:"size-item",attrs:{size:"small"},model:{value:e.size[2],callback:function(t){e.$set(e.size,2,t)},expression:"size[2]"}})],1):e._e(),e._v(" "),"pack_type_id"===e.tableProps[i]?a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.addForm.pack_type_id,callback:function(t){e.$set(e.addForm,"pack_type_id",t)},expression:"addForm.pack_type_id"}},e._l(e.packType,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"pack_img"===e.tableProps[i],expression:"tableProps[index]==='pack_img'"}],staticStyle:{"text-align":"left"}},[a("div",{staticClass:"upload-img-list"},[e.addForm.pack_img?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+e.addForm.pack_img+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.addForm.pack_img=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleLookImage(e.addForm.pack_img)}}})])]):e._e(),e._v(" "),e.addForm.pack_img?e._e():a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(t){e.handleSaveFileList(t,e.addForm)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1)])])],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveAddInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"查看日志",visible:e.dialogTableVisible,top:"5vh"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.logKey,tableProps:e.logProps,tableData:e.logData,tableWidth:e.logWidth},scopedSlots:e._u([{key:"remark",fn:function(t){return e._l(t.row.remark,function(t,i){return a("p",{key:i},[e._v("\n                    "+e._s(t)+"\n                ")])})}}])})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)},staticRenderFns:[]};var ri=a("VU/8")(ni,oi,!1,function(e){a("Jfnx")},"data-v-bb9399d0",null).exports,li={},ci=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=d()({},f.a.ajaxData,e);return q.a.getAjax("/sample/sample_scan/shot_display_codes",t)},ui={data:function(){return{thisVm:{},queryData:{code:"",user_id:"",user_name:"",list_type:"1",department:""},optionList:{moduleTypeList:[{label:"商品台车",value:"1"},{label:"商品SPU",value:"3"}]},tableData:[],tableKey:["编号","商品台车","商品箱号","商品目录","商品数量","送样人","送样时间","备注说明"],tableWidth:[],tableProps:[],saveCheckInfo:[],cacheList:{trolleyData:[],spuData:[]},pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0}}},computed:d()({},Object(h.c)(["shotScanListInfo","queryParamsInfo"])),methods:d()({},Object(h.b)(["SaveShotScanListInfo"]),{handleQueryInfo:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1];switch(this.queryData.list_type){case"1":this.handleQueryInfoCallBack(this.cacheList.trolleyData);break;case"3":this.handleQueryInfoCallBack(this.cacheList.spuData)}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleToggleTableInfo:function(e){this.queryData.list_type=e,this.handleQueryInfo()},handleUserInfo:function(){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"shot_scan",value:o()(this.queryData)})},handleScanInfo:function(){var e=this,t=parseInt(this.queryData.list_type,10),a=this.queryData.code;ci({handle_type:t,code:a}).then(function(t){var a=t.data;1===a.status?(e.queryData.code="",e.handleQueryInfoCallBack(a.list)):e.$message({message:a.errMsg,type:"warning"})})},handleQueryInfoCallBack:function(e){var t=parseInt(this.queryData.list_type,10);if(Object(m.j)(e)){var a=[].concat(z()(e));for(var i in a){var s=parseInt(i,10)+1;a[i]=_t()({num:s},a[i])}this.tableData=a,this.tableProps=ie()(a[0])}else this.tableData=[];switch(this.tableWidth[0]="90px",t){case 1:this.tableWidth[4]="90px",this.tableWidth[5]="200px",this.tableWidth[7]="300px",this.tableKey=["编号","商品台车","商品箱号","商品目录","商品数量","送样人","送样时间","备注说明"],this.cacheList.trolleyData=e;break;case 3:this.tableWidth[1]="90px",this.tableWidth[2]="200px",this.tableKey=["编号","商品SPU","商品名称","样品数量","送样人","送样时间","备注说明"],this.cacheList.spuData=e}this.SaveShotScanListInfo(this.cacheList)},handleDelScan:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.saveCheckInfo.length&&0===e.length)return this.$message.warning("请勾选数据！");e=e.length>0?e:this.saveCheckInfo;var t=[].concat(z()(this.tableData));e.forEach(function(e){var a=e.num;t=t.filter(function(e){return e.num!==a})}),this.handleQueryInfoCallBack(t)},handleSendScan:function(){var e=this;if(!this.saveCheckInfo.length)return this.$message.warning("请勾选数据！");var t=[].concat(z()(this.saveCheckInfo));this.$confirm("确认提交？","提示",{type:"warning"}).then(function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=d()({},f.a.ajaxData,e);return q.a.postAjax("/sample/Sample_scan/shot_submit_codes",t)})({handle_type:parseInt(e.queryData.list_type,10),submit_data:e.getSumbitData(e.saveCheckInfo)}).then(function(a){var i=a.data;return 1===i.status?(e.handleDelScan(t),e.$message.success(i.errorMess||"提交成功！")):e.$message.warning(i.errorMess||"提交失败！")})})},getSumbitData:function(e){var t=function(e,t){return t=Array.isArray(t)?[].concat(z()(t)):t.split(","),e.map(function(e){return d()({},t.reduce(function(t,a){return d()({},t,we()({},a,e[a]))},{}))})};switch(parseInt(this.queryData.list_type,10)){case 1:return t(e,"trolley_id,box_id");case 3:return t(e,"spu");default:return null}}}),created:function(){if(Object(m.j)(this.shotScanListInfo))this.cacheList=this.shotScanListInfo,this.handleQueryInfo();else{var e={handle_type:this.queryData.list_type,is_frist:1,code:""};ci(e).then(function(e){var t=e.data;console.log(t,"8888")})}this.tableWidth[0]="90px",this.tableWidth[4]="90px",this.queryParamsInfo.shot_scan&&(this.queryData=JSON.parse(this.queryParamsInfo.shot_scan))}},di={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("el-input",{attrs:{size:"small",placeholder:"请输入工号"},on:{blur:e.handleUserInfo},model:{value:e.queryData.user_id,callback:function(t){e.$set(e.queryData,"user_id",t)},expression:"queryData.user_id"}})],1),e._v(" "),a("li",[a("el-input",{attrs:{size:"small",placeholder:"带出部门"},model:{value:e.queryData.department,callback:function(t){e.$set(e.queryData,"department",t)},expression:"queryData.department"}})],1),e._v(" "),a("li",[a("el-input",{attrs:{size:"small",placeholder:"带出姓名"},model:{value:e.queryData.handle_type,callback:function(t){e.$set(e.queryData,"handle_type",t)},expression:"queryData.handle_type"}},[a("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("退出")])],1)],1)]),e._v(" "),a("ul",{staticClass:"ui-scan-search"},[a("li",[a("el-input",{attrs:{size:"small",autofocus:"",placeholder:"商品台车/精品SPU/试卖SPU"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleScanInfo(t):null}},model:{value:e.queryData.code,callback:function(t){e.$set(e.queryData,"code",t)},expression:"queryData.code"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.handleScanInfo},slot:"append"},[e._v("扫码")])],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleDelScan}},[a("i",{staticClass:"icon-shanchusaoma icon_pink"}),e._v("删除扫码\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleSendScan}},[a("i",{staticClass:"icon-querendaoyang icon_blue"}),e._v("提交送样\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,"other-height":["ui-fn-module"],tableWidth:e.tableWidth},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"create_user",fn:function(t){return[a("p",[e._v("开发部："+e._s(t.row.create_user[0]))]),e._v(" "),a("p",[e._v("品控部："+e._s(t.row.create_user[1]))])]}},{key:"create_time",fn:function(t){return[a("p",[e._v("开发部："+e._s(t.row.create_time[0]))]),e._v(" "),a("p",[e._v("品控部："+e._s(t.row.create_time[1]))])]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.list_type===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var pi=a("VU/8")(ui,di,!1,function(e){a("cVbH")},"data-v-5f4d9c05",null).exports,hi=a("8snA"),_i={data:function(){return{filterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{list_type:"1",spu:"",supplier_code:"",goods_name:"",supplier_name:"",function:"",user:"",opera_user:"",is_get_base:""},optionList:{workerList:{},groupUser:[{user_code:"13715",user_name:"yq"},{user_code:"13718",user_name:"fr"}],productListList:[],functionInfoList:{},statusList:{},moduleTypeList:[{label:"待分配",value:"1"},{label:"待拍摄",value:"2"},{label:"拍摄记录",value:"3"}]},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isEditShow:!1,formLabelWidth:"110px",saveCheckId:"",editData:{comCode:"",supplierName:"",applyAddress:"",applyDate:"",companyType:"",supplierLink:"",pAndCity:[],area:"",contacts:"",phoneNumber:"",contactsPhone:"",wxNumber:"",qqNumber:"",email:"",paymentType:"",settlementType:"",point:""},editRule:{},isShowLookImage:!1,lookImageUrl:[],saveFileList:[],classSearch:[{title:"全部",number:400},{title:"手机周边",number:35},{title:"全部",number:350},{title:"服饰珠宝",number:5e4},{title:"服饰珠宝",number:5},{title:"服饰珠宝",number:5012121},{title:"服饰珠宝",number:50121212},{title:"服饰珠宝",number:5012121},{title:"服饰珠宝",number:501212},{title:"服饰珠宝",number:501212},{title:"服饰珠宝",number:501213213}],isShowAssign:!1,isShowReject:!1,rejectData:[],rejectList:[],rejectDefault:{},isLeader:!1}},computed:d()({},Object(h.c)(["queryParamsInfo","photographyGoodsListInfo"])),methods:d()({},Object(h.b)(["GetPhotographyGoodsListInfo"]),{getArrByStr:function(e){var t=e+"";return t=t.split(",")},querySearch:function(e,t){var a=this.optionList.groupUser;a.forEach(function(e){e.value=e.user_name}),t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return t.user_name.toLowerCase().indexOf(e.toLowerCase())>=0}},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.photography_goods_list));var a=d()({},this.queryData,t);this.GetPhotographyGoodsListInfo(a).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={supplierCode:"",supplierName:"",supplierType:"",settlementType:"",devUser:"",deliverAddress:[],paymentMode:"",liaisons:"",createUser:"",createTime:[],state:""}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.spu[0])}),e},handleToggleTableInfo:function(e){this.queryData.list_type=e,this.handleQueryInfo(),this.$refs.myTable.handleRefreshTableHeight()},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleSaveFileList:function(e,t){var a=this,i=new FormData;i.append("file",e.raw),At(i).then(function(e){var i=e.data;1==i.status?t.image=i.data.path:a.$message.error(i.errorMess)}),console.log(t.image,8899)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"photography_goods_list",value:o()(this.queryData)}),this.isLeader=e.is_leader,this.tableData=e.data.value,this.tableWidth=["60","150","70","200","150","80","250","120","220","120",""],this.tableData.map(function(e){return e.opera_log.reverse()}),this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),console.log(this.tableProps),this.optionList.productListList=[].concat(z()(e.select_list.category)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total},checkedStatus:function(e){this.saveCheckInfo.length?this[e]=!0:this.$message.warning("请勾选数据！")},handleClickAssign:function(){this.checkedStatus("isShowAssign")},handleConfirmAssign:function(e){var t=this;console.log(e.check,88);var a={spu:this.selectId().join(","),distr_user:e.check};Object(hi.a)(a).then(function(e){1===e.data.status?(t.$message.success("操作成功"),t.handleQueryInfo()):t.$message.error("操作失败")})},handleClickReject:function(){this.checkedStatus("isShowReject")},rejectTypeChange:function(e){var t=e.rejectList.find(function(t){return e.type===t.id});e.setting_introduce=t.setting_introduce,e.remark=t.remark,e.reject_to_dpt=t.reject_to_dpt,e.reject_to_dpts=t.reject_to_dpts.split("/")},handleRejectInfo:function(){var e=this;Object(hi.d)({reject_from_dpt:3}).then(function(t){var a=t.data;e.rejectList=a.data.list,e.rejectDefault={rejectList:e.rejectList,type:"",setting_introduce:"",reject_to_dpt:"",reject_to_dpts:[],remark:"",image:""},e.rejectData.push(_t()({},e.rejectDefault))})},handleConfirmReject:function(){var e=this,t=[];this.rejectData.forEach(function(e){t.push({reject_reason:e.type,reject_content:e.setting_introduce,reject_image:e.image,type:e.reject_to_dpt})});var a={spu:this.selectId().join(","),reject_data:t};console.log(a,99),Object(hi.e)(a).then(function(t){var a=t.data;1===a.status?(e.$message.success("操作成功!"),e.isShowReject=!1,e.handleQueryInfo(),e.rejectData.length=0,e.rejectData.push(_t()({},e.rejectDefault)),console.log(a,123)):e.$message.error("操作失败! 请检查填写是否正确!")})},handleDeleteInput:function(e){this.rejectData.splice(e,1)},handleAddInput:function(e){this.rejectData.splice(e+1,0,_t()({},this.rejectDefault))},handleClickSubmit:function(){var e=this;this.saveCheckInfo.length?this.$confirm("确认提交？","提示",{type:"warning"}).then(function(){Object(hi.f)({spu:e.selectId().join(",")}).then(function(t){1===t.data.status?e.$message.success("操作成功!"):e.$message.error("操作失败!")})}):this.$message.warning("请勾选数据！")},searchGroup:function(e){console.log(e)}}),created:function(){var e=this;this.thisVm=this;try{"{}"===o()(this.photographyGoodsListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.photography_goods_list),this.handleQueryInfoCallBack(this.photographyGoodsListInfo))}catch(e){console.log(e)}Object(hi.c)().then(function(t){var a=t.data,i={};a.data&&(a.data.forEach(function(e){i[e.user_number]=e.user_name}),e.optionList.workerList=i)}),this.handleRejectInfo()}},mi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.spu,callback:function(t){e.$set(e.queryData,"spu",t)},expression:"queryData.spu"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier_code,callback:function(t){e.$set(e.queryData,"supplier_code",t)},expression:"queryData.supplier_code"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.user,callback:function(t){e.$set(e.queryData,"user",t)},expression:"queryData.user"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.function,callback:function(t){e.$set(e.queryData,"function",t)},expression:"queryData.function"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.operateUseTime,callback:function(t){e.$set(e.queryData,"operateUseTime",t)},expression:"queryData.operateUseTime"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.goods_name,callback:function(t){e.$set(e.queryData,"goods_name",t)},expression:"queryData.goods_name"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier_name,callback:function(t){e.$set(e.queryData,"supplier_name",t)},expression:"queryData.supplier_name"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1},model:{value:e.queryData.opera_user,callback:function(t){e.$set(e.queryData,"opera_user",t)},expression:"queryData.opera_user"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module ui-fn-module--2"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.queryData.list_type&&e.isLeader,expression:"queryData.list_type==1 && isLeader"}]},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon_orange"}),e._v("指派任务\n            ")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.queryData.list_type,expression:"queryData.list_type==2"}]},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickReject}},[a("i",{staticClass:"icon-bohui icon-danger"}),e._v("驳回\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickSubmit}},[a("i",{staticClass:"icon-piliangchuangjian",staticStyle:{color:"#fd996b"}}),e._v("提交\n            ")]),e._v(" "),e.isLeader?a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon-warn"}),e._v("重新指派\n            ")]):e._e()],1)]),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch,otherHeight:["ui-main-tab","ui-search-area--2","ui-fn-module--2"]},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"id",fn:function(t){return[a("div",[a("span",{class:"1"===t.row.reject_type?"el-icon-warning":"el-icon-success"}),e._v(" "),a("p",[e._v(e._s(t.row.id))])])]}},{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[a("el-popover",{attrs:{placement:"right",trigger:"hover"}},[a("ul",{staticClass:"ui-sku_open"},e._l(e.getArrByStr(t.row.sku),function(t,i){return a("li",[e._v(e._s(t)+"\n                            ")])})),e._v(" "),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.spu[1]))])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_types,expression:"scope.row.devp_types"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_types))])])])]}},{key:"photo_path",fn:function(t){return[""!==t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"good_name",fn:function(t){return[e._v("\n            "+e._s(t.row.good_name[0])+"\n        ")]}},{key:"category_path",fn:function(t){return e._l(t.row.category_path,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"sample_type",fn:function(t){return e._l(t.row.sample_type,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"good_info",fn:function(t){return[e._l(t.row.good_info,function(t,i){return a("p",{key:i},[e._v(e._s(t))])}),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[a("a",{staticClass:"ui-link",attrs:{href:t.row.link,target:"_blank"}},[e._v(e._s(t.row.link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],1),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[a("a",{staticClass:"ui-link",attrs:{href:t.row.link,target:"_blank"}},[e._v(e._s(t.row.link_reference))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],1)]}},{key:"product_staus",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t,i){return a("p",{key:i},[e._v(e._s(t))])}))]}},{key:"opera_log",fn:function(t){return[e._l(t.row.opera_log,function(i,s){return t.row.opera_log.length<3?a("div",{key:s},[e._v("\n                "+e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.opera_log,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.opera_log,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t)+"\n                    ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}},{key:"opera_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t,i){return a("p",{key:i},[e._v(e._s(t))])}))]}},{key:"remarks",fn:function(t){return[e._l(t.row.remarks.reject_remark,function(i,s){return t.row.remarks.reject_remark.length<1?a("div",{key:s},[a("p",[e._v("驳回人:"+e._s(i.create_name))]),e._v(" "),a("p",[e._v("原因:"+e._s(i.reject_content))]),e._v(" "),a("p",[e._v("时间:"+e._s(i.create_time))])]):e._e()}),e._v(" "),t.row.remarks.reject_remark.length>1?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.remarks.reject_remark,function(t,i){return a("div",{key:i},[a("p",[e._v("驳回人:"+e._s(t.create_name))]),e._v(" "),a("p",[e._v("原因:"+e._s(t.reject_content))]),e._v(" "),a("p",[e._v("时间:"+e._s(t.create_time))])])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.remarks.reject_remark,function(t,i){return i<1?a("div",{key:i},[a("p",[e._v("驳回人:"+e._s(t.create_name))]),e._v(" "),a("p",[e._v("原因:"+e._s(t.reject_content))]),e._v(" "),a("p",[e._v("时间:"+e._s(t.create_time))])]):e._e()}),e._v(" "),t.row.remarks.reject_remark.length>1?a("div",[e._v("...")]):e._e()],2)],2):e._e(),e._v(" "),""!==t.row.remarks.image_remark?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.remarks.image_remark+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.remarks.image_remark)}}})])])]):e._e()]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.list_type===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAssign,title:"指派任务",type:"select",formLabel:"指派任务",option:e.optionList.workerList},on:{"update:visible":function(t){e.isShowAssign=t},confirm:e.handleConfirmAssign}}),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"驳回",visible:e.isShowReject,width:"60%"},on:{"update:visible":function(t){e.isShowReject=t}}},[a("el-table",{attrs:{data:e.rejectData}},[a("el-table-column",{attrs:{label:"退样类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){e.rejectTypeChange(t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(t.row.rejectList,function(e){return a("el-option",{key:e.id,attrs:{label:e.reject_type_text,value:e.id}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产品异常描述",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.row.setting_introduce,callback:function(a){e.$set(t.row,"setting_introduce",a)},expression:"scope.row.setting_introduce"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"驳回部门",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.reject_to_dpts,function(t,i){return a("p",{key:i},[e._v("\n                        "+e._s(t)+"\n                    ")])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否退样",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.remark)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"不良图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"upload-img-list"},[""!==t.row.image?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.image+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(e){t.row.image=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.image)}}})])]):e._e(),e._v(" "),""==t.row.image?a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(a){e.handleSaveFileList(a,t.row)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1):e._e()])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ui-ope_area--btn"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.rejectData.length>1,expression:"rejectData.length>1"}],staticClass:"icon-shanchu",on:{click:function(a){e.handleDeleteInput(t.$index)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(a){e.handleAddInput(t.$index)}}})])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShowReject=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmReject}},[e._v("确 定")])],1)],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)},staticRenderFns:[]};var fi=a("VU/8")(_i,mi,!1,function(e){a("Aqno")},"data-v-1e3d3bca",null).exports,vi={data:function(){return{showSearch:!0,tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},saveFileList:[],dialogFormVisible:!1,editform:{},departmentOption:f.a.departmentInfo,dialogTableVisible:!1,logData:[],logKey:[],logProps:[],logWidth:["200px","120px","120px"],importUrl:"/rejection/rejection/import_reject_config",upData:{}}},computed:d()({},Object(h.c)(["loginInfo"]),{downloadUrl:function(){return"/rejection/rejection/download_template"}}),methods:{handleDownloadModule:function(){window.open(this.downloadUrl+"?reject_from_dpt=3","_self")},handleUploadSuccess:function(e){e&&this.handleQueryInfo()},viewLog:function(e){var t=this;this.dialogTableVisible=!0,qt({mod_type:1,id:e}).then(function(e){var a=e.data;1===a.status?(t.logData=a.data.value,t.logData.map(function(e){return e.remark=e.remark.split("|")}),t.logProps=ie()(a.data.key),t.logKey=ne()(a.data.key)):t.logData=[]})},saveEditInfo:function(){var e=this,t=d()({},this.editform);delete t.create_time;var a=ne()(f.a.departmentInfo).findIndex(function(e){return t.reject_to_dpt===e});a>=0&&(t.reject_to_dpt=a+1),St(d()({modify_user:this.loginInfo.user_name,user_id:this.loginInfo.uid},t)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogFormVisible=!1,e.$message({message:"修改成功!",type:"success"}),e.handleQueryInfo())})},editItem:function(e){this.dialogFormVisible=!0,this.editform=_t()({},e)},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.id)}),e},delData:function(){var e=this,t=this.selectId();t.length?this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){It({id:t.join(","),user_id:e.loginInfo.uid,modify_user:e.loginInfo.user_name}).then(function(){e.$message({message:"删除成功!",type:"success"}),e.handleQueryInfo()})}):this.$message.warning("请勾选数据！")},delItem:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){It({id:e,user_id:t.loginInfo.uid,modify_user:t.loginInfo.user_name}).then(function(){t.$message({message:"删除成功!",type:"success"}),t.handleQueryInfo()})})},handleExportListInfo:function(){xt({reject_from_dpt:3,id:this.selectId().join(",")})},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lt(d()({reject_from_dpt:3},t)).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1})},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleQueryInfoCallBack:function(e){this.tableData=e.data.value,this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.tableWidth=["60","120","700","120","80","140","120","120","150"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}},created:function(){this.handleQueryInfo(),this.upData={user_id:this.loginInfo.staff_code||"12534",reject_from_dpt:3}}},gi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("div",{staticClass:"operation-box"},[a("div",[a("el-button",{attrs:{size:"small",type:"text"},on:{click:e.handleDownloadModule}},[e._v("下载模板")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"icon-daochu icon_blue"},on:{click:e.handleExportListInfo}},[e._v("导出\n            ")]),e._v(" "),a("ComUpload",{attrs:{label:"批量导入",url:e.importUrl,upData:e.upData,multiple:!0},on:{success:e.handleUploadSuccess}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.delData}},[e._v("删除")])],1),e._v(" "),a("div")]),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,"other-height":["operation-box"],showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"operate",fn:function(t){return[a("el-table-column",{attrs:{width:"200px",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delItem(t.row.id)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewLog(t.row.id)}}},[e._v("日志")])]}}])})]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"编辑",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editform,"label-width":"100px",size:"small"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{key:i,attrs:{label:t}},["reject_to_dpt"!==e.tableProps[i]&&"setting_introduce"!==e.tableProps[i]?a("el-input",{attrs:{disabled:"id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]},model:{value:e.editform[e.tableProps[i]],callback:function(t){e.$set(e.editform,e.tableProps[i],t)},expression:"editform[tableProps[index]]"}}):e._e(),e._v(" "),"reject_to_dpt"===e.tableProps[i]?a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editform.reject_to_dpt,callback:function(t){e.$set(e.editform,"reject_to_dpt",t)},expression:"editform.reject_to_dpt"}},e._l(e.departmentOption,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})):e._e(),e._v(" "),"setting_introduce"===e.tableProps[i]?a("el-input",{staticStyle:{width:"66%"},attrs:{placeholder:"请输入",type:"textarea",rows:4,resize:"none"},model:{value:e.editform.setting_introduce,callback:function(t){e.$set(e.editform,"setting_introduce",t)},expression:"editform.setting_introduce"}}):e._e()],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveEditInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"查看日志",visible:e.dialogTableVisible,top:"5vh"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.logKey,tableProps:e.logProps,tableData:e.logData,tableWidth:e.logWidth},scopedSlots:e._u([{key:"remark",fn:function(t){return e._l(t.row.remark,function(t,i){return a("p",{key:i},[e._v("\n                    "+e._s(t)+"\n                ")])})}}])})],1)],1)},staticRenderFns:[]};var yi=a("VU/8")(vi,gi,!1,function(e){a("v+6a")},"data-v-11c21c64",null).exports,bi={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,groupType:"4",queryData:{groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:"",firstGroup:""},optionList:{userList:[],canClassifyList:[],areaList:[],whetherList:[],devTypeList:[],groupTopList:[],searchUserList:[]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isFirstAddShow:!1,isEditFirstShow:!1,firstEdit:{manage:"",groupName:"",id:""},isReview:!1,isAddShow:!1,isEditShow:!1,labelWidth:"70px",editData:{groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},saveCheckId:"",editRule:{groupName:f.a.RULE_CONFIG.requiredBlur,groupManager:f.a.RULE_CONFIG.requiredChange,groupHeadman:f.a.RULE_CONFIG.requiredChange,groupUser:f.a.RULE_CONFIG.requiredChange},isProofTrue:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","photographyGroupInfo"])),methods:d()({},Object(h.b)(["GetPhotographyGroupInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.photography_group));var a=d()({devp_type:this.queryData.devType,category_id:this.queryData.classify[this.queryData.classify.length-1],group_name:this.queryData.groupName,top_level_pid:this.queryData.firstGroup,user_manager_id:this.queryData.groupManager,user_director_id:this.queryData.groupDirector},t);this.GetPhotographyGroupInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleToggleFirst:function(e){this.queryData.firstGroup=e.top_level_pid,this.handleQueryInfo({limit:this.pageData.currentList})},handleResetQueryInfo:function(){this.queryData={groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleDeleteInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.id,group_type:t.groupType};Object(et.c)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleDeleteFirstInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.top_level_pid,group_type:t.groupType};Object(et.b)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAddFirstInfo:function(){this.isFirstAddShow=!0},handleSaveAddFirstInfo:function(){var e=this,t={user_manager_id:this.firstEdit.manage,group_name:this.firstEdit.groupName,group_type:this.groupType};this.isEditFirstShow?(t.group_id=this.firstEdit.id,Object(et.d)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleEditFirst:function(e){this.firstEdit.manage=e.user_manager_id,this.firstEdit.groupName=e.group_name,this.firstEdit.id=e.top_level_pid,this.isEditFirstShow=!0,this.isFirstAddShow=!0},handleCancelAddFirstInfo:function(){this.firstEdit={manage:"",groupName:"",id:""},this.$refs.firstEdit.resetFields(),this.isFirstAddShow=!1,this.isEditFirstShow=!1},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){"readonly"===t&&(this.isReview=!0),this.handlePlayUpEditInfo(e),this.isAddShow=!0},handlePlayUpEditInfo:function(e){this.isEditShow=!0,this.saveCheckId=e.id,this.editData.canClassify=e.group_category.map(function(e){return e.map(function(e){return e.toString()})}),this.editData.groupName=e.group_name,this.editData.parentGroup=e.top_level_pid,this.editData.groupManagerId=e.user_manager_id,this.editData.groupManager=this.optionList.userList[e.user_manager_id],this.editData.groupDirector=e.user_director_id,this.editData.groupHeadman=e.user_groupman_id,this.editData.groupUser=ie()(e.group_user_info),this.editData.area=1*e.region,this.editData.devType=1*e.devp_type,this.editData.isDiy=1*e.is_customized,this.editData.isOss=1*e.is_overseas},handleCancelEdit:function(){this.editData={groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isReview=!1},handleDelClassify:function(){1!==this.editData.canClassify.length&&this.editData.canClassify.pop()},handleAddClassify:function(){this.editData.canClassify.push([])},handleProofClassify:function(e,t){for(var a=e[e.length-1],i=0;i<this.editData.canClassify.length;i++){var s=this.editData.canClassify[i];if(t!==i&&s.indexOf(a)>-1)return this.$message.warning("适用分类选择有误！"),!0}},handleOpenProofClassify:function(e){},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){for(var a=0;a<e.editData.canClassify.length;a++)if(e.handleProofClassify(e.editData.canClassify[a],a))return;var i=[];e.editData.groupUser.forEach(function(e){i.push({user_staff_id:e})});var s={group_name:e.editData.groupName,top_level_pid:e.editData.parentGroup,user_groupman_id:e.editData.groupHeadman,user_director_id:e.editData.groupDirector,user_manager_id:e.editData.groupManagerId,group_user_info:o()(i),devp_type:e.editData.devType||0,region:e.editData.area||0,group_type:e.groupType||0,is_customized:e.editData.isDiy||0,is_overseas:e.editData.isOss||0,group_category:o()(e.editData.canClassify)};e.isEditShow?(s.group_id=e.saveCheckId,Object(et.f)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.g)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&this.handleCancelEdit(),this.isFirstAddShow&&this.handleCancelAddFirstInfo()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"photography_group",value:o()(this.queryData)}),this.optionList.devTypeList=e.data_list.drop_down_data.devp_type_list,this.optionList.searchUserList=e.data_list.drop_down_data.user_data,this.optionList.canClassifyList=e.data_list.drop_down_data.category_list,this.optionList.groupTopList=e.data_list.top_group_list,this.optionList.areaList=e.data_list.drop_down_data.region_list,this.optionList.userList=e.data_list.drop_down_data.user_data,this.optionList.whetherList=e.data_list.drop_down_data.whether,this.tableData=e.data_list.value,this.tableKey=e.data_list.key,this.tableProps=["index","group_name","region","devp_type_cn","group_category_cn","group_user_info","group_user_number","operation"],this.pageData.currentList=1*e.page_data.limit,this.pageData.currentPage=1*e.page_data.offset,this.pageData.currentTotal=1*e.page_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.photographyGroupInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.photography_group),this.handleQueryInfoCallBack(this.photographyGroupInfo))}catch(e){console.log(e)}},watch:{"editData.parentGroup":function(e){var t=this;this.optionList.groupTopList.forEach(function(a){a.top_level_pid===e&&(t.editData.groupManager=t.optionList.userList[a.user_manager_id],t.editData.groupManagerId=a.user_manager_id)})}}},ki={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"小组名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.groupName,callback:function(t){e.$set(e.queryData,"groupName",t)},expression:"queryData.groupName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组经理",options:e.optionList.searchUserList},model:{value:e.queryData.groupManager,callback:function(t){e.$set(e.queryData,"groupManager",t)},expression:"queryData.groupManager"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组主管",options:e.optionList.searchUserList},model:{value:e.queryData.groupDirector,callback:function(t){e.$set(e.queryData,"groupDirector",t)},expression:"queryData.groupDirector"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"cascader",props:{label:"category_name",value:"id"},label:"适用分类",options:e.optionList.canClassifyList},model:{value:e.queryData.classify,callback:function(t){e.$set(e.queryData,"classify",t)},expression:"queryData.classify"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"开发类型",options:e.optionList.devTypeList},model:{value:e.queryData.devType,callback:function(t){e.$set(e.queryData,"devType",t)},expression:"queryData.devType"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("div",{staticClass:"ui-shortcut",staticStyle:{"margin-top":"0"}},[e._m(0),e._v(" "),a("ul",{staticClass:"ui-shortcut--area clearFix"},[e._l(e.optionList.groupTopList,function(t){return a("li",{on:{click:function(a){e.handleToggleFirst(t)}}},[a("div",{staticClass:"ui-title"},[a("span",[e._v(e._s(t.group_name))])]),e._v(" "),a("div",{staticClass:"ui-label"},[a("span",[e._v("经理人 "+e._s(t.number))])]),e._v(" "),a("span",{staticClass:"icon-shanchu ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleDeleteFirstInfo(t)}}}),e._v(" "),a("span",{staticClass:"icon-bianji ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleEditFirst(t)}}})])}),e._v(" "),a("li",{staticClass:"ui-shortcut--area--ope",on:{click:e.handleClickAddFirstInfo}},[a("span",{staticClass:"icon-tianjia"})])],2)]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增小组\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],otherHeight:["ui-shortcut"],showSearch:e.showSearch},scopedSlots:e._u([{key:"group_category_cn",fn:function(t){return[a("div",e._l(t.row.group_category_cn,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"region",fn:function(t){return[a("span",[e._v(e._s(e.optionList.areaList[1*t.row.region]))])]}},{key:"group_user_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("组长：")]),a("span",[e._v(e._s(t.row.user_groupman_cn))])]),e._v(" "),a("p",[a("span",[e._v("主管：")]),a("span",[e._v(e._s(t.row.user_director_cn))])]),e._v(" "),a("p",[a("span",[e._v("经理：")]),a("span",[e._v(e._s(t.row.user_manager_cn))])])])]}},{key:"group_user_number",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(Object.values(t.row.group_user_info).join(",")))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.group_user_info&&Object.values(t.row.group_user_info).length))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,"readonly")}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("操作日志")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDeleteInfo(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditFirstShow?"编辑一级小组":"新增一级小组",top:"10vh",width:"400px",visible:e.isFirstAddShow},on:{"update:visible":function(t){e.isFirstAddShow=t},close:e.handleCancelAddFirstInfo}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"groupName",label:"一级小组"}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理"}},[a("el-select",{attrs:{filterable:""},model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelAddFirstInfo}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSaveAddFirstInfo}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isReview?"预览":e.isEditShow?"编辑":"新增",top:"10vh",width:"800px","custom-class":"ui-com_edit",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("div",{staticClass:"clearFix"},[a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("二级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupName",label:"小组名称","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:e.isReview},model:{value:e.editData.groupName,callback:function(t){e.$set(e.editData,"groupName",t)},expression:"editData.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"area",label:"所属地区","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.area,callback:function(t){e.$set(e.editData,"area",t)},expression:"editData.area"}},e._l(e.optionList.areaList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"devType",label:"开发类型","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"isDiy",label:"是否定制","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.isDiy,callback:function(t){e.$set(e.editData,"isDiy",t)},expression:"editData.isDiy"}},e._l(e.optionList.whetherList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("一级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"parentGroup",label:"一级小组","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.parentGroup,callback:function(t){e.$set(e.editData,"parentGroup",t)},expression:"editData.parentGroup"}},e._l(e.optionList.groupTopList,function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.top_level_pid}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupManager",label:"小组经理","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.groupManager,callback:function(t){e.$set(e.editData,"groupManager",t)},expression:"editData.groupManager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupDirector",label:"小组主管","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupDirector,callback:function(t){e.$set(e.editData,"groupDirector",t)},expression:"editData.groupDirector"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupHeadman",label:"小组组长","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupHeadman,callback:function(t){e.$set(e.editData,"groupHeadman",t)},expression:"editData.groupHeadman"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("适用分类")])]),e._v(" "),a("div",{staticClass:"ui-item ui-btn--layout"},[e._l(e.editData.canClassify,function(t,i){return a("el-form-item",{key:i,attrs:{prop:"canClassify"}},[a("el-cascader",{attrs:{disabled:e.isReview,"change-on-select":"",placeholder:"输入搜索",options:e.optionList.canClassifyList,props:{label:"category_name",value:"id",children:"children"},filterable:""},model:{value:e.editData.canClassify[i],callback:function(t){e.$set(e.editData.canClassify,i,t)},expression:"editData.canClassify[index]"}})],1)}),e._v(" "),a("div",{staticClass:"ui-item--area--ope"},[e.isReview?e._e():a("span",{staticClass:"icon-shanjian",on:{click:e.handleDelClassify}}),e._v(" "),e.isReview?e._e():a("span",{staticClass:"icon-zengjia",on:{click:e.handleAddClassify}})])],2)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("小组成员")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupUser"}},[a("el-select",{attrs:{multiple:"",filterable:"",disabled:e.isReview},model:{value:e.editData.groupUser,callback:function(t){e.$set(e.editData,"groupUser",t)},expression:"editData.groupUser"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[e.isReview?e._e():a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),e.isReview?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-shortcut--title"},[t("span",[this._v("一级小组")])])}]};var Di=a("VU/8")(bi,ki,!1,function(e){a("s/5+")},"data-v-5ced59ea",null).exports,wi=a("WoHg"),Ci=a("TQvf"),Li=a.n(Ci),Ii={name:"CopyEditPage",props:{show:!1,row:{type:Object,default:function(){return{}}}},data:function(){return{editShowArea:["1"],checkLanguage:"CN",leftLanguage:"CN",languageOptions:{CN:{spu_title:""}},isGoodsBasic:!0,isSupplierGoods:!0,unitData:{weight1:["g","kg","mg"],weight2:["lb","oz"],checkWeight1:"g",checkWeight2:"lb",valueWeight1:"",valueWeight2:""},measureData:{measure1:["cm","mm","m","km"],measure2:["in","ft","yd"],checkMeasure1:"cm",checkMeasure2:"in",valueMeasure1:"",valueMeasure2:""},formData:{},optionList:{featureVal:{},forHoliday:{},devpType:{},sampleType:{},buySample:{},customized:{}},isShowLookImage:!1,lookImageUrl:"",checkAttr:""}},watch:{row:function(e,t){var a=this,i="10101800005";Object(wi.c)({spu:i}).then(function(e){var t=e.data;console.log(t,8989),a.handleQueryInfoCallBack(t)})}},computed:{copyAttr:function(){if(this.languageOptions[this.checkLanguage][this.checkAttr]){console.log("oookkk");var e=this.languageOptions[this.checkLanguage][this.checkAttr];return console.log(e,123),Array.isArray(e)?e.join(","):e}return""}},methods:{copyText:function(e){if(console.log("into-----"),e!==this.checkAttr){var t=this;t.$set(t,"checkAttr",e),e="."+e;var a=new Li.a(e);setTimeout(function(){console.log(t.$refs[t.checkAttr],22),Array.isArray(t.$refs[t.checkAttr])?t.$refs[t.checkAttr][0].click():t.$refs[t.checkAttr].click()}),a.on("success",function(e){e.clearSelection(),t.$message.success("复制成功!")}),a.on("error",function(e){console.log(e),t.$message.success("复制失败!")})}},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleQueryInfoCallBack:function(e){var t=this,a=e.data;this.optionList.featureVal=a.select_list.feature_val,this.optionList.forHoliday=a.select_list.for_holiday,this.optionList.devpType=a.select_list.devp_type,this.optionList.sampleType=a.select_list.sample_type,this.optionList.buySample=a.select_list.is_buy_sample,this.optionList.customized=a.select_list.is_customized,this.formData=a.common_data;var i=ne()(this.optionList.buySample).findIndex(function(e){return e==t.formData.is_buy_sample}),s=ie()(this.optionList.buySample);this.formData.is_buy_sample=s[i];var n=ne()(this.optionList.customized).findIndex(function(e){return e==t.formData.is_customized}),o=ie()(this.optionList.customized);this.formData.is_customized=o[n],this.languageOptions=a.langs;var r=ie()(a.langs);this.leftLanguage=r[0],this.checkLanguage=r[1],console.log(this.leftLanguage),console.log(this.languageOptions,666)},handleTranslate:function(e){this.checkLanguage=e},searchMeasure:function(){var e=this.measureData;e.valueMeasure1&&!isNaN(e.valueMeasure1)?this.measureData.valueMeasure2=Object(m.e)(parseFloat(e.valueMeasure1),e.checkMeasure1,e.checkMeasure2):this.measureData.valueMeasure2=""},searchWeight1:function(){var e=this.unitData;e.valueWeight1&&!isNaN(e.valueWeight1)?this.unitData.valueWeight2=Object(m.g)(parseFloat(e.valueWeight1),e.checkWeight1,e.checkWeight2):this.unitData.valueWeight2=""},hideSupplierGoods:function(){this.isSupplierGoods=!1,this.isGoodsBasic=!0},hideGoodsBasic:function(){console.log("a"),this.isGoodsBasic=!1,this.isSupplierGoods=!0},handleClosePage:function(){this.$emit("update:show",!1)}},created:function(){}},Si={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ui-dialog_page",on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleClosePage(t):null}}},[a("div",{staticClass:"ui-head"},[a("span",[e._v("SPU录入")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClosePage}})]),e._v(" "),a("div",{staticClass:"ui-content_area--item"},[a("el-collapse",{model:{value:e.editShowArea,callback:function(t){e.editShowArea=t},expression:"editShowArea"}},[a("el-collapse-item",{attrs:{title:"丨商品开发图片",name:"1"}},[a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.formData.dev_imgs,function(t){return a("li",[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img"},[a("div",{staticClass:"img-box",style:{background:"url("+t+") no-repeat 0/contain"}})]),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t)}}})])])])}))])])],1)],1),e._v(" "),a("div",{staticClass:"ui-main"},[a("div",{staticClass:"ui-left",class:{"ui-left-unfold":!e.isSupplierGoods}},[a("transition",{attrs:{name:"slide-fade-left"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isGoodsBasic,expression:"isGoodsBasic"}],staticClass:"content-box"},[a("div",{staticClass:"nav-box"},[a("p",[e._v("商品基础资料")]),e._v(" "),a("i",{staticClass:"el-icon-arrow-left toggle-icon",on:{click:e.hideGoodsBasic}})]),e._v(" "),a("div",{staticClass:"scroll-box"},[a("div",{staticClass:"translate-box"},[a("el-form",{attrs:{size:"mini","label-width":"80px"},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[a("ul",{staticClass:"ui-content_area--form clearFix"},[a("li",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{value:e.formData.spu,disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品目录"}},[a("el-select",{attrs:{value:e.formData.category_path,placeholder:"请选择",disabled:""}})],1)],1),e._v(" "),a("li",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"节日属性"}},[a("el-radio-group",{staticStyle:{width:"240px"},attrs:{disabled:""},model:{value:e.formData.for_holiday,callback:function(t){e.$set(e.formData,"for_holiday",t)},expression:"formData.for_holiday"}},[a("el-radio",{attrs:{label:"0"}},[e._v("非")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("圣诞节")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("万圣节")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"季节属性"}},[a("el-radio-group",{attrs:{disabled:""},model:{value:e.formData.feature_val,callback:function(t){e.$set(e.formData,"feature_val",t)},expression:"formData.feature_val"}},[a("el-radio",{attrs:{label:"0"}},[e._v("非")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("春季")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("夏季")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("秋季")]),e._v(" "),a("el-radio",{attrs:{label:"4"}},[e._v("冬季")]),e._v(" "),a("el-radio",{attrs:{label:"5"}},[e._v("雨季")]),e._v(" "),a("el-radio",{attrs:{label:"6"}},[e._v("旱季")])],1)],1)],1),e._v(" "),a("li",{staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:"开发类型","label-width":"80px"}},[a("el-select",{attrs:{value:e.optionList.devpType[e.formData.devp_type],placeholder:"请选择",disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购买类型","label-width":"80px"}},[a("el-select",{attrs:{value:e.optionList.sampleType[e.formData.sample_type],placeholder:"请选择",disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否买样","label-width":"80px"}},[a("el-select",{attrs:{value:e.formData.is_buy_sample,placeholder:"请选择",disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否定制","label-width":"80px"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{disabled:"",placeholder:"请选择"},on:{change:e.searchWeight1},model:{value:e.formData.is_customized,callback:function(t){e.$set(e.formData,"is_customized",t)},expression:"formData.is_customized"}})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"tabs-box"},[a("div",{staticClass:"tabs-item"},[a("ul",{staticClass:"tabs-list"},[a("li",[e._v(e._s(e.leftLanguage))])]),e._v(" "),a("div",{staticClass:"form-msg"},[a("el-form",{attrs:{model:e.languageOptions[e.leftLanguage],"label-width":"80px"}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{value:e.languageOptions[e.leftLanguage].spu_title,disabled:"",size:"small"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{label:"属性1"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.leftLanguage].attribute_1,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(i))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{disabled:"",size:"small"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout  wrap-box"},[a("el-form-item",{attrs:{label:"属性2"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.leftLanguage].attribute_2,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(i))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{disabled:"",size:"small"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{label:"关键词"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.leftLanguage].keywords,function(e){return a("li",{key:e},[a("el-input",{attrs:{value:e,size:"small"}})],1)}))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"主要买点"}},e._l(e.languageOptions[e.leftLanguage].sale_points,function(t,i){return a("div",{staticClass:"ui-ope_area--item"},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.languageOptions[e.leftLanguage].sale_points[i],callback:function(t){e.$set(e.languageOptions[e.leftLanguage].sale_points,i,t)},expression:"languageOptions[leftLanguage].sale_points[index]"}})],1)}))],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"商品描述"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.languageOptions[e.leftLanguage].goods_desc,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"goods_desc",t)},expression:"languageOptions[leftLanguage].goods_desc"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"商品参数"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.languageOptions[e.leftLanguage].goods_params,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"goods_params",t)},expression:"languageOptions[leftLanguage].goods_params"}})],1)],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"注意事项"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.languageOptions[e.leftLanguage].notice_remark,callback:function(t){e.$set(e.languageOptions[e.leftLanguage],"notice_remark",t)},expression:"languageOptions[leftLanguage].notice_remark"}})],1)],1),e._v(" "),e._l(e.languageOptions[e.leftLanguage].pack_list,function(e,t){return a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"包装清单"+(t+1)}},[a("el-input",{attrs:{type:"textarea",disabled:"",value:e}})],1)],1)})],2)])],1)]),e._v(" "),a("div",{staticClass:"tabs-item"},[a("ul",{staticClass:"tabs-list"},e._l(e.languageOptions,function(t,i,s){return s>0?a("li",{key:s,class:{active:e.checkLanguage==i},on:{click:function(t){e.handleTranslate(i)}}},[e._v(e._s(i)+"\n                                        ")]):e._e()})),e._v(" "),a("div",{staticClass:"form-msg copy-box"},[a("el-form",{attrs:{model:e.languageOptions[e.checkLanguage],"label-width":"100px"}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"Item Title"}},[a("el-input",{attrs:{size:"small"},model:{value:e.languageOptions[e.checkLanguage].spu_title,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"spu_title",t)},expression:"languageOptions[checkLanguage].spu_title"}})],1),e._v(" "),a("span",{ref:"spu_title",staticClass:"spu_title",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("spu_title")}}},[e._v("复制"+e._s(e.copyAttr))])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{label:"Parameter1"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.checkLanguage].attribute_1,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(i))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{size:"small"},model:{value:e.languageOptions[e.checkLanguage].attribute_1[i],callback:function(t){e.$set(e.languageOptions[e.checkLanguage].attribute_1,i,t)},expression:"languageOptions[checkLanguage].attribute_1[value]"}})],1)}))]),e._v(" "),a("span",{ref:"attribute_1",staticClass:"attribute_1",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("attribute_1")}}},[e._v("复制")])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{label:"Parameter2"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.checkLanguage].attribute_2,function(t,i){return a("li",{key:i},[a("span",{staticClass:"space"},[e._v(e._s(i))]),e._v(" "),a("el-input",{staticStyle:{width:"75px"},attrs:{size:"small"}})],1)}))]),e._v(" "),a("span",{ref:"attribute_2",staticClass:"attribute_2",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("attribute_2")}}},[e._v("复制")])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout wrap-box"},[a("el-form-item",{attrs:{label:"Key Words"}},[a("ul",{staticClass:"attr-set"},e._l(e.languageOptions[e.checkLanguage].keywords,function(e){return a("li",{key:e},[a("el-input",{attrs:{value:e,size:"small"}})],1)}))]),e._v(" "),a("span",{ref:"keywords",staticClass:"keywords",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("keywords")}}},[e._v("复制")])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"Features"}},e._l(e.languageOptions[e.checkLanguage].sale_points,function(t,i){return a("div",{staticClass:"ui-ope_area--item"},[a("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:e.languageOptions[e.checkLanguage].sale_points[i],callback:function(t){e.$set(e.languageOptions[e.checkLanguage].sale_points,i,t)},expression:"languageOptions[checkLanguage].sale_points[index]"}})],1)})),e._v(" "),a("span",{ref:"sale_points",staticClass:"sale_points",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("sale_points")}}},[e._v("复制")])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.languageOptions[e.checkLanguage].goods_desc,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"goods_desc",t)},expression:"languageOptions[checkLanguage].goods_desc"}})],1),e._v(" "),a("span",{ref:"goods_desc",staticClass:"goods_desc",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("goods_desc")}}},[e._v("复制")])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"Specification"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.languageOptions[e.checkLanguage].goods_params,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"goods_params",t)},expression:"languageOptions[checkLanguage].goods_params"}})],1),e._v(" "),a("span",{ref:"goods_params",staticClass:"goods_params",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("goods_params")}}},[e._v("复制")])],1),e._v(" "),a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"Note"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.languageOptions[e.checkLanguage].notice_remark,callback:function(t){e.$set(e.languageOptions[e.checkLanguage],"notice_remark",t)},expression:"languageOptions[checkLanguage].notice_remark"}})],1),e._v(" "),a("span",{ref:"notice_remark",staticClass:"notice_remark",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("notice_remark")}}},[e._v("复制")])],1),e._v(" "),e._l(e.languageOptions[e.checkLanguage].pack_list,function(t,i){return a("li",{staticClass:"ui-form--label_layout"},[a("el-form-item",{attrs:{label:"Package List"+(i+1)}},[a("el-input",{attrs:{type:"textarea",disabled:"",value:t}})],1),e._v(" "),a("span",{ref:"pack_list",refInFor:!0,staticClass:"pack_list",attrs:{"data-clipboard-text":e.copyAttr},on:{click:function(t){e.copyText("pack_list")}}},[e._v("复制")])],1)})],2)])],1)])]),e._v(" "),a("div",{staticClass:"tools-box"},[a("el-form",{attrs:{"label-width":"100px"}},[a("ul",{staticClass:"clearFix ui-com_edit--content--item3"},[a("li",{staticClass:"ui-form--label_layout"},[a("div",{staticClass:"unit-tools"},[a("div",{staticClass:"unit-item"},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"comCode",label:"图片要求"}},[a("el-input",{attrs:{value:e.formData.image_remark,disabled:"",size:"small"}})],1)],1),e._v(" "),a("div",{staticClass:"unit-item"},[a("span",{staticClass:"title"},[e._v("尺寸转换")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"220px"},attrs:{placeholder:"请输入内容"},on:{input:e.searchMeasure},model:{value:e.measureData.valueMeasure1,callback:function(t){e.$set(e.measureData,"valueMeasure1",t)},expression:"measureData.valueMeasure1"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{slot:"append",placeholder:"请选择"},on:{change:e.searchMeasure},slot:"append",model:{value:e.measureData.checkMeasure1,callback:function(t){e.$set(e.measureData,"checkMeasure1",t)},expression:"measureData.checkMeasure1"}},e._l(e.measureData.measure1,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("div",{staticClass:"exchange-icon"},[a("i",{staticClass:"el-icon-back"})]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"220px"},attrs:{placeholder:"请输入内容"},model:{value:e.measureData.valueMeasure2,callback:function(t){e.$set(e.measureData,"valueMeasure2",t)},expression:"measureData.valueMeasure2"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{slot:"append",placeholder:"请选择"},on:{change:e.searchMeasure},slot:"append",model:{value:e.measureData.checkMeasure2,callback:function(t){e.$set(e.measureData,"checkMeasure2",t)},expression:"measureData.checkMeasure2"}},e._l(e.measureData.measure2,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)])])])])],1)])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSupplierGoods,expression:"!isSupplierGoods"}],staticClass:"toggle-box",on:{click:function(t){e.isSupplierGoods=!0}}},[e._v("供应商买点图<<")])],1),e._v(" "),a("div",{staticClass:"ui-right",class:{"ui-right-unfold":!e.isGoodsBasic,"ui-right-hide":!e.isSupplierGoods}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isGoodsBasic,expression:"!isGoodsBasic"}],staticClass:"toggle-box",on:{click:function(t){e.isGoodsBasic=!0}}},[e._v("商品基础资料>>")]),e._v(" "),a("transition",{attrs:{name:"slide-fade-right"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSupplierGoods,expression:"isSupplierGoods"}],staticClass:"content-box"},[a("div",{staticClass:"nav-box"},[a("p",[e._v("供应商买点图")]),e._v(" "),a("i",{staticClass:"el-icon-arrow-right toggle-icon",on:{click:e.hideSupplierGoods}})]),e._v(" "),a("div",{staticClass:"scroll-box"},[a("div",{staticClass:"goods-box"},[a("ul",e._l(e.formData.sale_point_imgs,function(t,i){return a("li",{key:i},e._l(t,function(t,i){return a("div",{staticClass:"img-block"},[a("div",{staticClass:"ui-com_edit__upload"},[a("ul",{staticClass:"clearFix"},e._l(e.formData.dev_imgs,function(t){return a("li",[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img"},[a("div",{staticClass:"img-box",style:{background:"url("+t+") no-repeat 0/contain"}})]),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t)}}})])])])}))]),e._v(" "),a("div",{staticClass:"goods-text"},[a("p",{staticClass:"chinese-text"},[e._v("\n                                                    "+e._s(t.cn)+"\n                                                ")]),e._v(" "),a("span",{staticClass:"line-solid"}),e._v(" "),a("p",{staticClass:"foreign-text"},[e._v("Chinese buy Chinese buy Chinese buy Chinese\n                                                    buy\n                                                    Chinese\n                                                    buy\n                                                    Chinese buy Chinese buy Chinese buy Chinese buy Chinese buy\n                                                    Chinese\n                                                    buy\n                                                    Chinese\n                                                    buy Chinese buy")])])])}))}))])])])])],1)]),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)])},staticRenderFns:[]};var xi={data:function(){return{filterShow:!1,searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{list_type:"1",spu:"",supplier_code:"",goods_name:"",supplier_name:"",function:"",user:"",opera_user:"",type:"1",operateTime:[],productList:[],timeType:"",timeRange:[1,20],timeMax:30},optionList:{productListList:[],functionInfoList:{},statusList:{},userTypeList:[{label:"美工一",value:"1"},{label:"美工二",value:"2"},{label:"美工三",value:"3"}],moduleTypeList:[{label:"待分配",value:"1"},{label:"待拍摄",value:"2"},{label:"拍摄记录",value:"3"}],workerList:{},timeTypeList:{day:"天",hours:"时",minutes:"分"}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isEditShow:!1,formLabelWidth:"110px",saveCheckId:"",editData:{comCode:"",supplierName:"",applyAddress:"",applyDate:"",companyType:"",supplierLink:"",pAndCity:[],area:"",contacts:"",phoneNumber:"",contactsPhone:"",wxNumber:"",qqNumber:"",email:"",paymentType:"",settlementType:"",point:""},editRule:{},isShowLookImage:!1,lookImageUrl:[],saveFileList:[],isShowAssign:!1,isShowReject:!1,rejectData:[],rejectList:[],rejectDefault:{},isShowEdit:!1,saveEditRow:{},isLeader:0}},components:{ArtGoodsEditPage:a("VU/8")(Ii,Si,!1,function(e){a("JcIh")},"data-v-6105ae7a",null).exports},computed:d()({},Object(h.c)(["queryParamsInfo","goodsModificationListInfo"])),methods:d()({},Object(h.b)(["GetGoodsModificationListInfo"]),{handleTimeRange:function(e){switch(e){case"day":this.queryData.timeMax=30;break;case"hours":this.queryData.timeMax=24;break;case"minutes":this.queryData.timeMax=60}},handleClickTest:function(){this.isShowEdit=!0},handleClickEdit:function(e){this.saveEditRow=e,this.isShowEdit=!0},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.goods_modification_list));var a=d()({list_type:this.queryData.list_type,spu:this.queryData.spu,supplier_code:this.queryData.supplier_code,goods_name:this.queryData.goods_name,supplier_name:this.queryData.supplier_name,function:this.queryData.function,user:this.queryData.user,opera_user:this.queryData.opera_user,type:this.queryData.type,spu_category:this.queryData.productList.join("->")},t);this.GetGoodsModificationListInfo(a).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={list_type:"1",spu:"",supplier_code:"",goods_name:"",supplier_name:"",function:"",user:"",opera_user:"",type:"1",operateTime:[],productList:[],timeType:"",timeRange:[1,20],timeMax:30}},handleClickFilter:function(){this.filterShow=!this.filterShow},animation:function(e){if(e)return console.log(document.querySelector("body")),void(document.querySelector("body").style.overflow="hidden");this.$refs.myTable.handleRefreshTableHeight()},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.spu[0])}),e},handleToggleTableUserInfo:function(e){this.queryData.type=e,this.handleQueryInfo()},handleToggleTableInfo:function(e){this.queryData.list_type=e,this.handleQueryInfo()},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleSaveFileList:function(e,t){var a=this,i=new FormData;i.append("file",e.raw),At(i).then(function(e){var i=e.data;1==i.status?t.image=i.data.path:a.$message.error(i.errorMess)}),console.log(t.image,8899)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=e},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"goods_modification_list",value:o()(this.queryData)}),this.isLeader=e.is_leader,this.tableData=e.data.value,this.tableData.map(function(e){return e.opera_log.reverse()}),this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.tableWidth=["60","150","70","200","150","80","250","120","220","120",""],this.optionList.productListList=[].concat(z()(e.select_list.category)),this.optionList.functionInfoList=e.select_list.function,this.optionList.statusList=e.select_list.status,this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total},checkedStatus:function(e){this.saveCheckInfo.length?this[e]=!0:this.$message.warning("请勾选数据！")},handleClickAssign:function(){this.checkedStatus("isShowAssign")},handleConfirmAssign:function(e){var t=this;console.log(e.check,88);var a={spu:this.selectId().join(","),distr_user:e.check};Object(wi.a)(a).then(function(e){1===e.data.status?(t.$message.success("操作成功"),t.handleQueryInfo()):t.$message.error("操作失败")})},handleClickReject:function(){this.checkedStatus("isShowReject")},rejectTypeChange:function(e){var t=e.rejectList.find(function(t){return e.type===t.id});e.setting_introduce=t.setting_introduce,e.remark=t.remark,e.reject_to_dpt=t.reject_to_dpt,e.reject_to_dpts=t.reject_to_dpts.split("/")},handleRejectInfo:function(){var e=this;Object(wi.e)({reject_from_dpt:3}).then(function(t){var a=t.data;e.rejectList=a.data.list,e.rejectDefault={rejectList:e.rejectList,type:"",setting_introduce:"",reject_to_dpt:"",reject_to_dpts:[],remark:"",image:""},e.rejectData.push(_t()({},e.rejectDefault))})},handleConfirmReject:function(){var e=this,t=[];this.rejectData.forEach(function(e){t.push({reject_reason:e.type,reject_content:e.setting_introduce,reject_image:e.image,type:e.reject_to_dpt})});var a={spu:this.selectId().join(","),reject_data:t};console.log(a,99),Object(wi.f)(a).then(function(t){var a=t.data;1===a.status?(e.$message.success("操作成功!"),e.isShowReject=!1,e.handleQueryInfo(),e.rejectData.length=0,e.rejectData.push(_t()({},e.rejectDefault)),console.log(a,123)):e.$message.error("操作失败! 请检查填写是否正确!")})},handleDeleteInput:function(e){this.rejectData.splice(e,1)},handleAddInput:function(e){this.rejectData.splice(e+1,0,_t()({},this.rejectDefault))},handleClickSubmit:function(){var e=this;this.saveCheckInfo.length?this.$confirm("确认提交？","提示",{type:"warning"}).then(function(){Object(wi.g)({spu:e.selectId().join(",")}).then(function(t){1===t.data.status?e.$message.success("操作成功!"):e.$message.error("操作失败!")})}):this.$message.warning("请勾选数据！")},searchGroup:function(e){console.log(e)}}),created:function(){var e=this;this.thisVm=this;try{"{}"===o()(this.goodsModificationListInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.goods_modification_list),this.handleQueryInfoCallBack(this.goodsModificationListInfo))}catch(e){console.log(e)}Object(wi.d)().then(function(t){var a=t.data,i={};a.data&&(a.data.forEach(function(e){i[e.user_number]=e.user_name}),e.optionList.workerList=i)}),this.handleRejectInfo()}},qi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.spu,callback:function(t){e.$set(e.queryData,"spu",t)},expression:"queryData.spu"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商代码"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier_code,callback:function(t){e.$set(e.queryData,"supplier_code",t)},expression:"queryData.supplier_code"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品目录",template:"cascader",options:e.optionList.productListList,props:{value:"id",children:"son_id",label:"category_name"}},model:{value:e.queryData.productList,callback:function(t){e.$set(e.queryData,"productList",t)},expression:"queryData.productList"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"作业组员"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.user,callback:function(t){e.$set(e.queryData,"user",t)},expression:"queryData.user"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"职能"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryData.function,callback:function(t){e.$set(e.queryData,"function",t)},expression:"queryData.function"}},e._l(e.optionList.functionInfoList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{size:"small",disabled:!e.queryData.function},model:{value:e.queryData.auditState,callback:function(t){e.$set(e.queryData,"auditState",t)},expression:"queryData.auditState"}},e._l(e.optionList.statusList,function(e,t){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作用时"}},[a("el-select",{attrs:{disabled:!e.queryData.function,size:"small"},on:{change:function(t){e.handleTimeRange(e.queryData.timeType)}},model:{value:e.queryData.timeType,callback:function(t){e.$set(e.queryData,"timeType",t)},expression:"queryData.timeType"}},e._l(e.optionList.timeTypeList,function(e,t){return a("el-option",{key:e,attrs:{label:e,value:t}})})),e._v(" "),e.queryData.timeType?a("el-slider",{attrs:{range:"",min:1,max:e.queryData.timeMax},model:{value:e.queryData.timeRange,callback:function(t){e.$set(e.queryData,"timeRange",t)},expression:"queryData.timeRange"}}):e._e()],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.goods_name,callback:function(t){e.$set(e.queryData,"goods_name",t)},expression:"queryData.goods_name"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"供应商名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.supplier_name,callback:function(t){e.$set(e.queryData,"supplier_name",t)},expression:"queryData.supplier_name"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作人员"}},[a("el-input",{attrs:{size:"small",disabled:!e.queryData.function},model:{value:e.queryData.opera_user,callback:function(t){e.$set(e.queryData,"opera_user",t)},expression:"queryData.opera_user"}})],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":function(t){e.animation()},"after-leave":function(t){e.animation()},"before-enter":function(t){e.animation(1)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}]},[a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)])])],1),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.filterShow,expression:"!filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("高级筛选"),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],attrs:{size:"small",type:"text"},on:{click:e.handleClickFilter}},[e._v("基本筛选"),a("i",{staticClass:"el-icon-caret-top"})])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.queryData.list_type,expression:"queryData.list_type==1"}]},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon-warn"}),e._v("指派任务\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickTest}},[a("i",{staticClass:"icon-dangechuangjian",staticStyle:{color:"#fd996b"}}),e._v("测试弹窗\n            ")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.queryData.list_type,expression:"queryData.list_type==2"}]},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickReject}},[a("i",{staticClass:"icon-bohui icon-danger"}),e._v("驳回\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickSubmit}},[a("i",{staticClass:"icon-piliangchuangjian",staticStyle:{color:"#fd996b"}}),e._v("提交\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAssign}},[a("i",{staticClass:"icon-renwuzhipai icon-warn"}),e._v("重新指派\n            ")])],1)]),e._v(" "),e.isLeader?a("div",{staticClass:"artist-screen"},[a("ul",{staticClass:"ul-artist"},e._l(e.optionList.userTypeList,function(t,i){return a("li",{key:i,staticClass:"ui-main-tab-box",class:{"active-artist":e.queryData.type===t.value}},[a("span",{on:{click:function(a){e.handleToggleTableUserInfo(t.value)}}},[e._v(e._s(t.label))])])})),e._v(" "),a("ul",{staticClass:"ul-status"},e._l(e.optionList.moduleTypeList,function(t,i){return a("li",{key:i,staticClass:"ui-main-tab-box",class:{"active-status":e.queryData.list_type===t.value}},[a("span",{on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])}))]):e._e(),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,otherHeight:["ui-fn-module","ui-main-tab"],showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"id",fn:function(t){return[a("div",[a("span",{class:"1"===t.row.reject_type?"el-icon-warning":"el-icon-success"}),e._v(" "),a("p",[e._v(e._s(t.row.id))])])]}},{key:"spu",fn:function(t){return[a("div",{staticClass:"ui-table--supplier_code"},[a("p",[e._v(e._s(t.row.spu[0]))]),e._v(" "),a("p",[a("el-popover",{attrs:{placement:"right",trigger:"hover"}},[t.row.sku?a("ul",{staticClass:"ui-sku_open"},e._l(t.row.sku.split(","),function(t,i){return a("li",[e._v(e._s(t)+"\n                            ")])})):e._e(),e._v(" "),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.spu[1]))])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.row.devp_types,expression:"scope.row.devp_types"}],staticClass:"ui-table--supplier_code--flag",class:"ui-table_flag"+t.row.devp_code},[a("span",[e._v(e._s(t.row.devp_types))])]),e._v(" "),a("div",{staticClass:"ui-table--icon_btn"},[a("i",{staticClass:"icon-bianji ui-disable",on:{click:function(a){a.stopPropagation(),e.handleClickEdit(t.row)}}})])])]}},{key:"photo_path",fn:function(t){return[""!==t.row.photo_path?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.photo_path+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.photo_path)}}})])])]):e._e()]}},{key:"good_name",fn:function(t){return[e._v("\n            "+e._s(t.row.good_name[0])+"\n        ")]}},{key:"category_path",fn:function(t){return e._l(t.row.category_path,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"sample_type",fn:function(t){return e._l(t.row.sample_type,function(t,i){return a("p",{key:i},[e._v(e._s(t))])})}},{key:"good_info",fn:function(t){return[e._l(t.row.good_info,function(t,i){return a("p",{key:i},[e._v(e._s(t))])}),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"采样链接",width:"200",trigger:"click"}},[a("a",{staticClass:"ui-link",attrs:{href:t.row.link,target:"_blank"}},[e._v(e._s(t.row.link))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-caiyanglianjie"})])],1),e._v(" "),a("el-popover",{attrs:{placement:"bottom",title:"参考链接",width:"200",trigger:"click"}},[a("a",{staticClass:"ui-link",attrs:{href:t.row.link,target:"_blank"}},[e._v(e._s(t.row.link_reference))]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"icon-cankaolianjie"})])],1)]}},{key:"product_staus",fn:function(t){return[a("div",e._l(t.row.product_staus,function(t,i){return a("p",{key:i},[e._v(e._s(t))])}))]}},{key:"opera_log",fn:function(t){return[e._l(t.row.opera_log,function(i,s){return t.row.opera_log.length<3?a("div",{key:s},[e._v("\n                "+e._s(i)+"\n            ")]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.opera_log,function(t,i){return a("div",{key:i},[e._v(e._s(t)+"\n                ")])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.opera_log,function(t,i){return i<3?a("div",{key:i},[e._v(e._s(t))]):e._e()}),e._v(" "),t.row.opera_log.length>3?a("div",[e._v("...")]):e._e()],2)],2):e._e()]}},{key:"opera_time",fn:function(t){return[a("div",e._l(t.row.opera_time,function(t,i){return a("p",{key:i},[e._v(e._s(t))])}))]}},{key:"remarks",fn:function(t){return[e._l(t.row.remarks.reject_remark,function(i,s){return t.row.remarks.reject_remark.length<1?a("div",{key:s},[a("p",[e._v("驳回人:"+e._s(i.create_name))]),e._v(" "),a("p",[e._v("原因:"+e._s(i.reject_content))]),e._v(" "),a("p",[e._v("时间:"+e._s(i.create_time))])]):e._e()}),e._v(" "),t.row.remarks.reject_remark.length>1?a("el-popover",{staticStyle:{cursor:"pointer"},attrs:{placement:"left",trigger:"hover"}},[e._l(t.row.remarks.reject_remark,function(t,i){return a("div",{key:i},[a("p",[e._v("驳回人:"+e._s(t.create_name))]),e._v(" "),a("p",[e._v("原因:"+e._s(t.reject_content))]),e._v(" "),a("p",[e._v("时间:"+e._s(t.create_time))])])}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._l(t.row.remarks.reject_remark,function(t,i){return i<1?a("div",{key:i},[a("p",[e._v(e._s(t.create_name))]),e._v(" "),a("p",[e._v(e._s(t.reject_content))]),e._v(" "),a("p",[e._v(e._s(t.create_time))])]):e._e()}),e._v(" "),t.row.remarks.reject_remark.length>1?a("div",[e._v("...")]):e._e()],2)],2):e._e(),e._v(" "),""!==t.row.remarks.image_remark?a("div",{staticClass:"upload-img-list"},[a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.remarks.image_remark+") no-repeat center/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.remarks.image_remark)}}})])])]):e._e()]}}])},[e.isLeader?e._e():a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.list_type===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label))])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("ComDialogRemarks",{attrs:{visible:e.isShowAssign,title:"指派任务",type:"select",formLabel:"指派任务",option:e.optionList.workerList},on:{"update:visible":function(t){e.isShowAssign=t},confirm:e.handleConfirmAssign}}),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"驳回",visible:e.isShowReject,width:"60%"},on:{"update:visible":function(t){e.isShowReject=t}}},[a("el-table",{attrs:{data:e.rejectData}},[a("el-table-column",{attrs:{label:"退样类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{on:{change:function(a){e.rejectTypeChange(t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(t.row.rejectList,function(e){return a("el-option",{key:e.id,attrs:{label:e.reject_type_text,value:e.id}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"产品异常描述",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.row.setting_introduce,callback:function(a){e.$set(t.row,"setting_introduce",a)},expression:"scope.row.setting_introduce"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"驳回部门",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.reject_to_dpts,function(t,i){return a("p",{key:i},[e._v("\n                        "+e._s(t)+"\n                    ")])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否退样",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.remark)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"不良图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"upload-img-list"},[""!==t.row.image?a("div",{staticClass:"ui-com_edit__upload--item"},[a("div",{staticClass:"ui-com_edit__upload--item__img",style:{background:"url("+t.row.image+") no-repeat 0/contain"}}),e._v(" "),a("div",{staticClass:"ui-com_edit__upload--item--mask"},[a("span",{staticClass:"el-icon-delete",on:{click:function(e){t.row.image=""}}}),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(a){e.handleLookImage(t.row.image)}}})])]):e._e(),e._v(" "),""==t.row.image?a("div",{staticClass:"ui-com_edit__upload--last_btn"},[a("el-upload",{attrs:{action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":function(a){e.handleSaveFileList(a,t.row)}}},[a("span",{staticClass:"icon-tupianshangchuan"})])],1):e._e()])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"ui-ope_area--btn"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.rejectData.length>1,expression:"rejectData.length>1"}],staticClass:"icon-shanchu",on:{click:function(a){e.handleDeleteInput(t.$index)}}}),e._v(" "),a("span",{staticClass:"icon-zengjia1",on:{click:function(a){e.handleAddInput(t.$index)}}})])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShowReject=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirmReject}},[e._v("确 定")])],1)],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("ArtGoodsEditPage",{attrs:{show:e.isShowEdit,row:e.saveEditRow},on:{"update:show":function(t){e.isShowEdit=t}}})],1)},staticRenderFns:[]};var Ai=a("VU/8")(xi,qi,!1,function(e){a("wyUS")},"data-v-c904daa6",null).exports;var Ti={name:"PreviewImage",props:{show:!1,row:{type:Object,default:function(){return{}}},ope:!1},data:function(){return{activeVal:"",activePage:-1,submitSkuList:[],editPageData:{},imgTypeList:{},imgType:"",listInfo:{},isShowLookImage:!1,lookImageUrl:[]}},computed:{operationList:function(){var e=[],t="";try{this.imgTypeList=this.row.imgTypeList,this.imgType=this.row.imgType,console.log(this.row),ie()(this.row.sku).forEach(function(t){e.push({value:t,label:t})}),t=ie()(this.row.spu)[0],this.listInfo=d()({},this.row.spu,this.row.sku),console.log(this.listInfo)}catch(e){console.log(e),console.log(this.row)}return[{label:"SPU",value:t}].concat(e)}},methods:{handleClosePage:function(){this.$emit("update:show",!1)},handleToggleEditArea:function(e,t){this.activePage=e,this.activeVal=t.value},handleLookImage:function(e,t){this.isShowLookImage=!0;var a=e.map(function(e){return e.url});a.push(t),this.lookImageUrl=a},handleDeleteImage:function(e,t){this.listInfo[this.activeVal][t].splice(e,1)},handleSaveOrSubmit:function(e){var t=this,a=this.listInfo[this.activeVal],i=a.assiant_pics,s=a.main_pics,n=i&&i.map(function(e){return e.url}),r=s&&s.map(function(e){return e.url}),l=we()({},this.activeVal,{assiant_pics:n,main_pics:r}),c={image_list:o()(we()({},this.activePage?"sku":"spu",l)),spu:this.operationList[0].value,image_type:this.row.imgType};1===e?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/art_design/image/previewUpload",t)}(c).then(function(e){var a=e.data;t.handleOperationCallBack(a)}):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/art_design/image/previewSubmitUpload",t)}(c).then(function(e){var a=e.data;t.handleOperationCallBack(a),t.$parent.handleQueryInfoCallBack(a),t.handleClosePage()})},handleOperationCallBack:function(e){e.status?this.$message.success("操作成功！"):this.$message.error(e.errorMess||"操作失败！")}},watch:{show:function(e){e?this.handleToggleEditArea(0,{value:ie()(this.row.spu)[0]}):this.activePage=-1}}},Pi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"bounce"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"ui-dialog_page",on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleClosePage(t):null}}},[a("div",{staticClass:"ui-head"},[a("span",[e._v("查看美工图片")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClosePage}})]),e._v(" "),a("div",{staticClass:"ui-left_nav"},[a("ul",e._l(e.operationList,function(t,i){return a("li",{key:i,class:{"ui-active":e.activePage===i?"ui-active":e.submitSkuList.indexOf(t.label)>-1},on:{click:function(a){e.handleToggleEditArea(i,t)}}},[a("span",[e._v(e._s(t.label))])])}))]),e._v(" "),e.listInfo[e.activeVal]?a("div",{staticClass:"ui-content_area"},[a("div",[a("span",{staticClass:"ui-label"},[e._v("图片类型")]),e._v(" "),a("el-select",{attrs:{size:"small",disabled:""},model:{value:e.imgType,callback:function(t){e.imgType=t},expression:"imgType"}},e._l(e.imgTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("div",{staticClass:"ui-img--area"},[a("span",{staticClass:"ui-img--area--title"},[e._v("主图")]),e._v(" "),a("ul",{staticClass:"ui-img--area--item clearFix"},e._l(e.listInfo[e.activeVal].main_pics,function(t,i){return a("li",{class:t.is_sign&&"ui-is_border"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-img--mask"},[e.ope?a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteImage(i,"main_pics")}}}):e._e(),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleLookImage(e.listInfo[e.activeVal].main_pics,i)}}})])])}))]),e._v(" "),a("div",{staticClass:"ui-img--area"},[a("span",{staticClass:"ui-img--area--title"},[e._v("辅图")]),e._v(" "),a("ul",{staticClass:"ui-img--area--item clearFix"},e._l(e.listInfo[e.activeVal].assiant_pics,function(t,i){return a("li",{class:t.is_sign&&"ui-is_border"},[a("img",{attrs:{src:t.url,alt:""}}),e._v(" "),a("div",{staticClass:"ui-img--mask"},[e.ope?a("span",{staticClass:"el-icon-delete",on:{click:function(t){e.handleDeleteImage(i,"assiant_pics")}}}):e._e(),e._v(" "),a("span",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleLookImage(e.listInfo[e.activeVal].assiant_pics,i)}}})])])}))])]):e._e(),e._v(" "),e.ope?a("div",{staticClass:"ui-ope--area"},[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){e.handleSaveOrSubmit(1)}}},[e._v("保存")]),e._v(" "),e.activePage?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSaveOrSubmit(2)}}},[e._v("提交")])],1):e._e(),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}})],1)])},staticRenderFns:[]};var Ei=a("VU/8")(Ti,Pi,!1,function(e){a("VEpJ")},"data-v-2b5f20d7",null).exports,Oi={components:{PreviewImage:Ei},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{imgType:""},optionList:{imgTypeList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isEditShow:!1,formLabelWidth:"110px",saveCheckId:"",editData:{comCode:"",supplierName:"",applyAddress:"",applyDate:"",companyType:"",supplierLink:"",pAndCity:[],area:"",contacts:"",phoneNumber:"",contactsPhone:"",wxNumber:"",qqNumber:"",email:"",paymentType:"",settlementType:"",point:""},isShowLookImage:!1,lookImageUrl:[],saveFileList:[],isPreviewShow:!1,previewInfo:{}}},computed:d()({},Object(h.c)(["queryParamsInfo","atrUploadInfo","loginInfo"]),{uploadUrl:function(){return"/art_design/image/uploadImg"},upLoadParams:function(){return{user_id:this.loginInfo.staff_code,image_type:this.queryData.imgType}}}),methods:{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.atr_upload));var t=d()({status:this.queryData.state,supplier_code:this.queryData.supplierCode,type:this.queryData.supplierType,shipping_province:this.queryData.deliverAddress[0],shipping_city:this.queryData.deliverAddress[1],settle_method:this.queryData.settlementType,create_user:this.queryData.createUser,devlop_user:this.queryData.devUser,supplier_name:this.queryData.supplierName,contacts:this.queryData.liaisons,pay_method:this.queryData.paymentMode,start_time:this.queryData.createTime[0],end_time:this.queryData.createTime[1]},e);this.GetPhotographyGoodsListInfo(t)},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleSaveFileList:function(e,t){console.log(t),this.saveFileList=[].concat(z()(t))},handleConfirmUpload:function(){var e=this;if(this.saveCheckInfo.length){var t=[];this.saveCheckInfo.forEach(function(e){t.push(e.spu)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.postAjax("/art_design/image/submitUpload",t)}({spus:t.join(",")}).then(function(t){var a=t.data;a.status?(e.$message.success("操作成功！"),e.tableData=a.list):e.$message.error(a.errorMess||"操作失败")})}else this.$message.warning("请勾选数据！")},handlePreview:function(e){var t=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/art_design/image/getImgList",t)})({spu:e.spu,image_type:e.image_type}).then(function(a){var i=a.data;t.previewInfo=d()({},i,{imgTypeList:t.optionList.imgTypeList,imgType:e.image_type}),t.isPreviewShow=!0})},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=[e]},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"atr_upload",value:o()(this.queryData)}),this.tableData=e.list.list,this.tableKey=["序号","SPU","缩略图","图片类型","上传时间","修改记录","状态","操作日志"],this.tableProps=["index","spu","url","image_type","upload_time","modify_time","operate_dev_user","file_url","state","reject_remarks"],this.$store.commit("SAVE_ATR_UPLOAD_INFO",d()({},e,{select_list:this.optionList.imgTypeList}))}},created:function(){var e=this;this.thisVm=this,console.log(this.atrUploadInfo),"{}"===o()(this.atrUploadInfo)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()({},f.a.ajaxData,e);return q.a.getAjax("/art_design/image/getImgType",t)}().then(function(t){var a=t.data;e.optionList.imgTypeList=a.list}):(this.queryData=JSON.parse(this.queryParamsInfo.atr_upload),this.optionList.imgTypeList=this.atrUploadInfo.select_list,this.tableData=this.atrUploadInfo.list.list,this.tableKey=["序号","SPU","缩略图","图片类型","上传时间","修改记录","状态","操作日志"],this.tableProps=["index","spu","url","image_type","upload_time","modify_time","operate_dev_user","file_url","state","reject_remarks"])}},Ui={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"图片类型"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryData.imgType,callback:function(t){e.$set(e.queryData,"imgType",t)},expression:"queryData.imgType"}},e._l(e.optionList.imgTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("li",[a("ComUpload",{attrs:{isDisabled:!e.queryData.imgType,url:e.uploadUrl,label:"点击上传",upData:e.upLoadParams},on:{success:e.handleQueryInfoCallBack}})],1),e._v(" "),a("li",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleConfirmUpload}},[e._v("确认上传")])],1)])]):e._e(),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"image_type",fn:function(t){return[a("span",[e._v(e._s(e.optionList.imgTypeList[t.row.image_type]))])]}},{key:"url",fn:function(t){return[a("div",{staticClass:"ui-table__img"},[a("img",{attrs:{src:t.row.url,alt:""},on:{click:function(a){e.handlePreview(t.row)}}})])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("PreviewImage",{attrs:{show:e.isPreviewShow,row:e.previewInfo,ope:!0},on:{"update:show":function(t){e.isPreviewShow=t}}})],1)},staticRenderFns:[]};var Ri=a("VU/8")(Oi,Ui,!1,function(e){a("BvfB")},"data-v-6ab36a7f",null).exports,zi=a("1Jzs"),ji={components:{PreviewImage:Ei},data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{productSPU:"",imgType:"",operateTime:[]},optionList:{imgTypeList:{}},tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isShowLookImage:!1,lookImageUrl:"",isPreviewShow:!1,previewInfo:{}}},computed:d()({},Object(h.c)(["queryParamsInfo","atrHistoryImgInfo"])),methods:d()({},Object(h.b)(["GetArtHistoryImgInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.atr_history_img));var a=d()({opera_time_start:this.queryData.operateTime[0],opera_time_end:this.queryData.operateTime[1],spu:this.queryData.productSPU,image_type:this.queryData.imgType},t);this.GetArtHistoryImgInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleResetQueryInfo:function(){this.queryData={productSPU:"",imgType:"",operateTime:[]}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleExportListInfo:function(){this.handleQueryInfo({isExcel:1},!0)},handleLookImage:function(e){this.isShowLookImage=!0,this.lookImageUrl=["http://pic10.nipic.com/20101016/2531170_233023137000_2.jpg"]},handlePreviewImageDetailInfo:function(e){var t=this,a=e.image_type,i=e.spu,s={image_type:a,spu:i};Object(zi.b)(s).then(function(e){var i=e.data;t.previewInfo=d()({},i.data.list,{imgTypeList:t.optionList.imgTypeList,imgType:a}),t.isPreviewShow=!0})},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"atr_history_img",value:o()(this.queryData)}),this.optionList.imgTypeList=e.select_list.image_type,this.tableData=e.data.value,this.tableKey=ne()(e.data.key),this.tableWidth=["","","","","220px","220px"],this.tableProps=ie()(e.data.key),this.tableProps.splice(0,1,"index"),this.tableProps.splice(0,1,"index"),this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.atrHistoryImgInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.atr_history_img),this.handleQueryInfoCallBack(this.atrHistoryImgInfo))}catch(e){console.log(e)}}},Fi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"商品SPU"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.productSPU,callback:function(t){e.$set(e.queryData,"productSPU",t)},expression:"queryData.productSPU"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"图片类型",template:"select",options:e.optionList.imgTypeList},model:{value:e.queryData.imgType,callback:function(t){e.$set(e.queryData,"imgType",t)},expression:"queryData.imgType"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{label:"操作时间",template:"daterange"},model:{value:e.queryData.operateTime,callback:function(t){e.$set(e.queryData,"operateTime",t)},expression:"queryData.operateTime"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("ComTableInfo",{ref:"myTable",attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"thumb_url",fn:function(t){return[a("LoadingImg",{attrs:{src:t.row.thumb_url},on:{click:function(a){e.handlePreviewImageDetailInfo(t.row)}}})]}},{key:"operate_log",fn:function(t){return[a("el-button",{attrs:{type:"text"}},[e._v("日志")])]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("LookImage",{attrs:{src:e.lookImageUrl,show:e.isShowLookImage},on:{"update:show":function(t){e.isShowLookImage=t}}}),e._v(" "),a("PreviewImage",{attrs:{show:e.isPreviewShow,row:e.previewInfo},on:{"update:show":function(t){e.isPreviewShow=t}}})],1)},staticRenderFns:[]};var Ni=a("VU/8")(ji,Fi,!1,function(e){a("bn65")},"data-v-733bb608",null).exports,$i={data:function(){return{showSearch:!0,tableData:[],tableKey:[],tableWidth:[],tableProps:[],saveCheckInfo:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},saveFileList:[],dialogFormVisible:!1,editform:{},departmentOption:f.a.departmentInfo,dialogTableVisible:!1,logData:[],logKey:[],logProps:[],logWidth:["200px","120px","120px"],importUrl:"/rejection/rejection/import_reject_config",upData:{}}},computed:d()({},Object(h.c)(["loginInfo"]),{downloadUrl:function(){return"/rejection/rejection/download_template"}}),methods:{handleDownloadModule:function(){window.open(this.downloadUrl+"?reject_from_dpt=5","_self")},handleUploadSuccess:function(e){e&&this.handleQueryInfo()},viewLog:function(e){var t=this;this.dialogTableVisible=!0,qt({mod_type:1,id:e}).then(function(e){var a=e.data;1===a.status?(t.logData=a.data.value,t.logData.map(function(e){return e.remark=e.remark.split("|")}),t.logProps=ie()(a.data.key),t.logKey=ne()(a.data.key)):t.logData=[]})},saveEditInfo:function(){var e=this,t=d()({},this.editform);delete t.create_time;var a=ne()(f.a.departmentInfo).findIndex(function(e){return t.reject_to_dpt===e});a>=0&&(t.reject_to_dpt=a+1),St(d()({modify_user:this.loginInfo.user_name,user_id:this.loginInfo.uid},t)).then(function(t){var a=t.data;a.errorMess?e.$message({message:a.errorMess,type:"warning"}):(e.dialogFormVisible=!1,e.$message({message:"修改成功!",type:"success"}),e.handleQueryInfo())})},editItem:function(e){this.dialogFormVisible=!0,this.editform=_t()({},e)},selectId:function(){var e=[];return this.saveCheckInfo.forEach(function(t){e.push(t.id)}),e},delData:function(){var e=this,t=this.selectId();t.length?this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){It({id:t.join(","),user_id:e.loginInfo.uid,modify_user:e.loginInfo.user_name}).then(function(){e.$message({message:"删除成功!",type:"success"}),e.handleQueryInfo()})}):this.$message.warning("请勾选数据！")},delItem:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){It({id:e,user_id:t.loginInfo.uid,modify_user:t.loginInfo.user_name}).then(function(){t.$message({message:"删除成功!",type:"success"}),t.handleQueryInfo()})})},handleExportListInfo:function(){xt({reject_from_dpt:5,id:this.selectId().join(",")})},handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lt(d()({reject_from_dpt:5},t)).then(function(t){var a=t.data;e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1})},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e})},handleSaveCheckInfo:function(e){this.saveCheckInfo=e},handleQueryInfoCallBack:function(e){this.tableData=e.data.value,this.tableProps=ie()(e.data.key),this.tableKey=ne()(e.data.key),this.tableWidth=["","","","","220px","220px"],this.pageData.currentList=1*e.page.limit,this.pageData.currentPage=1*e.page.offset,this.pageData.currentTotal=1*e.page.total}},created:function(){this.handleQueryInfo(),this.upData={user_id:this.loginInfo.staff_code||"12534",reject_from_dpt:5}}},Mi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("div",{staticClass:"operation-box"},[a("div",[a("el-button",{attrs:{size:"small",type:"text"},on:{click:e.handleDownloadModule}},[e._v("下载模板")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small",icon:"icon-daochu icon_blue"},on:{click:e.handleExportListInfo}},[e._v("导出\n            ")]),e._v(" "),a("ComUpload",{staticClass:"ui-upload_btn",attrs:{btnType:"text",label:"批量导入",url:e.importUrl,upData:e.upData,multiple:!0},on:{success:e.handleUploadSuccess},scopedSlots:e._u([{key:"icon",fn:function(e){return[a("i",{staticClass:"icon-piliangdaoru icon_purple"})]}}])}),e._v(" "),a("el-button",{attrs:{size:"small",type:"text",icon:"icon-shanchu1 icon_pink"},on:{click:e.delData}},[e._v("删除")])],1)]),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,"other-height":["operation-box"],tableWidth:e.tableWidth,showSearch:e.showSearch},on:{checked:e.handleSaveCheckInfo},scopedSlots:e._u([{key:"operate",fn:function(t){return[a("el-table-column",{attrs:{width:"200px",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.delItem(t.row.id)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewLog(t.row.id)}}},[e._v("日志")])]}}])})]}}])}),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"编辑",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editform,"label-width":"100px"}},e._l(e.tableKey,function(t,i){return a("el-form-item",{key:i,attrs:{label:t}},["reject_to_dpt"!==e.tableProps[i]?a("el-input",{attrs:{disabled:"id"===e.tableProps[i]||"create_time"===e.tableProps[i]||"create_user"===e.tableProps[i]},model:{value:e.editform[e.tableProps[i]],callback:function(t){e.$set(e.editform,e.tableProps[i],t)},expression:"editform[tableProps[index]]"}}):e._e(),e._v(" "),"reject_to_dpt"===e.tableProps[i]?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.editform.reject_to_dpt,callback:function(t){e.$set(e.editform,"reject_to_dpt",t)},expression:"editform.reject_to_dpt"}},e._l(e.departmentOption,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})):e._e()],1)})),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEditInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:"查看日志",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("ComTableInfo",{attrs:{tableKey:e.logKey,tableProps:e.logProps,tableData:e.logData,tableWidth:e.logWidth},scopedSlots:e._u([{key:"remark",fn:function(t){return e._l(t.row.remark,function(t,i){return a("p",{key:i},[e._v("\n                    "+e._s(t)+"\n                ")])})}}])})],1)],1)},staticRenderFns:[]};var Qi=a("VU/8")($i,Mi,!1,function(e){a("ZWZQ")},"data-v-eab57fe2",null).exports,Bi={data:function(){return{searchDateWidth:f.a.SEARCH_DATE_WIDTH,thisVm:{},showSearch:!0,queryData:{groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:"",firstGroup:"",groupType:"5"},optionList:{userList:[],canClassifyList:[],areaList:[],whetherList:[],devTypeList:[],groupTopList:[],searchUserList:[],moduleTypeList:[{value:"5",label:"美工一"},{value:"7",label:"美工二"},{value:"8",label:"美工三"}]},tableData:[],tableKey:[],tableProps:[],pageSizes:f.a.pageData.pageSizes,pageData:{currentPage:1,currentList:20,currentTotal:0},isFirstAddShow:!1,isEditFirstShow:!1,firstEdit:{manage:"",groupName:"",id:""},isReview:!1,isAddShow:!1,isEditShow:!1,labelWidth:"70px",editData:{groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},saveCheckId:"",editRule:{groupName:f.a.RULE_CONFIG.requiredBlur,groupManager:f.a.RULE_CONFIG.requiredChange,groupHeadman:f.a.RULE_CONFIG.requiredChange,groupUser:f.a.RULE_CONFIG.requiredChange},isProofTrue:""}},computed:d()({},Object(h.c)(["buttonList","queryParamsInfo","atrGroupInfo"])),methods:d()({},Object(h.b)(["GetAtrGroupInfo"]),{autoAddTableInx:m.a,getDefaultTime:m.d,goToNewPage:m.h,handleQueryInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.queryData=JSON.parse(this.queryParamsInfo.atr_group_manage));var a=d()({group_type:this.queryData.groupType,devp_type:this.queryData.devType,category_id:this.queryData.classify[this.queryData.classify.length-1],group_name:this.queryData.groupName,top_level_pid:this.queryData.firstGroup,user_manager_id:this.queryData.groupManager,user_director_id:this.queryData.groupDirector},t);this.GetAtrGroupInfo(a).then(function(t){var a=t.data;2!==a.status&&e.handleQueryInfoCallBack(a)}).catch(function(e){console.log(e)})},handleToggleFirst:function(e){this.queryData.firstGroup=e.top_level_pid,this.handleQueryInfo({limit:this.pageData.currentList})},handleResetQueryInfo:function(){this.queryData={groupName:"",groupManager:"",groupDirector:"",classify:[],devType:"",groupTop:""}},handleSizeChange:function(e){this.handleQueryInfo({limit:e,offset:1},!0)},handleCurrentChange:function(e){this.handleQueryInfo({limit:this.pageData.currentList,offset:e},!0)},handleToggleTableInfo:function(e){this.queryData.groupType=e,this.handleQueryInfo()},handleDeleteInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.id,group_type:t.queryData.groupType};Object(et.c)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleDeleteFirstInfo:function(e){var t=this;this.$confirm("确认删除？","提示",{type:"warning"}).then(function(){var a={group_id:e.top_level_pid,group_type:t.queryData.groupType};Object(et.b)(a).then(function(e){var a=e.data;t.handleOperationCallBack(a)})})},handleClickAddFirstInfo:function(){this.isFirstAddShow=!0},handleSaveAddFirstInfo:function(){var e=this,t={user_manager_id:this.firstEdit.manage,group_name:this.firstEdit.groupName,group_type:this.queryData.groupType};this.isEditFirstShow?(t.group_id=this.firstEdit.id,Object(et.d)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.a)(t).then(function(t){var a=t.data;e.handleOperationCallBack(a)})},handleEditFirst:function(e){this.firstEdit.manage=e.user_manager_id,this.firstEdit.groupName=e.group_name,this.firstEdit.id=e.top_level_pid,this.isEditFirstShow=!0,this.isFirstAddShow=!0},handleCancelAddFirstInfo:function(){this.firstEdit={manage:"",groupName:"",id:""},this.$refs.firstEdit.resetFields(),this.isFirstAddShow=!1,this.isEditFirstShow=!1},handleClickAdd:function(){this.isAddShow=!0},handleClickEdit:function(e,t){"readonly"===t&&(this.isReview=!0),this.handlePlayUpEditInfo(e),this.isAddShow=!0},handlePlayUpEditInfo:function(e){this.isEditShow=!0,this.saveCheckId=e.id,this.editData.canClassify=e.group_category.map(function(e){return e.map(function(e){return e.toString()})}),this.editData.groupName=e.group_name,this.editData.parentGroup=e.top_level_pid,this.editData.groupManagerId=e.user_manager_id,this.editData.groupManager=this.optionList.userList[e.user_manager_id],this.editData.groupDirector=e.user_director_id,this.editData.groupHeadman=e.user_groupman_id,this.editData.groupUser=ie()(e.group_user_info),this.editData.area=1*e.region,this.editData.devType=1*e.devp_type,this.editData.isDiy=1*e.is_customized,this.editData.isOss=1*e.is_overseas},handleCancelEdit:function(){this.editData={groupName:"",parentGroup:"",canClassify:[[]],groupManager:"",groupManagerId:"",groupDirector:"",groupHeadman:"",groupUser:[],area:"",devType:"",isDiy:"",isOss:""},this.$refs.editData.resetFields(),this.isAddShow=!1,this.isEditShow=!1,this.isReview=!1},handleDelClassify:function(){1!==this.editData.canClassify.length&&this.editData.canClassify.pop()},handleAddClassify:function(){this.editData.canClassify.push([])},handleProofClassify:function(e,t){for(var a=e[e.length-1],i=0;i<this.editData.canClassify.length;i++){var s=this.editData.canClassify[i];if(t!==i&&s.indexOf(a)>-1)return this.$message.warning("适用分类选择有误！"),!0}},handleOpenProofClassify:function(e){},handleConfirmEdit:function(){var e=this;this.$refs.editData.validate(function(t){if(t){for(var a=0;a<e.editData.canClassify.length;a++)if(e.handleProofClassify(e.editData.canClassify[a],a))return;var i=[];e.editData.groupUser.forEach(function(e){i.push({user_staff_id:e})});var s={group_name:e.editData.groupName,top_level_pid:e.editData.parentGroup,user_groupman_id:e.editData.groupHeadman,user_director_id:e.editData.groupDirector,user_manager_id:e.editData.groupManagerId,group_user_info:o()(i),devp_type:e.editData.devType||0,region:e.editData.area||0,group_type:e.queryData.groupType||0,is_customized:e.editData.isDiy||0,is_overseas:e.editData.isOss||0,group_category:o()(e.editData.canClassify)};e.isEditShow?(s.group_id=e.saveCheckId,Object(et.f)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})):Object(et.g)(s).then(function(t){var a=t.data;e.handleOperationCallBack(a)})}})},handleOperationCallBack:function(e){e.status?(this.$message.success("操作成功"),this.handleQueryInfo({limit:this.pageData.currentList}),this.isAddShow&&this.handleCancelEdit(),this.isFirstAddShow&&this.handleCancelAddFirstInfo()):this.$message.error(e.errorMess||"操作失败")},handleQueryInfoCallBack:function(e){this.$store.commit("SAVE_QUERY_PARAMS_INFO",{key:"atr_group_manage",value:o()(this.queryData)}),this.optionList.devTypeList=e.data_list.drop_down_data.devp_type_list,this.optionList.searchUserList=e.data_list.drop_down_data.user_data,this.optionList.canClassifyList=e.data_list.drop_down_data.category_list,this.optionList.groupTopList=e.data_list.top_group_list,this.optionList.areaList=e.data_list.drop_down_data.region_list,this.optionList.userList=e.data_list.drop_down_data.user_data,this.optionList.whetherList=e.data_list.drop_down_data.whether,this.tableData=e.data_list.value,this.tableKey=e.data_list.key,this.tableProps=["index","group_name","region","devp_type_cn","group_category_cn","group_user_info","group_user_number","operation"],this.pageData.currentList=1*e.page_data.limit,this.pageData.currentPage=1*e.page_data.offset,this.pageData.currentTotal=1*e.page_data.total}}),created:function(){this.thisVm=this;try{"{}"===o()(this.atrGroupInfo)?this.handleQueryInfo({is_get_base:1}):(this.queryData=JSON.parse(this.queryParamsInfo.atr_group_manage),this.handleQueryInfoCallBack(this.atrGroupInfo))}catch(e){console.log(e)}},watch:{"editData.parentGroup":function(e){var t=this;this.optionList.groupTopList.forEach(function(a){a.top_level_pid===e&&(t.editData.groupManager=t.optionList.userList[a.user_manager_id],t.editData.groupManagerId=a.user_manager_id)})}}},Vi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-main-module"},[a("transition",{attrs:{name:"slide-fade"}},[e.showSearch?a("div",{staticClass:"ui-search-area"},[a("ul",{staticClass:"ui-main-module-search clearFix"},[a("li",[a("SearchRequirement",{attrs:{label:"小组名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.queryData.groupName,callback:function(t){e.$set(e.queryData,"groupName",t)},expression:"queryData.groupName"}})],1)],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组经理",options:e.optionList.searchUserList},model:{value:e.queryData.groupManager,callback:function(t){e.$set(e.queryData,"groupManager",t)},expression:"queryData.groupManager"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"小组主管",options:e.optionList.searchUserList},model:{value:e.queryData.groupDirector,callback:function(t){e.$set(e.queryData,"groupDirector",t)},expression:"queryData.groupDirector"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"cascader",props:{label:"category_name",value:"id"},label:"适用分类",options:e.optionList.canClassifyList},model:{value:e.queryData.classify,callback:function(t){e.$set(e.queryData,"classify",t)},expression:"queryData.classify"}})],1),e._v(" "),a("li",[a("SearchRequirement",{attrs:{template:"select",label:"开发类型",options:e.optionList.devTypeList},model:{value:e.queryData.devType,callback:function(t){e.$set(e.queryData,"devType",t)},expression:"queryData.devType"}})],1)]),e._v(" "),a("div",{staticClass:"ui-Filter-btn"},[a("el-button",{attrs:{size:"small",icon:"icon-zhongzhi"},on:{click:function(t){e.handleResetQueryInfo()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"icon-chaxun"},on:{click:function(t){e.handleQueryInfo({limit:e.pageData.currentList})}}},[e._v("查询\n                ")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("span",{staticClass:"ui-top_i",on:{click:function(t){e.showSearch=!e.showSearch}}},[a("ComIcon",{attrs:{name:e.showSearch?"shrink_up":"shrink_down"}})],1)]),e._v(" "),a("div",{staticClass:"ui-shortcut",staticStyle:{"margin-top":"0"}},[e._m(0),e._v(" "),a("ul",{staticClass:"ui-shortcut--area clearFix"},[e._l(e.optionList.groupTopList,function(t){return a("li",{on:{click:function(a){e.handleToggleFirst(t)}}},[a("div",{staticClass:"ui-title"},[a("span",[e._v(e._s(t.group_name))])]),e._v(" "),a("div",{staticClass:"ui-label"},[a("span",[e._v("经理人 "+e._s(t.number))])]),e._v(" "),a("span",{staticClass:"icon-shanchu ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleDeleteFirstInfo(t)}}}),e._v(" "),a("span",{staticClass:"icon-bianji ui-ope_icon",on:{click:function(a){a.stopPropagation(),e.handleEditFirst(t)}}})])}),e._v(" "),a("li",{staticClass:"ui-shortcut--area--ope",on:{click:e.handleClickAddFirstInfo}},[a("span",{staticClass:"icon-tianjia"})])],2)]),e._v(" "),a("div",{staticClass:"ui-fn-module"},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleClickAdd}},[a("i",{staticClass:"icon-xinzeng1 icon_blue"}),e._v("新增小组\n        ")])],1),e._v(" "),a("ComTableInfo",{attrs:{isCheck:"",tableKey:e.tableKey,tableProps:e.tableProps,tableData:e.tableData,tableWidth:[""],otherHeight:["ui-shortcut","ui-main-tab"],showSearch:e.showSearch},scopedSlots:e._u([{key:"group_category_cn",fn:function(t){return[a("div",e._l(t.row.group_category_cn,function(t){return a("p",[e._v(e._s(t))])}))]}},{key:"region",fn:function(t){return[a("span",[e._v(e._s(e.optionList.areaList[1*t.row.region]))])]}},{key:"group_user_info",fn:function(t){return[a("div",[a("p",[a("span",[e._v("组长：")]),a("span",[e._v(e._s(t.row.user_groupman_cn))])]),e._v(" "),a("p",[a("span",[e._v("主管：")]),a("span",[e._v(e._s(t.row.user_director_cn))])]),e._v(" "),a("p",[a("span",[e._v("经理：")]),a("span",[e._v(e._s(t.row.user_manager_cn))])])])]}},{key:"group_user_number",fn:function(t){return[a("div",[a("p",[a("span",[e._v(e._s(Object.values(t.row.group_user_info).join(",")))])]),e._v(" "),a("p",[a("span",[e._v(e._s(t.row.group_user_info&&Object.values(t.row.group_user_info).length))])])])]}},{key:"operation",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row,"readonly")}}},[e._v("预览")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("操作日志")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDeleteInfo(t.row)}}},[e._v("删除")])]}}])},[a("div",{staticClass:"ui-main-tab"},e._l(e.optionList.moduleTypeList,function(t,i){return a("el-badge",{key:i},[a("li",{staticClass:"ui-main-tab-box"},[a("span",{class:e.queryData.groupType===t.value&&"ui-active",on:{click:function(a){e.handleToggleTableInfo(t.value)}}},[e._v(e._s(t.label)),a("i",{staticClass:"ui-tab_line"})])])])}))]),e._v(" "),a("div",{staticClass:"ui-main-module-page"},[a("el-pagination",{attrs:{"current-page":e.pageData.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageData.currentList,layout:"total, sizes, prev, pager, next, jumper",total:e.pageData.currentTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isEditFirstShow?"编辑一级小组":"新增一级小组",top:"10vh",width:"400px",visible:e.isFirstAddShow},on:{"update:visible":function(t){e.isFirstAddShow=t},close:e.handleCancelAddFirstInfo}},[a("el-form",{ref:"firstEdit",attrs:{model:e.firstEdit,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"groupName",label:"一级小组"}},[a("el-input",{model:{value:e.firstEdit.groupName,callback:function(t){e.$set(e.firstEdit,"groupName",t)},expression:"firstEdit.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manage",label:"小组经理"}},[a("el-select",{attrs:{filterable:""},model:{value:e.firstEdit.manage,callback:function(t){e.$set(e.firstEdit,"manage",t)},expression:"firstEdit.manage"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelAddFirstInfo}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleSaveAddFirstInfo}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ui-layout_edit-dialog",attrs:{title:e.isReview?"预览":e.isEditShow?"编辑":"新增",top:"10vh",width:"740px","custom-class":"ui-com_edit",visible:e.isAddShow},on:{"update:visible":function(t){e.isAddShow=t},close:e.handleCancelEdit}},[a("el-form",{ref:"editData",attrs:{model:e.editData,rules:e.editRule,size:"small"}},[a("div",{staticClass:"clearFix"},[a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("二级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupName",label:"小组名称","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:e.isReview},model:{value:e.editData.groupName,callback:function(t){e.$set(e.editData,"groupName",t)},expression:"editData.groupName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"devType",label:"开发类型","label-width":e.labelWidth}},[a("el-select",{attrs:{disabled:e.isReview},model:{value:e.editData.devType,callback:function(t){e.$set(e.editData,"devType",t)},expression:"editData.devType"}},e._l(e.optionList.devTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("一级小组")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"parentGroup",label:"一级小组","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.parentGroup,callback:function(t){e.$set(e.editData,"parentGroup",t)},expression:"editData.parentGroup"}},e._l(e.optionList.groupTopList,function(e,t){return a("el-option",{key:t,attrs:{label:e.group_name,value:e.top_level_pid}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupManager",label:"小组经理","label-width":e.labelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.editData.groupManager,callback:function(t){e.$set(e.editData,"groupManager",t)},expression:"editData.groupManager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupDirector",label:"小组主管","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupDirector,callback:function(t){e.$set(e.editData,"groupDirector",t)},expression:"editData.groupDirector"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"groupHeadman",label:"小组组长","label-width":e.labelWidth}},[a("el-select",{attrs:{filterable:"",disabled:e.isReview},model:{value:e.editData.groupHeadman,callback:function(t){e.$set(e.editData,"groupHeadman",t)},expression:"editData.groupHeadman"}},e._l(e.optionList.searchUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("适用分类")])]),e._v(" "),a("div",{staticClass:"ui-item ui-btn--layout"},[e._l(e.editData.canClassify,function(t,i){return a("el-form-item",{key:i,attrs:{prop:"canClassify"}},[a("el-cascader",{attrs:{disabled:e.isReview,"change-on-select":"",placeholder:"输入搜索",options:e.optionList.canClassifyList,props:{label:"category_name",value:"id",children:"children"},filterable:""},model:{value:e.editData.canClassify[i],callback:function(t){e.$set(e.editData.canClassify,i,t)},expression:"editData.canClassify[index]"}})],1)}),e._v(" "),a("div",{staticClass:"ui-item--area--ope"},[e.isReview?e._e():a("span",{staticClass:"icon-shanjian",on:{click:e.handleDelClassify}}),e._v(" "),e.isReview?e._e():a("span",{staticClass:"icon-zengjia",on:{click:e.handleAddClassify}})])],2)]),e._v(" "),a("div",{staticClass:"ui-group"},[a("div",{staticClass:"ui-title"},[a("span",[e._v("小组成员")])]),e._v(" "),a("div",{staticClass:"ui-item"},[a("el-form-item",{attrs:{prop:"groupUser"}},[a("el-select",{attrs:{multiple:"",filterable:"",disabled:e.isReview},model:{value:e.editData.groupUser,callback:function(t){e.$set(e.editData,"groupUser",t)},expression:"editData.groupUser"}},e._l(e.optionList.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)])])]),e._v(" "),a("div",{staticClass:"ui-com_edit--btn",attrs:{slot:"footer"},slot:"footer"},[e.isReview?e._e():a("el-button",{attrs:{size:"small"},on:{click:e.handleCancelEdit}},[e._v("取消")]),e._v(" "),e.isReview?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleConfirmEdit}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-shortcut--title"},[t("span",[this._v("一级小组")])])}]};var Wi=a("VU/8")(Bi,Vi,!1,function(e){a("pb0h")},"data-v-96a862f8",null).exports;r.default.use(l.a);var Gi=new l.a({routes:[{path:"/home",name:"home",component:L,redirect:"/hello",children:[{path:"/hello",name:"hello",component:E},{path:"/notAuthority",name:"无权限界面",component:x},{path:"/supplier_create_log",name:"供应商创建记录",component:W},{path:"/supplier_create_list",name:"创建供应商列表",component:H,props:function(e){return{queryParams:e.query.queryParams}}},{path:"/add_supplier_list",name:"新增供应商列表",component:Y,props:function(e){return{queryParams:e.query.queryParams}}},{path:"/batch_create_supplier",name:"批量创建供应商",component:te},{path:"/create_supplier_upload",name:"供应商上传附件",component:le},{path:"/supplier_disabled_audit",name:"供应商禁用审核",component:_e},{path:"/supplier_qualified_list",name:"合格供应商列表",component:de},{path:"/supplier_disabled_list",name:"禁用供应商列表",component:ve},{path:"/supplier_dev_report_forms",name:"供应商开发报表",component:ye},{path:"/product_dev_survey",name:"商品开发调研",component:ke},{path:"/product_datum_create",name:"商品资料创建",component:Fe},{path:"/batch_create_product_datum",name:"批量创建SPU",component:Me},{path:"/dev_anomaly_audit",name:"开发异常审核",component:We},{path:"/cancel_dev_list",name:"取消开发列表",component:He},{path:"/product_scan_relevance",name:"商品扫码关联",component:Xe},{path:"/dev_group_manage",name:"开发小组管理",component:it},{path:"/dev_type_manage",name:"开发类型管理",component:nt},{path:"/product_catalogue_manage",name:"商品目录管理",component:lt},{path:"/product_attr_manage",name:"商品属性管理",component:pt},{path:"/product_dev_list",name:"商品开发列表",component:Qt},{path:"/sample_purchase",name:"样品采购下单",component:Gt},{path:"/sample_track_manage",name:"样品跟单管理",component:ea},{path:"/sample_track_record",name:"样品跟单记录",component:ia},{path:"/copy_edit_list",name:"文案编辑列表",component:kt},{path:"/copy_edit_record",name:"文案编辑记录",component:Ct},{path:"/copy_group_manage",name:"文案小组管理",component:Rt},{path:"/rejected_info_maintain",name:"驳回信息维护",component:Et},{path:"/sample_scan",name:"样品扫码送样",component:pa},{path:"/sample_inspect_list",name:"样品待检列表",component:va},{path:"/sample_audit_list",name:"样品审核列表",component:xa},{path:"/sample_abnormal_record",name:"样品异常记录",component:Ta},{path:"/audit_record",name:"TQE审核记录",component:Fa},{path:"/work_report",name:"TQE工作报表",component:$a},{path:"/sample_audit_report",name:"样品审核报表",component:Qa},{path:"/basic_data_maintain",name:"基础资料维护",component:Ga},{path:"/test_list_maintain",name:"检测清单维护",component:ii,props:function(e){return{queryParams:e.query.queryParams}}},{path:"/delivery_pack",name:"发货包装",component:ri,props:function(e){return{queryParams:e.query.queryParams}}},{path:"/photography_sample_scan",name:"摄影样品扫码",component:pi},{path:"/photography_goods_list",name:"摄影商品列表",component:fi},{path:"/photography_rejected_maintain",name:"摄影驳回维护",component:yi},{path:"/photography_group_manage",name:"摄影小组管理",component:Di},{path:"/goods_modification_list",name:"商品修图列表",component:Ai},{path:"/art_picture_upload",name:"图片美工上传",component:Ri},{path:"/art_history_img",name:"美工历史图片",component:Ni},{path:"/art_rejected_maintain",name:"美工驳回维护",component:Qi},{path:"/art_group_manage",name:"美工小组管理",component:Wi},{path:"/sample_group_manage",name:"样品跟单小组",component:la},{path:"/quality_control_group",name:"品控小组管理",component:Ja}]},{path:"*",redirect:"/home"}]}),Ki=!1;Gi.beforeEach(function(e,t,a){var i=e.path.replace(/\/$/,""),n="{}"!==o()(c.a.getters.loginInfo),r=Object(m.c)();if(!n&&!Ki)return new s.a(function(e){(function(e){return q.a.postAjax("/login/login/getuserinfo",e)})({access_token:r.access_token}).then(function(t){var a=t.data;f.a.HOME_PATH=a.data.path,c.a.commit("SAVE_LOGIN_INFO",a.data),c.a.commit("SAVE_PERMIT_PATH_INFO",a.data.permissions),c.a.commit("SAVE_PERMIT_RESOURCE_INFO",a.data.permissions),e(1)})}).then(function(e){if(Ki=!0,e){var t=c.a.getters.permitPath.indexOf("/supplier_create_list")>-1?_.a.getRouteIndex("/supplier_create_list"):"1-1-1",i=_.a.navJumpFn(t);a({path:i.path}),c.a.commit("SAVE_TAB_LABELS",{path:i.path,name:i.name,index:t}),c.a.commit("SAVE_NAV_INDEX",t)}});if(n||Ki){if(c.a.getters.pageEditState[i]&&c.a.getters.pageEditState[i].path)return a({path:c.a.getters.pageEditState[i].path});a()}else a()}),Gi.afterEach(function(e,t){c.a.commit("SAVE_BUTTON_CONFIG",e.path.replace(/\/$/,""))});t.a=Gi},"Z/Le":function(e,t){},ZMCt:function(e,t,a){"use strict";t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,search_type:1},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/supplier_export"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/supplier/supplier/supplier_search",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/supplier/supplier/sup_data_upload",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/supplier/supplier/handle_sup_status",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/supplier/supplier/edit_supplier_list",t)},t.g=function(e){return e.append("request_type",1),r.a.fileAjax("/supplier/supplier/edit_supplier",e)},t.h=function(e){return e.append("request_type",1),r.a.fileAjax("/supplier/supplier_found/foundSupplier",e)},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/supplier/supplier/supplier_log_list",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/supplier/supplierAttach/uploadConfim",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},ZWZQ:function(e,t){},Zzas:function(e,t){},bn65:function(e,t){},cEki:function(e,t){},cI6y:function(e,t){},cNEj:function(e,t){},cVbH:function(e,t){},dRDU:function(e,t){},"e/vl":function(e,t,a){"use strict";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({limit:20,offset:1,search_type:1},o.a.ajaxData,e);return n.a.getAjax("/copywriters/copywriters/getSpuCopywritersList",t)},t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/supplier/supplier/edit_supplier",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/copywriters/copywriters/assigned_spu",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.postAjax("/copywriters/copywriters/againDistribution",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s()({},o.a.ajaxData,e);return n.a.getAjax("/copywriters/copywriters/getRejectDown",t)},t.g=function(e){return n.a.fileAjax("/copywriters/copywriters/uploadImage",e)},t.e=function(e){return n.a.fileAjax("/copywriters/copywriters/copywritersReject",e)};var i=a("Dd8w"),s=a.n(i),n=a("gfkZ"),o=a("vgQg")},eMqU:function(e,t){},erWL:function(e,t){},"f+oZ":function(e,t){},fakP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAACCCAYAAABlwXvDAAAWB0lEQVR4nO2dWXBjWXnHf/deLZYsybYs2+1u7z3tnulhQoVhSDEsD9mYYUmFkBBIzYRAGBICqUoIlTwEXlLkKVChEiAQBggZEiiyUWGZoVLJQ5YhMDRZJu3ppme63Xa725LlRYu13S0Px1cj25Kt5dwr2e1flarbtnTP0bn/+51zvnPO9ynFYpFjiArMAvcAc8AMMAmMAMM7rz7AB0R3PpMDDKAErO+81oBlYBG4BjwHXAcsT76FxyjHRAxTwGuAB4GXAxeAiEtl5YEF4PvAd4B/BZZcKstTjqoYIsBPAA/tvGa6WhthOZ7aef0zQjC7WFhYeBAoX7hw4aK3VWueoySGfuBNwC8ADwOh7lanIUWEKL4KfB3YBlhYWBgG3gZ8CogD5y9cuPB0typZD1+3K9AELwceQzRkrMt1aYYQ8OadVw74MvBZ4CJQBt4FBIHvdquCjehVy+ADfh74IHB/l+vSMaVSiXw+v1Qul5/KZrMXbdv+7IULF+xu12svvWYZAsB7ECKY7nJdpGHbNkNDQ1Oapr2nr69vIxKJDAEfR1iKnqFXLIMPYT4/hJgCHltKpRK2bRMKhZaBjwCfR0xpu04viOEh4GOI6eCdyALwO4hBZ1dRu1j2DPBN4EnuXCGA+O5PItpippsV6YYYVOC3gGeB13eh/F7l9cD/IdqmKw+p193EDPBXCE/hCY15GngU4QL3DC8V+AjwP5wIoRkeBP4LIQjP8EIMQYTT5QmOhtOoV4gBfwk8jmhD13G7m5gE/g54wM1C7gCeAd6CWEF1DTctw/0Il+uJEDrnAeB7uOyN7dgy5HO5fb+LRKNvBL6CWFw6QR7bwNvyudw3an8ZiUYbvL01pFuGSDT6DuBrnAjBDfqBr0Wi0UfcuLjUtYlINPpe4JOAIvO67WLbNpZlYVkWtvOvbVdfznsAFEVBUZRd/1dVFUVVUXdezt+7jAZ8MRKN9udzuc/IvLA0MUSi0d8APkEXhWDbNqZpipdhYFnN706rFUgjVFVF8/nQNA1N07opDhX4s0g0quVzuU/JuqiUMcNO1/AFuiAE27YxDQPdMDANb9d7NJ8Pv8+H5vN1Sxg28E7gizIuJmNq+TPA3yPMl2dYpomu6xiGcegT7TaKouDz+fD7/aiap80AYAI/B/xjpxfqVAw/BvwLEO60Is1iGAZ6pYJpml4V2RKapuEPBPD5PN0qUgB+nA53T3UihgngP4EznVSgWUzDoNLDItiLqmkEAwE070RxE3jlzr9t0a4YgsC/4YFDybIsKuUyhsfjAVn4fD4CwSCq6sky0DPAq4FKOx9ut4afxAMhVCoVCtvbR1YIILq1wvY2lUpb96dVHkDsvm6LdizDI4hFJ9ewLItSqYR1RLqEZlE1jb6+Pi+sxKPAl1r9UKtimAX+GxdXHw1dp1wud32G4BaKohAMBvH5/W4WkwVeijjc0zStSFRDqM01IZTL5eqG0eOKbduUSiXKpZKbxcQQm4hamue2IobfxKWNKbZtUywW0b3pV3sCXdcpFotuCv9BxD1rmma7iRnEnkXph1lt26ZYKLTkOj5OqKpKKBxu2YOZyWQAGBgYOOhteeA+muwumrUMn+BECK5gWRbFQqFlC+EswB1CBHHvmqIZy/A6XNjTfyKE3TRrITKZDJZlUSgUAAiHw6iqepiFeAj49mF1OMw95kMcA5OK20IoFousb2xI9VZqmsZwPE4o5M7hb8dCtNNlNMHHEd3FgQ6bw8TwLuBuWTVyKBWLbQnBMAw2t7aED+KQz8/OzhIOy1syKRQKXL9+/cD3qKpKX18fQ4ODba1NWJZFqVgkdEC991qAoaGhZi59N+Je/vlBbzqoxkHg95spqRXK5XJbT6yu6yRTKUZGRpiamkI7YHXw0qVLUoUAVK937733NnyPaZpsbW2xmkwyNjqKvw1fgmmalMtlgsGDN0S34bj6EGKpu+Fh34PE8BgiPI40nBXHdtjKZBgZGWF4ePjQ9/p8PgqFQvUGplIp0ul0S4M0RVFIJBKMjo4CwjIc9rRrmsbw8DC2bYv6JhJNl1eLXqmgadqB5R0yRqjHJOKeNhxQNhpA+oAXkCiGdkfNDss3bzI/P3+gRXDI5/OsrKzsWtOYn59v6UnVdZ0f/vCH1Z/9fj+nT58mEjl8UmWaJleuXGFqsv0D5YqiENoZHEpkCThLg7FDI+m9BclWodyhZ9GyrKaEABCJRDh//nz151QqxdWrV1u2DCMjI1XL0AqapnXsTLJtm3KpdOD4oQ2mEBthvlrvj43E8Lsya9DtzSijo6Nt3dRuY5omeqWCPxCQednfo4EY6tmgB4CXySrZtm2vlm+PJZVKRbbL+mWIOFn7qGcZ3i2z5E67h2aoVCokk0ny+bxnTixVVYlEIoyNjRGQ++Tuwuku+uT6Nx5DxLHcxV4x9ANvl1WiaZqub0wpl8ssLi4yPj7O7OysZ3sPDcNgY2OD69evMzMzc+hUsNOyTNNseszUBG8HPsBOWEKHvd3EG3gxfG7HVMrux69KpVKMj48zOjrq6SZUn8/H6OgoY2NjpFIp18uT3JZRREzNXewVwy/KKs1Rs9vk83ni8bjr5TQikUiQz+8LCCsdF6zsW/f+olYMEZoIq7O9vU02mz20JK/2JliW5fW29F34fD7PximS2/Rh9qxE14rhJxGR1g8kEAiQTqdF5XS97lPhHHE7QS6S27UPcc+r1Irhp5u5gt/vR1VVbty4wfLyct2nwtD1jmp5QmMkt+3ran+ota+HdhHZbJZ0Ol31sM3Nze17j23bXdvafvGitwHb77/f+0jGhmEQsG1Zy9wP1/7giGGaJsLzqqrK5OQkfr+fa9euoev6Pn+/2cWzj924OV7jHDSWtLt6GrGlcRFe7CZe1cwnI5FI9eYnEgnKdaY7R/nAy1FBl9vG1XvviOHVrV4hFovtW8HrZhdxJyHZ+u4TgxT7ejKD8A6JbV299z6EIBpv32mBbovhThhAOpimKcu/ci9CA5YPkd1NSjCubovhThhAOpiGAXLWQ/oRGnheRdKGV9u2j91B2V7GCVYmiXvgxfyPHXNy/sF7JLb5DAgxzMi42okYvEe2GHxIygVl94AYOh1AHrUxh0QxTIMQw+F7z5ugFyzDUbuZnSLxARwG0U20t7l/D8c5pkKvIrHNR+BEDEcaiW1etQxSdlqeiMF7JLZ5CIQYupnB7oTeQAMxgJSyAbYXLMNhs4lOBpilUol0Ok0mk6mu1gaDwXbOPEpDYptHoPfSH3eEG7MJ27ZZXl5mbW1t34aScrlc3Rl969YtTp065VXwT1dQEZncO6ZHcjFIxbZtnn/++bpCqEVRFDY3N1laWvLUQkps8zzsrFbJuuJxY3l5mWw221SjK4rC9vY2q6urHtRMOiYIMUhJX3fcLEOxWCSdTqMoCuFwmOnpwx21joWotwPMDSS2eRHEmGEdONXp1Y6bGJzjAH19fZw9e5abN5sP1r65uelWtXbRbpvbtk0ymayGD4xGo/6tra2AD1jrZsV6Feeg0OTkJLdv327pBntxwgrab/NkMolhGFy4IPLR37hxYxj4AxVhGTrmKI+i61Eul/H5fITDYdbXW2sir0IQKG22eSaTYXp6Gr/fj9/vd7rAx1TgRjcr1sv4/f624iN4ZSVlP4AqLUYeb3ihYyaGYDDY9j7DdqK8tUO7bT4wMMDS0hK6rqPrOktLSwCP+zgRQ11isRhra2u7gnw1SyQS8WRG0W6bj42NkUwmWVhYAMDv938d+LAPeE5GxZykoL2wr0EGiUSCtbU1z6aJrdJJ0lVFUTh16hSnTlUnkR8AKipwjT0RPNrFw+RcrhMKhUgkEi2NF2zbpq+vrzrgvL266tpgUmJbbyM0UPVAXpJxVYlhZnqCyclJYrFYU4KwbZtwOEypVKqmT9Z1ndVkkq1MRqqbusmI8s1yiR0vtCOvi8ArOr2qpmkYhkGxWKRcqaDrOqZhYO5U3Il6GggE6AsGCYVCPe2fUBSFu+66q+FClYNt2wwNDRGPx7l27dq+v2cyGQqFAsPDwwQ7DAa2vb3NVibD/Px8R9epobrU64jhP4D3dnpVRVHYLhTQNI2RkRFCoRCBnYSflmVh7OSmzOfz5PN5NjY3CYVCxGIx/D3axSiKwtTUFCMjI6TTabLZLOVyuZprKhqNkkqlOH36NABzc3OsrKxULYRzDcMwWF1dJR6PE20iyuxeLMtifWMD27aZn5+X+RA97fynVgxSmJqaqju1UlWVQCBAIBCoHtg1DIN0Ok0ymSQUCjE0ONjyl1RVFcMwXA/lEwqFmKwT/tf5Dg59fX3Mzc1VR+p7aeegka7rpNbWiMfjTExMyI6X9e/Of5y5ySKSnE+tVNLn83Hq1Cle8pKXEAwG2xpwRSIRNjY2Wq2mNNLp9L7T6I6gB2IxVFXdNV7YLhRIplJsbGywvb19aHsVi0WSqRRTU1NMTk6iKIpMISxR41qofZyeBH5dRgmtxizUNI3p6WkymQyLi4sMDg7S32TM5NHRURYXFwEYHh72bBBrmibr6+skk0lmZmYAMXbIZDJsbGzg8/lQNY0zZ85QLBbJZDKcPn2aUChUHVflcjk2V1eFtezv35cWIZ/Pk83lOHfuHP39/dVyJfJk7Q+1UeV/FvgHGSU4XUI7lEolrl69SiQS2dW33lhaapjrwdlx1I0IsaOjowSDQTKZDMlkkmAwyNjYGAMDA011eZZlsbW1VfVpDA4MEA6HyeVy5Le3OXfuHH19L8Zdq1QqMr/jm4GvOT/UiiGCWME8NOJbMwQCgbY9ZJVKhStXrhCLRqtPxEFi6Ca6rrOysoJlWZw5c6ajPZHZbFakRtB1UBTm5+d3RZ61LEum36KEOC9RXWKt7SbywLcQIeg7xjCMtq1DIBBgfn6eK1euoPl89LVw9Ny2bSzLqnpE3SSXy3Hr1i1GRkYYHx/veIQfi8WIxWKk02lisdi+9pMcFedJaoQA+zfE/g2SxOA4Rtq9IcFgkOnpaa5fv874zkbTemMR0zSr8/hCoYBhGNUybdtG28k/3d/fTyQSOTTGs67rrK+vU9iZIsfjcaLR/RvINzY2WFtb4+zZs00lJGmFRJ0MNpIdTVAnzcDeTDT9wG0kbZ/vZOzgcOvWLbY2N1FUlVgsVk1LpOs6a2trZDIZBgcHGRgYoL+/f9fNdtIbFAoFcrkcmUwGn8/H0NAQsZ2Rfi1OBpvh4WHi8TjlcpmbN2+SSCR2JQZzyj137pyrAcRrkTxWyCN2t+1ahthrGbaBLwPvkVFip9YBYHx8nGw2S8DvZ21NbMqybZv19XUSiQT33XdfQx+D4xgKBoMMDQ1VR/tra2skk0kSiQTxeLy6mXVlZWXXkx4OhwmFQly+fJlwOEwwGKw6nu6++27PwhS7YBX+mjrrUfVyVD0AfE9Wqc4N6YRisciVK1dIDA+zvrFBIBBgbm6uo+sWi0Vhdba2qvWcn5+va/KTyWR1D2QgEOD8+fOu5pjYS7lclr0F/xXAM3t/2Shh2Q+AH5VVss/n6/gpWllZIZVKEYvFmJ2dlTY4zGazLC0tMTIywtjYWN33WJbFs88+W3UFy06TeBCGYcgeOP6ABtH9GonhbYjuQhqdTDVB3JDFxUVmZmakzxKc2cdBs4GVlRUCgQAjIyNSyz6sXi4sgb8d+Eq9P3iWylBGd9FNJGeC2UWlUhEeyz0id6F7aCuVoQF8FPgTWbWwbbturOmjghtC0HWdF154AV3XsSyLiYmJXbMlF47qfZQD8mE3sgwg0h9fRWRKlYbf7z92m2DaxXG7j4+Po++kDvD7/SKFofw0DTeBuzgg/fFBnW8Z+EPZNXKegjsRXddZXV1lY2ODbDaLYRiMj48DVM8wWJblhhAAPsIBQoCDLQOAH/hfJAUOrSUYDPb0LifZGIbB5cuXicVilMtl8vk8ExMTuwaktm27tQH3MvAjwIEqO0wMAA+xZ6lTBoqiEAgEjqUgHG+nc2P7+/upVCqoqsrExAQgsu4NDg5W/RWOt9SlI/0PA08d9qZmxADwDUSaQ6kcR0Hcvn2bra0thoaGCO0kJs1ms6yvr3PPPffUnVG5LIRvAm9s5o3NimEGeJY92c5koChKNe/VcaCR+73R1jxnjOCSEPLAfTR5UKpZt+Ai8GHbtv+49ij3wMAAY2NjHT3ZzlPRqVOqV2j0HRoJweVDuh+mhRNzzVoGAO3WrVvLlmWNO4Erbty4QSAQkJaBvtG0s1AokM1m0XW9ejI6Go0eafG4NH2s5WngtexEZWmGVlrT3NraCu09yi0zMIVzEHSvydzc3MSyrOr2r1QqxaVLl6qrmEcJx/nmshCywCO0IARoPdqb6w4C0zSxLGvXOOLMmTP73lcoFFheXiaTyTAxMUE6naZQKFRH7c6Zhng83tWMuLW4PD6o5X3A9VY/1KqdfWLvUe7BwcFWyzwUZxxx0GpdOBxmfn6eQCDAc889h6IonD59mvn5eebm5ojH4xSLRRYWFnrCgjgHiDwQwueAL7XzwVbGDCwsLASAPwIeVVU1Njg4qHU6gDy0gk3MNsrlcsNFsEqlQi6Xq/r8vcZDawDwfUQmwrY8Vy2JYQ8TiA0SHQcHawZVVeuu7PUqznFCD13vtxGbVpqPRLaHTlr2JuKsRaGDazSNMw2TvBdQOl2qZwFxBqJtIUDnQcS/i9gs4VmmstrG7na2vFpM0+yWWE3EPfhupxfqpJsAIJ/LEYlGfwX4PNAVv7KmaWia1rAL0XWdZDIpfbZhWRamaXZTlDbwq8AXZFxMihgAItHo+4A/pUuCcFBVtSoMZ2CbzWbJ5XIMDAwQCASwLItisUg2myWTyTA+Pt7UdjbngI4z/e0yNvD+fC73qUidcx3tIE0M0DuCqMURxd4XiJlK7WzDGfHbtr3v1QM3vxYLeF8+l/s0QE+KAXC6jMfZSWhxgnRM4J35XO4J5xeyxCB9npbP5f4CMbKVEjTshF1sA2+uFYJMOrYMB3A/Yh+EJ36IO4BV4E0Ix5IruOnBcYKGuVb5O4jv40Fbuu3OWwZeg/CXn9Aen0O04bLbBXnh2y0B7wZ+GbG0ekJzZIF3INqu5EWBbo4Z6jEHPAE86GWhR5CngUfZidzqFV6v+lxD7L75bU5mG/XYRsRxfi0eCwG8twy1zAKfAF7frQr0GN8C3k8bm1Jk0c314OuI7fcPA/UjaN4ZLCDa4A10UQjQG6mPnwJeiohB6fqIuYe4ifjOL6WJAy5e0M1uoh5B4NeADyL5wG8PsYw4Df0Z2tyR5Ba9JgYHP/AWhCjk5zTuDheBjwF/yyFnHrtFr4qhlgcQc+1fwoUTXS6TRwTTepw6MZR6jaMgBod+hG/+rYgBl5RIti5QQhxU/irwdY7QFPooiaGWGPBTiBPir6P744tl4NuIgeA/cUQ9rUdVDHuZBV4FvBLRrVxAWBI3KCBS+TwDfAfhLfTcQeQGx0UMe1ERru97EEKZQViPESABDCNmLkHAieNXQIzuy4gswGlEYPVlxOHV64hMf9fw4GRZN/h/OknW7nxMXYEAAAAASUVORK5CYII="},gema:function(e,t,a){"use strict";var i=a("vgQg"),s={name:"TemplateDefault",props:{className:{type:String,default:""},color:{type:String,default:"none"}},data:function(){return{height:""}},mounted:function(){this.height=i.a.setTableHeight("ui-default_template",null,!0)}},n={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ui-default_template",class:this.className,style:{height:this.height,backgroundColor:this.color}},[this._t("default")],2)},staticRenderFns:[]};var o=a("VU/8")(s,n,!1,function(e){a("/RC0")},"data-v-5dd6c70e",null);t.a=o.exports},gfkZ:function(e,t,a){"use strict";var i=a("Dd8w"),s=a.n(i),n=a("mtWM"),o=a.n(n),r=a("mw3O"),l=a.n(r),c=a("IcnI");a("zL8q");a("VKKs");var u=a("vgQg"),d=(a("YaEn"),u.a.PRODUCTION_PATH),p=o.a.create({timeout:"20000"}),h=o.a.create({timeout:"20000",headers:{"Content-Type":"multipart/form-data"}});p.interceptors.request.use(function(e){return c.a.commit("SAVE_LOADING_STATE",!0),e},function(e){console.log(e)}),p.interceptors.response.use(function(e){return c.a.commit("SAVE_LOADING_STATE",!1),e},function(e){401===e.response.status?window.parent.postMessage({isOut:1},u.a.IN_PRODUCTION_PATH):402===e.response.status&&window.parent.postMessage({isOut:2},u.a.IN_PRODUCTION_PATH)}),h.interceptors.request.use(function(e){return c.a.commit("SAVE_LOADING_STATE",!0),e},function(e){console.log(e)}),h.interceptors.response.use(function(e){return c.a.commit("SAVE_LOADING_STATE",!1),e},function(e){401===e.response.status?window.parent.postMessage({isOut:1},u.a.IN_PRODUCTION_PATH):402===e.response.status&&window.parent.postMessage({isOut:2},u.a.IN_PRODUCTION_PATH)}),p.getAjax=function(e,t){return t.user_id=c.a.getters.loginInfo.staff_code,p.get(d+e,{params:t})},p.postAjax=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.user_id=c.a.getters.loginInfo.staff_code;var i=l.a.stringify(t);return a&&(i=s()({},t)),p.post(d+e,i)},p.fileAjax=function(e,t){return t.append("user_id",c.a.getters.loginInfo.staff_code),h.post(d+e,t)};t.a=p},jCxq:function(e,t){},japQ:function(e,t){},kea0:function(e,t){},"l+UF":function(e,t){},l9WD:function(e,t){},lW0K:function(e,t){},lmfj:function(e,t){},lvoU:function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,search_type:1},l.a.ajaxData,e);if(t.excelType){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return 1===t.excelType?window.open("/sample_control/sample_check_record/export_current_page"+a,"_self"):window.open("/sample_control/sample_check_record/export_all_page"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/sample_control/sample_check_record/spu_check_record",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/sample_control/sample_check_record/get_user_by_dep",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},"mE+D":function(e,t){},mUbh:function(e,t){},mtJv:function(e,t){},n4oI:function(e,t){},oCdb:function(e,t){},pb0h:function(e,t){},"pk/B":function(e,t){},rIwv:function(e,t){},"rOP+":function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,search_type:1},l.a.ajaxData,e);if(t.is_csv){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/quality/product/product_exception_list"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/quality/product/product_exception_list",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},rlpl:function(e,t,a){"use strict";t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/sample/sample/select_sample_list",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.getAjax("/sample/sample/sample_create_order_info",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/sample/sample/submit_sample_info",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);switch(t.status){case 1:return r.a.getAjax("/sample/Sample/cancel_sample_spu",t);case 2:return r.a.getAjax("/sample/sample/update_sample_order_price",t);case 3:return r.a.postAjax("/sample/sample/send_sample_order_to_purchase",t)}},t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/sample/Sample/spu_assign",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},"s/5+":function(e,t){},sGlQ:function(e,t){},spQY:function(e,t,a){e.exports=a.p+"static/img/functional_group.4a89528.jpg"},tvR6:function(e,t){},ubR4:function(e,t){},"v+6a":function(e,t){},vaP2:function(e,t){},vgQg:function(e,t,a){"use strict";var i=0,s=(window.innerHeight,30),n=0,o={ajaxData:{request_type:1},pageData:{pageSize:20,pageTotal:0,pageSizes:[20,50,100,200]},departmentInfo:{1:"开发",2:"品控",3:"摄影",4:"文案",5:"美工"},setTableHeight:function(e,t,a){var o=["ui-search-area","ui-fn-module","ui-main-module-page"];t&&t.length&&(o=o.concat(t));for(var r=window.getEleAttr("."+e),l=i+s+(a?0:n),c=navigator.userAgent,u=0;u<o.length;u++){var d=window.getEleAttr("."+o[u],r);if(d){l+=d.offsetHeight;var p=void 0,h=void 0,_=document.defaultView.getComputedStyle(d);if(c.indexOf("Firefox")>-1)h=parseInt(_["margin-top"])+parseInt(_["margin-bottom"]);else if(c.indexOf("compatible")>-1&&c.indexOf("MSIE")>-1&&!c.indexOf("Opera")>-1){var m=d.currentStyle;h=parseInt(m.marginTop)+parseInt(m.marginBottom)}else p=_.margin.split(" "),h=parseInt(p[2])?parseInt(p[0])+parseInt(p[2]):parseInt(p[0]);l=h+l}}return(l=window.innerHeight-l)+"px"},HOME_PATH:"http://192.168.9.126:8864",IN_PRODUCTION_PATH:document.referrer,IN_DEVELOPMENT_PATH:"http://192.168.9.126:8864",PRODUCTION_PATH:window.location.origin,FIP_PATH:window.location.origin,SEARCH_DATE_WIDTH:"438",RULE_CONFIG:{phone:{pattern:/^[0-9]{11}$/,trigger:"blur",message:"输入有误！"},number:{pattern:/^[0-9]+$/,trigger:"blur",message:"输入有误！"},idNumber:{pattern:/^[0-9A-Za-z]+$/,trigger:"blur",message:"输入有误！"},email:{pattern:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,trigger:"blur",message:"输入有误！"},requiredBlur:[{required:!0,trigger:"blur",message:"带*号不能为空！"},{pattern:/^[!@#$%^&*()_=\-+{}\[\]':;"“”，。,.\?\/A-Za-z0-9<>\u4e00-\u9fa5]+/,trigger:"blur",message:"输入有误！"}],requiredChange:{required:!0,trigger:"change",message:"带*号不能为空！"},image:[".png",".jpeg",".gif",".jpg"]}};t.a=o},"w/9h":function(e,t){},"w/Kb":function(e,t){},wJMH:function(e,t){},wyUS:function(e,t){},xHCD:function(e,t){},xjYG:function(e,t){},yU0p:function(e,t){},yUfc:function(e,t,a){"use strict";t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({limit:20,offset:1,group_type:1},l.a.ajaxData,e);if(t.isExcel){var a="?";for(var i in t)a=a+"&"+i+"="+(t[i]||"");return window.open("/supplier/supplier/create_supplier"+a,"_self"),new s.a(function(e){e({data:{status:2}})})}return r.a.getAjax("/system/group/get_group_list",t)},t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/group/add_group_info",t)},t.f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/group/edit_group_info",t)},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/group/add_top_group",t)},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/group/edit_top_group",t)},t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/group/delete_group",t)},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()({},l.a.ajaxData,e);return r.a.postAjax("/system/group/delete_top_group ",t)};var i=a("//Fk"),s=a.n(i),n=a("Dd8w"),o=a.n(n),r=a("gfkZ"),l=a("vgQg")},yaPD:function(e,t){},yb9K:function(e,t,a){e.exports=a.p+"static/img/appearance_group.64346c8.jpg"},zQoJ:function(e,t){},zfm5:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.10312fdb44f315963f4c.js.map